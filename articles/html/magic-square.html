<html><head>  <link rel="stylesheet" type="text/css" href="../styles/style.css">
</head><body>
  <nav class="top-nav"><a href="/">&larr; Back to Contents</a></nav><div class="mw-parser-output"><div class="shortdescription nomobile noexcerpt noprint searchaux" style="display:none">Sums of each row, column, and main diagonals are equal</div>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Magicsquareexample.svg/220px-Magicsquareexample.svg.png" decoding="async" width="220" height="171" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Magicsquareexample.svg/330px-Magicsquareexample.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Magicsquareexample.svg/440px-Magicsquareexample.svg.png 2x" data-file-width="180" data-file-height="140"> <div class="thumbcaption"><div class="magnify"> </div>The smallest (and unique <span class="hyperlink-click" data-id="643947150">up to</span> rotation and reflection) non-trivial case of a magic square, order 3</div></div></div>
<p>In <span class="hyperlink-click" data-id="643947154">recreational mathematics</span>, a square array of numbers, usually positive integers, is called a <b>magic square</b> if the sums of the numbers in each row, each column, and both main diagonals are the same. The <b>order</b> of the magic square is the number of integers along one side (<i>n</i>), and the constant sum is called the <b><span class="hyperlink-click" data-id="643947158">magic constant</span></b>. If the array includes just the positive integers <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle 1,2,...,n^{2}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>1</mn>
        <mo>,</mo>
        <mn>2</mn>
        <mo>,</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>,</mo>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 1,2,...,n^{2}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/887eb3a03b3a8a0b8ba6b076593fdf802bbdf3ae" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:10.978ex; height:3.009ex;" alt="{\displaystyle 1,2,...,n^{2}}"></span>, the magic square is said to be <b>normal</b>. Some authors take magic square to mean normal magic square.
</p><p>Magic squares that include repeated entries do not fall under this definition and are referred to as <b>trivial</b>. Some well-known examples, including the Sagrada Família magic square and the Parker square are trivial in this sense. When all the rows and columns but not both diagonals sum to the magic constant we have <b>semimagic</b> squares (sometimes called <b>orthomagic</b> squares).
</p><p>The mathematical study of magic squares typically deals with its construction, classification, and enumeration. Although completely general methods for producing all the magic squares of all orders do not exist, historically three general techniques have been discovered: by bordering method, by making composite magic squares, and by adding two preliminary squares. There are also more specific strategies like the continuous enumeration method that reproduces specific patterns. Magic squares are generally classified according to their order <i>n</i> as: odd if <i>n</i> is odd, evenly even (also referred to as "doubly even") if <i>n</i> is a multiple of 4, oddly even (also known as "singly even") if <i>n</i> is any other even number. This classification is based on different techniques required to construct odd, evenly even, and oddly even squares. Beside this, depending on further properties, magic squares are also classified as <span class="hyperlink-click" data-id="643947161">associative magic squares</span>, <span class="hyperlink-click" data-id="643947166">pandiagonal magic squares</span>, <span class="hyperlink-click" data-id="643947168">most-perfect magic squares</span>, and so on. More challengingly, attempts have also been made to classify all the magic squares of a given order as transformations of a smaller set of squares. Except for <i>n</i> ≤ 5, the enumeration of higher order magic squares is still an open challenge. The enumeration of most-perfect magic squares of any order was only accomplished in the late 20th century.
</p><p>Magic squares have a long history, dating back to at least 190 BCE in China. At various times they have acquired occult or mythical significance, and have appeared as symbols in works of art. In modern times they have been generalized a number of ways, including using extra or different constraints, multiplying instead of adding cells, using alternate shapes or more than two dimensions, and replacing numbers with shapes and addition with geometric operations.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/18/D%C3%BCrer_Melancholia_I.jpg/220px-D%C3%BCrer_Melancholia_I.jpg" decoding="async" width="220" height="280" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/18/D%C3%BCrer_Melancholia_I.jpg/330px-D%C3%BCrer_Melancholia_I.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/18/D%C3%BCrer_Melancholia_I.jpg/440px-D%C3%BCrer_Melancholia_I.jpg 2x" data-file-width="3146" data-file-height="4000"> <div class="thumbcaption"><div class="magnify"> </div> Dürer 's <i>Melancholia I</i> (1514) includes an order 4 square with magic sum 34</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="Albrecht Dürer - Melencolia I (detail).jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg/220px-Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg" decoding="async" width="220" height="229" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg/330px-Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg/440px-Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg 2x" data-file-width="555" data-file-height="578"> <div class="thumbcaption"><div class="magnify"> </div></div></div></div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2>History</h2>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/2d/Yuan_dynasty_iron_magic_square.jpg/220px-Yuan_dynasty_iron_magic_square.jpg" decoding="async" width="220" height="193" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/2d/Yuan_dynasty_iron_magic_square.jpg/330px-Yuan_dynasty_iron_magic_square.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/2/2d/Yuan_dynasty_iron_magic_square.jpg/440px-Yuan_dynasty_iron_magic_square.jpg 2x" data-file-width="1608" data-file-height="1409"> <div class="thumbcaption"><div class="magnify"> </div>Iron plate with an order 6 magic square in <span class="hyperlink-click" data-id="643947215">Eastern Arabic numerals</span> from China, dating to the <span class="hyperlink-click" data-id="643947217">Yuan Dynasty</span> (1271–1368).</div></div></div>
<p>The third order magic square was known to Chinese mathematicians as early as 190 BCE, and explicitly given by the first century of the common era. The first dateable instance of the fourth-order magic square occur in 587 CE in India. Specimens of magic squares of order 3 to 9 appear in an encyclopedia from <span class="hyperlink-click" data-id="643947220">Baghdad</span> <abbr title="circa">c.</abbr><span style="white-space:nowrap;"> 983</span>, the <i><span class="hyperlink-click" data-id="643947285">Encyclopedia of the Brethren of Purity</span></i> (<i>Rasa'il Ikhwan al-Safa</i>). By the end of 12th century, the general methods for constructing magic squares were well established. Around this time, some of these squares were increasingly used in conjunction with magic letters, as in <span class="hyperlink-click" data-id="643947287">Shams Al-ma'arif</span>, for occult purposes. In India, all the fourth-order pandiagonal magic squares were enumerated by Narayana in 1356. Magic squares were made known to Europe through translation of Arabic sources as occult objects during the Renaissance, and the general theory had to be re-discovered independent of prior developments in China, India, and Middle East. Also notable are the ancient cultures with a tradition of mathematics and numerology that did not discover the magic squares: Greeks, Babylonians, Egyptians, and Pre-Columbian Americans.
</p><p><b>China</b>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Suanfatongzong-790-790.jpg/220px-Suanfatongzong-790-790.jpg" decoding="async" width="220" height="347" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Suanfatongzong-790-790.jpg/330px-Suanfatongzong-790-790.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Suanfatongzong-790-790.jpg/440px-Suanfatongzong-790-790.jpg 2x" data-file-width="919" data-file-height="1450"> <div class="thumbcaption"><div class="magnify"> </div>A page displaying 9×9 magic square from Cheng Dawei's <i>Suanfa tongzong</i> (1593).</div></div></div>
<p>While ancient references to the pattern of even and odd numbers in the 3×3 magic square appears in the <i><span class="hyperlink-click" data-id="643947290">I Ching</span></i>, the first unequivocal instance of this magic square appears in the chapter called <i>Mingtang</i> (Bright Hall) of a 1st-century book <i>Da Dai Liji</i> (Record of Rites by the Elder Dai), which purported to describe ancient Chinese rites of the Zhou dynasty. 
 These numbers also occur in a possibly earlier mathematical text called <i>Shushu jiyi</i> (Memoir on Some Traditions of Mathematical Art), said to be written in 190 BCE. This is the earliest appearance of a magic square on record; and it was mainly used for divination and astrology. The 3×3 magic square was referred to as the "Nine Halls" by earlier Chinese mathematicians. The identification of the 3×3 magic square to the legendary Luoshu chart was only made in the 12th century, after which it was referred to as the Luoshu square. The oldest surviving Chinese treatise that displays magic squares of order larger than 3 is <span class="hyperlink-click" data-id="643947292">Yang Hui</span>'s <i>Xugu zheqi suanfa</i> (Continuation of Ancient Mathematical Methods for Elucidating the Strange) written in 1275. The contents of Yang Hui's treatise were collected from older works, both native and foreign; and he only explains the construction of third and fourth-order magic squares, while merely passing on the finished diagrams of larger squares. He gives a magic square of order 3, two squares for each order of 4 to 8, one of order nine, and one semi-magic square of order 10. He also gives six magic circles of varying complexity.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>4</td>
<td>9</td>
<td>2
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>8</td>
<td>1</td>
<td>6
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>16</td>
<td>13</td>
<td>3
</td></tr>
<tr>
<td>11</td>
<td>5</td>
<td>8</td>
<td>10
</td></tr>
<tr>
<td>7</td>
<td>9</td>
<td>12</td>
<td>6
</td></tr>
<tr>
<td>14</td>
<td>4</td>
<td>1</td>
<td>15
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>23</td>
<td>16</td>
<td>4</td>
<td>21
</td></tr>
<tr>
<td>15</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">18</td>
<td>11
</td></tr>
<tr>
<td>24</td>
<td style="background-color: silver;">17</td>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">9</td>
<td>2
</td></tr>
<tr>
<td>20</td>
<td style="background-color: silver;">8</td>
<td style="background-color: silver;">19</td>
<td style="background-color: silver;">12</td>
<td>6
</td></tr>
<tr>
<td>5</td>
<td>3</td>
<td>10</td>
<td>22</td>
<td>25
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">22</td>
<td>18</td>
<td>27</td>
<td style="background-color: silver;">11</td>
<td style="background-color: silver;">20
</td></tr>
<tr>
<td style="background-color: silver;">31</td>
<td style="background-color: silver;"><b>4</b></td>
<td>36</td>
<td><b>9</b></td>
<td style="background-color: silver;">29</td>
<td style="background-color: silver;"><b>2</b>
</td></tr>
<tr>
<td>12</td>
<td>21</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">23</td>
<td>16</td>
<td>25
</td></tr>
<tr>
<td>30</td>
<td><b>3</b></td>
<td style="background-color: silver;"><b>5</b></td>
<td style="background-color: silver;">32</td>
<td>34</td>
<td><b>7</b>
</td></tr>
<tr>
<td style="background-color: silver;">17</td>
<td style="background-color: silver;">26</td>
<td>10</td>
<td>19</td>
<td style="background-color: silver;">15</td>
<td style="background-color: silver;">24
</td></tr>
<tr>
<td style="background-color: silver;"><b>8</b></td>
<td style="background-color: silver;">35</td>
<td>28</td>
<td><b>1</b></td>
<td style="background-color: silver;"><b>6</b></td>
<td style="background-color: silver;">33
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:14em;height:14em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">46</td>
<td style="background-color: silver;">8</td>
<td style="background-color: silver;">16</td>
<td style="background-color: silver;">20</td>
<td style="background-color: silver;">29</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">49
</td></tr>
<tr>
<td style="background-color: silver;">3</td>
<td>40</td>
<td>35</td>
<td>36</td>
<td>18</td>
<td>41</td>
<td style="background-color: silver;">2
</td></tr>
<tr>
<td style="background-color: silver;">44</td>
<td>12</td>
<td style="background-color: silver;">33</td>
<td style="background-color: silver;">23</td>
<td style="background-color: silver;">19</td>
<td>38</td>
<td style="background-color: silver;">6
</td></tr>
<tr>
<td style="background-color: silver;">28</td>
<td>26</td>
<td style="background-color: silver;">11</td>
<td style="background-color: silver;">25</td>
<td style="background-color: silver;">39</td>
<td>24</td>
<td style="background-color: silver;">22
</td></tr>
<tr>
<td style="background-color: silver;">5</td>
<td>37</td>
<td style="background-color: silver;">31</td>
<td style="background-color: silver;">27</td>
<td style="background-color: silver;">17</td>
<td>13</td>
<td style="background-color: silver;">45
</td></tr>
<tr>
<td style="background-color: silver;">48</td>
<td>9</td>
<td>15</td>
<td>14</td>
<td>32</td>
<td>10</td>
<td style="background-color: silver;">47
</td></tr>
<tr>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">43</td>
<td style="background-color: silver;">34</td>
<td style="background-color: silver;">30</td>
<td style="background-color: silver;">21</td>
<td style="background-color: silver;">42</td>
<td style="background-color: silver;">4
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>61</td>
<td>3</td>
<td>2</td>
<td>64</td>
<td style="background-color: silver;">57</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">6</td>
<td style="background-color: silver;">60
</td></tr>
<tr>
<td>12</td>
<td>54</td>
<td>55</td>
<td>9</td>
<td style="background-color: silver;">16</td>
<td style="background-color: silver;">50</td>
<td style="background-color: silver;">51</td>
<td style="background-color: silver;">13
</td></tr>
<tr>
<td>20</td>
<td>46</td>
<td style="border-left:double; border-top:double;">47</td>
<td style="border-top:double;">17</td>
<td style="background-color: silver; border-top:double;">24</td>
<td style="background-color: silver; border-top:double; border-right:double;">42</td>
<td style="background-color: silver;">43</td>
<td style="background-color: silver;">21
</td></tr>
<tr>
<td>37</td>
<td>27</td>
<td style="border-left:double;">26</td>
<td>40</td>
<td style="background-color: silver;">33</td>
<td style="background-color: silver; border-right:double;">31</td>
<td style="background-color: silver;">30</td>
<td style="background-color: silver;">36
</td></tr>
<tr>
<td style="background-color: silver;">29</td>
<td style="background-color: silver;">35</td>
<td style="background-color: silver; border-left:double;">34</td>
<td style="background-color: silver;">32</td>
<td>25</td>
<td style="border-right:double;">39</td>
<td>38</td>
<td>28
</td></tr>
<tr>
<td style="background-color: silver;">44</td>
<td style="background-color: silver;">22</td>
<td style="background-color: silver; border-left:double; border-bottom:double;">23</td>
<td style="background-color: silver; border-bottom:double;">41</td>
<td style="border-bottom:double;">48</td>
<td style="border-right:double; border-bottom:double;">18</td>
<td>19</td>
<td>45
</td></tr>
<tr>
<td style="background-color: silver;">52</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">15</td>
<td style="background-color: silver;">49</td>
<td>56</td>
<td>10</td>
<td>11</td>
<td>53
</td></tr>
<tr>
<td style="background-color: silver;">5</td>
<td style="background-color: silver;">59</td>
<td style="background-color: silver;">58</td>
<td style="background-color: silver;">8</td>
<td>1</td>
<td>63</td>
<td>62</td>
<td>4
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:18em;height:18em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">31</td>
<td style="background-color: silver;">76</td>
<td style="background-color: silver;">13</td>
<td>36</td>
<td>81</td>
<td>18</td>
<td style="background-color: silver;">29</td>
<td style="background-color: silver;">74</td>
<td style="background-color: silver;">11
</td></tr>
<tr>
<td style="background-color: silver;">22</td>
<td style="background-color: silver;">40</td>
<td style="background-color: silver;">58</td>
<td>27</td>
<td>45</td>
<td>63</td>
<td style="background-color: silver;">20</td>
<td style="background-color: silver;">38</td>
<td style="background-color: silver;">56
</td></tr>
<tr>
<td style="background-color: silver;">67</td>
<td style="background-color: silver;"><b>4</b></td>
<td style="background-color: silver;">49</td>
<td>72</td>
<td><b>9</b></td>
<td>54</td>
<td style="background-color: silver;">65</td>
<td style="background-color: silver;"><b>2</b></td>
<td style="background-color: silver;">47
</td></tr>
<tr>
<td>30</td>
<td>75</td>
<td>12</td>
<td style="background-color: silver;">32</td>
<td style="background-color: silver;">77</td>
<td style="background-color: silver;">14</td>
<td>34</td>
<td>79</td>
<td>16
</td></tr>
<tr>
<td>21</td>
<td>39</td>
<td>57</td>
<td style="background-color: silver;">23</td>
<td style="background-color: silver;">41</td>
<td style="background-color: silver;">59</td>
<td>25</td>
<td>43</td>
<td>61
</td></tr>
<tr>
<td>66</td>
<td><b>3</b></td>
<td>48</td>
<td style="background-color: silver;">68</td>
<td style="background-color: silver;"><b>5</b></td>
<td style="background-color: silver;">50</td>
<td>70</td>
<td><b>7</b></td>
<td>52
</td></tr>
<tr>
<td style="background-color: silver;">35</td>
<td style="background-color: silver;">80</td>
<td style="background-color: silver;">17</td>
<td>28</td>
<td>73</td>
<td>10</td>
<td style="background-color: silver;">33</td>
<td style="background-color: silver;">78</td>
<td style="background-color: silver;">15
</td></tr>
<tr>
<td style="background-color: silver;">26</td>
<td style="background-color: silver;">44</td>
<td style="background-color: silver;">62</td>
<td>19</td>
<td>37</td>
<td>55</td>
<td style="background-color: silver;">24</td>
<td style="background-color: silver;">42</td>
<td style="background-color: silver;">60
</td></tr>
<tr>
<td style="background-color: silver;">71</td>
<td style="background-color: silver;"><b>8</b></td>
<td style="background-color: silver;">53</td>
<td>64</td>
<td><b>1</b></td>
<td>46</td>
<td style="background-color: silver;">69</td>
<td style="background-color: silver;"><b>6</b></td>
<td style="background-color: silver;">51
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The above magic squares of orders 3 to 9 are taken from Yang Hui's treatise, in which the Luo Shu principle is clearly evident. The order 5 square is a bordered magic square, with central 3×3 square formed according to Luo Shu principle. The order 9 square is a composite magic square, in which the nine 3×3 sub squares are also magic. After Yang Hui, magic squares frequently occur in Chinese mathematics such as in Ding Yidong's <i>Dayan suoyin</i> (<abbr title="circa">c.</abbr><span style="white-space:nowrap;"> 1300</span>), <span class="hyperlink-click" data-id="643947293">Cheng Dawei</span>'s <i><span class="hyperlink-click" data-id="643947294">Suanfa tongzong</span></i> (1593), Fang Zhongtong's <i>Shuduyan</i> (1661) which contains magic circles, cubes and spheres, Zhang Chao's <i>Xinzhai zazu</i> (<abbr title="circa">c.</abbr><span style="white-space:nowrap;"> 1650</span>), who published China's first magic square of order ten, and lastly Bao Qishou's <i>Binaishanfang ji</i> (<abbr title="circa">c.</abbr><span style="white-space:nowrap;"> 1880</span>), who gave various three dimensional magic configurations. However, despite being the first to discover the magic squares and getting a head start by several centuries, the Chinese development of the magic squares are much inferior compared to the Indian, Middle Eastern, or European developments. The high point of Chinese mathematics that deals with the magic squares seems to be contained in the work of Yang Hui; but even as a collection of older methods, this work is much more primitive, lacking general methods for constructing magic squares of any order, compared to a similar collection written around the same time by the Byzantine scholar <span class="hyperlink-click" data-id="643947295">Manuel Moschopoulos</span>. This is possibly because of the Chinese scholars' enthralment with the Lo Shu principle, which they tried to adapt to solve higher squares; and after Yang Hui and the fall of <span class="hyperlink-click" data-id="643947217">Yuan dynasty</span>, their systematic purging of the foreign influences in Chinese mathematics.
</p>
<h3>Japan</h3>
<p>Japan and China have similar mathematical traditions and have repeatedly influenced each other in the history of magic squares. The Japanese interest in magic squares began after the dissemination of Chinese works—Yang Hui's <i>Suanfa</i> and Cheng Dawei's <i>Suanfa tongzong</i>—in the 17th century, and as a result, almost all the <i><span class="hyperlink-click" data-id="643947297">wasans</span></i> devoted their time to its study. 
</p><p>In the 1660 edition of <i>Ketsugi-sho</i>, Isomura Kittoku gave both odd and even ordered bordered magic squares as well as magic circles; while the 1684 edition of the same book contained a large section on magic squares, demonstrating that he had a general method for constructing bordered magic squares. In <i>Jinko-ki</i> (1665) by Muramatsu Kudayu Mosei, both magic squares and magic circles are displayed. The largest square Mosei constructs is of 19th order. Various magic squares and magic circles were also published by Nozawa Teicho in <i>Dokai-sho</i> (1666), Sato Seiko in <i>Kongenki</i> (1666), and Hosino Sanenobu in <i>Ko-ko-gen Sho</i> (1673). One of <span class="hyperlink-click" data-id="643947298">Seki Takakazu</span>'s <i>Seven Books</i> (<i>Hojin Yensan</i>) (1683) is devoted completely to magic squares and circles. This is the first Japanese book to give a general treatment of magic squares in which the algorithms for constructing odd, singly even and doubly even bordered magic squares are clearly described. In 1694 and 1695, Yueki Ando gave different methods to create the magic squares and displayed squares of order 3 to 30. A fourth-order magic cube was constructed by Yoshizane Tanaka (1651–1719) in <i>Rakusho-kikan</i> (1683). The study of magic squares was continued by Seki's pupils, notably by Katahiro Takebe, whose squares were displayed in the fourth volume of <i>Ichigen Kappo</i> by Shukei Irie, Yoshisuke Matsunaga in <i>Hojin-Shin-jutsu</i>, Yoshihiro Kurushima in <i>Kyushi Iko</i> who rediscovered a method to produce the odd squares given by Agrippa, and <span class="hyperlink-click" data-id="643947299">Naonobu Ajima</span>. Thus by the beginning of the 18th century, the Japanese mathematicians were in possession of methods to construct magic squares of arbitrary order. After this, attempts at enumerating the magic squares was initiated by Nushizumi Yamaji.
</p>
<h3>India</h3>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/91/Hindi_Manuscript_317%2C_folio_2b_Wellcome_L0024035.jpg/220px-Hindi_Manuscript_317%2C_folio_2b_Wellcome_L0024035.jpg" decoding="async" width="220" height="277" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/91/Hindi_Manuscript_317%2C_folio_2b_Wellcome_L0024035.jpg/330px-Hindi_Manuscript_317%2C_folio_2b_Wellcome_L0024035.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/91/Hindi_Manuscript_317%2C_folio_2b_Wellcome_L0024035.jpg/440px-Hindi_Manuscript_317%2C_folio_2b_Wellcome_L0024035.jpg 2x" data-file-width="1232" data-file-height="1552"> <div class="thumbcaption"><div class="magnify"> </div>The 3×3 magic square in different orientations forming a non-normal 6×6 magic square, from an unidentified 19th century Indian manuscript.</div></div></div>
<p>The 3×3 magic square first appears in India in <i>Gargasamhita</i> by Garga, who recommends its use to pacify the nine planets (<i>navagraha</i>). The oldest version of this text dates from 100 CE, but the passage on planets could not have been written earlier than 400 CE. The first dateable instance of 3×3 magic square in India occur in a medical text <i>Siddhayog</i> (c. 900 CE) by Vrnda, which was prescribed to women in labor in order to have easy delivery.
</p><p>The oldest dateable fourth order magic square in the world is found in an encyclopaedic work written by <span class="hyperlink-click" data-id="643947300">Varahamihira</span> around 587 CE called <i>Brhat Samhita</i>. The magic square is constructed for the purpose of making perfumes using 4 substances selected from 16 different substances. Each cell of the square represents a particular ingredient, while the number in the cell represents the proportion of the associated ingredient, such that the mixture of any four combination of ingredients along the columns, rows, diagonals, and so on, gives the total volume of the mixture to be 18. Although the book is mostly about divination, the magic square is given as a matter of combinatorial design, and no magical properties are attributed to it. The special features of this magic square what commented on by Bhattotpala (c. 966 CE) 
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>3</td>
<td>5</td>
<td>8
</td></tr>
<tr>
<td>5</td>
<td>8</td>
<td>2</td>
<td>3
</td></tr>
<tr>
<td>4</td>
<td>1</td>
<td>7</td>
<td>6
</td></tr>
<tr>
<td>7</td>
<td>6</td>
<td>4</td>
<td>1
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td>3</td>
<td>13</td>
<td>8
</td></tr>
<tr>
<td>5</td>
<td>16</td>
<td>2</td>
<td>11
</td></tr>
<tr>
<td>4</td>
<td>9</td>
<td>7</td>
<td>14
</td></tr>
<tr>
<td>15</td>
<td>6</td>
<td>12</td>
<td>1
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The square of Varahamihira as given above has sum of 18. Here the numbers 1 to 8 appear twice in the square. It is a <span class="hyperlink-click" data-id="643947166">pan-diagonal magic square</span>. Four different magic squares can be obtained by adding 8 to one of the two sets of 1 to 8 sequence. The sequence is selected such that the number 8 is added exactly twice in each row, each column and each of the main diagonals. One of the possible magic squares shown in the right side. This magic square is remarkable in that it is a 90 degree rotation of a magic square that appears in the 13th century Islamic world as one of the most popular magic squares.
</p><p>The construction of 4th-order magic square is detailed in a work titled <i>Kaksaputa</i>, composed by the alchemist <span class="hyperlink-click" data-id="643947302">Nagarjuna</span> around 10th century CE. All of the squares given by Nagarjuna are 4×4 magic squares, and one of them is called <i>Nagarjuniya</i> after him. Nagarjuna gave a method of constructing 4×4 magic square using a primary skeleton square, given an odd or even magic sum. The Nagarjuniya square is given below, and has the sum total of 100.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>30</td>
<td>16</td>
<td>18</td>
<td>36
</td></tr>
<tr>
<td>10</td>
<td>44</td>
<td>22</td>
<td>24
</td></tr>
<tr>
<td>32</td>
<td>14</td>
<td>20</td>
<td>34
</td></tr>
<tr>
<td>28</td>
<td>26</td>
<td>40</td>
<td>6
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td><b>7</b></td>
<td>1</td>
<td><b>4</b></td>
<td>6
</td></tr>
<tr>
<td><b>2</b></td>
<td>8</td>
<td><b>5</b></td>
<td>3
</td></tr>
<tr>
<td>5</td>
<td><b>3</b></td>
<td>2</td>
<td><b>8</b>
</td></tr>
<tr>
<td>4</td>
<td><b>6</b></td>
<td>7</td>
<td><b>1</b>
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The Nagarjuniya square is a <span class="hyperlink-click" data-id="643947166">pan-diagonal magic square</span>. The Nagarjuniya square is made up of two arithmetic progressions starting from 6 and 16 with eight terms each, with a common difference between successive terms as 4. When these two progressions are reduced to the normal progression of 1 to 8, we obtain the adjacent square.
</p><p>Around 12th-century, a 4×4 magic square was inscribed on the wall of <span class="hyperlink-click" data-id="643947304">Parshvanath</span> temple in <span class="hyperlink-click" data-id="643947305">Khajuraho</span>, India. Several Jain hymns teach how to make magic squares, although they are undateable.
</p><p>As far as is known, the first systematic study of magic squares in India was conducted by <span class="hyperlink-click" data-id="643947306">Thakkar Pheru</span>, a Jain scholar, in his <i>Ganitasara Kaumudi</i> (c. 1315). This work contains a small section on magic squares which consists of nine verses. Here he gives a square of order four, and alludes to its rearrangement; classifies magic squares into three (odd, evenly even, and oddly even) according to its order; gives a square of order six; and prescribes one method each for constructing even and odd squares. For the even squares, Pheru divides the square into component squares of order four, and puts the numbers into cells according to the pattern of a standard square of order four. For odd squares, Pheru gives the method using horse move or knight's move. Although algorithmically different, it gives the same square as the De la Loubere's method.
</p><p>The next comprehensive work on magic squares was taken up by <span class="hyperlink-click" data-id="643947307">Narayana Pandit</span>, who in the fourteenth chapter of his <i>Ganita Kaumudi</i> (1356) gives general methods for their construction, along with the principles governing such constructions. It consists of 55 verses for rules and 17 verses for examples. Narayana gives a method to construct all the pan-magic squares of fourth order using knight's move; enumerates the number of pan-diagonal magic squares of order four, 384, including every variation made by rotation and reflection; three general methods for squares having any order and constant sum when a standard square of the same order is known; two methods each for constructing evenly even, oddly even, and odd squares when the sum is given. While Narayana describes one older method for each species of square, he claims the method of superposition for evenly even and odd squares and a method of interchange for oddly even squares to be his own invention. The superposition method was later re-discovered by De la Hire in Europe. In the last section, he conceives of other figures, such as circles, rectangles, and hexagons, in which the numbers may be arranged to possess properties similar to those of magic squares. Below are some of the magic squares constructed by Narayana:
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>8</td>
<td>1</td>
<td>6
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>4</td>
<td>9</td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>14</td>
<td>4</td>
<td>15
</td></tr>
<tr>
<td>8</td>
<td>11</td>
<td>5</td>
<td>10
</td></tr>
<tr>
<td>13</td>
<td>2</td>
<td>16</td>
<td>3
</td></tr>
<tr>
<td>12</td>
<td>7</td>
<td>9</td>
<td>6
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>16</td>
<td>14</td>
<td>7</td>
<td>30</td>
<td>23
</td></tr>
<tr>
<td>24</td>
<td>17</td>
<td>10</td>
<td>8</td>
<td>31
</td></tr>
<tr>
<td>32</td>
<td>25</td>
<td>18</td>
<td>11</td>
<td>4
</td></tr>
<tr>
<td>5</td>
<td>28</td>
<td>26</td>
<td>19</td>
<td>12
</td></tr>
<tr>
<td>13</td>
<td>6</td>
<td>29</td>
<td>22</td>
<td>20
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>35</td>
<td>4</td>
<td>33</td>
<td>32</td>
<td>6
</td></tr>
<tr>
<td>25</td>
<td>11</td>
<td>9</td>
<td>28</td>
<td>8</td>
<td>30
</td></tr>
<tr>
<td>24</td>
<td>14</td>
<td>18</td>
<td>16</td>
<td>17</td>
<td>22
</td></tr>
<tr>
<td>13</td>
<td>23</td>
<td>19</td>
<td>21</td>
<td>20</td>
<td>15
</td></tr>
<tr>
<td>12</td>
<td>26</td>
<td>27</td>
<td>10</td>
<td>29</td>
<td>7
</td></tr>
<tr>
<td>36</td>
<td>2</td>
<td>34</td>
<td>3</td>
<td>5</td>
<td>31
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:14em;height:14em;table-layout:fixed;">

<tbody><tr>
<td>35</td>
<td>26</td>
<td>17</td>
<td>1</td>
<td>62</td>
<td>53</td>
<td>44
</td></tr>
<tr>
<td>46</td>
<td>37</td>
<td>21</td>
<td>12</td>
<td>3</td>
<td>64</td>
<td>55
</td></tr>
<tr>
<td>57</td>
<td>41</td>
<td>32</td>
<td>23</td>
<td>14</td>
<td>5</td>
<td>66
</td></tr>
<tr>
<td>61</td>
<td>52</td>
<td>43</td>
<td>34</td>
<td>25</td>
<td>16</td>
<td>7
</td></tr>
<tr>
<td>2</td>
<td>63</td>
<td>54</td>
<td>45</td>
<td>36</td>
<td>27</td>
<td>11
</td></tr>
<tr>
<td>13</td>
<td>4</td>
<td>65</td>
<td>56</td>
<td>47</td>
<td>31</td>
<td>22
</td></tr>
<tr>
<td>24</td>
<td>15</td>
<td>6</td>
<td>67</td>
<td>51</td>
<td>42</td>
<td>33
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>60</td>
<td>53</td>
<td>44</td>
<td>37</td>
<td>4</td>
<td>13</td>
<td>20</td>
<td>29
</td></tr>
<tr>
<td>3</td>
<td>14</td>
<td>19</td>
<td>30</td>
<td>59</td>
<td>54</td>
<td>43</td>
<td>38
</td></tr>
<tr>
<td>58</td>
<td>55</td>
<td>42</td>
<td>39</td>
<td>2</td>
<td>15</td>
<td>18</td>
<td>31
</td></tr>
<tr>
<td>1</td>
<td>16</td>
<td>17</td>
<td>32</td>
<td>57</td>
<td>56</td>
<td>41</td>
<td>40
</td></tr>
<tr>
<td>61</td>
<td>52</td>
<td>45</td>
<td>36</td>
<td>5</td>
<td>12</td>
<td>21</td>
<td>28
</td></tr>
<tr>
<td>6</td>
<td>11</td>
<td>22</td>
<td>27</td>
<td>62</td>
<td>51</td>
<td>46</td>
<td>35
</td></tr>
<tr>
<td>63</td>
<td>50</td>
<td>47</td>
<td>34</td>
<td>7</td>
<td>10</td>
<td>23</td>
<td>26
</td></tr>
<tr>
<td>8</td>
<td>9</td>
<td>24</td>
<td>25</td>
<td>64</td>
<td>49</td>
<td>48</td>
<td>33
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The order 8 square is interesting in itself since it is an instance of the most-perfect magic square. Incidentally, Narayana states that the purpose of studying magic squares is to construct <i>yantra</i>, to destroy the ego of bad mathematicians, and for the pleasure of good mathematicians. The subject of magic squares is referred to as <i>bhadraganita</i> and Narayana states that it was first taught to men by god <span class="hyperlink-click" data-id="643947308">Shiva</span>.
</p>
<h3>Middle East, North Africa, Muslim Iberia</h3>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/de/16th_century_arabic_magic_square.jpg/220px-16th_century_arabic_magic_square.jpg" decoding="async" width="220" height="423" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/de/16th_century_arabic_magic_square.jpg/330px-16th_century_arabic_magic_square.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/de/16th_century_arabic_magic_square.jpg/440px-16th_century_arabic_magic_square.jpg 2x" data-file-width="808" data-file-height="1552"> <div class="thumbcaption"><div class="magnify"> </div>A 6×6 magic square from <i>Book of Wonders</i> (from 16th century manuscript).</div></div></div>
<p>Although the early history of magic squares in Persia and Arabia is not known, it has been suggested that they were known in pre-Islamic times. It is clear, however, that the study of magic squares was common in <span class="hyperlink-click" data-id="643947309">medieval Islam</span>, and it was thought to have begun after the introduction of <span class="hyperlink-click" data-id="643947310">chess</span> into the region. The first dateable appearance of a magic square of order 3 occurs in <span class="hyperlink-click" data-id="643947311">Jābir ibn Hayyān</span>'s (fl. c. 721 – c. 815) <i>Kitab al-mawazin al-Saghir</i> (The Small Book of Balances) where the magic square and its related numerology is associated with alchemy. While it is known that treatises on magic squares were written in the 9th century, the earliest extant treaties we have date from the 10th-century: one by Abu'l-Wafa al-Buzjani (<abbr title="circa">c.</abbr><span style="white-space:nowrap;"> 998</span>) and another by Ali b. Ahmad al-Antaki (<abbr title="circa">c.</abbr><span style="white-space:nowrap;"> 987</span>). These early treatise were purely mathematical, and the Arabic designation for magic squares used is <i>wafq al-a'dad</i>, which translates as <i>harmonious disposition of the numbers</i>. By the end of 10th century, the two treatises by Buzjani and Antaki makes it clear that the Middle Eastern mathematicians had understood how to construct bordered squares of any order as well as simple magic squares of small orders (<i>n</i> ≤ 6) which were used to make composite magic squares. A specimen of magic squares of orders 3 to 9 devised by Middle Eastern mathematicians appear in an encyclopedia from <span class="hyperlink-click" data-id="643947220">Baghdad</span> <abbr title="circa">c.</abbr><span style="white-space:nowrap;"> 983</span>, the Rasa'il Ikhwan al-Safa (the <span class="hyperlink-click" data-id="643947285">Encyclopedia of the Brethren of Purity</span>). The squares of order 3 to 7 from Rasa'il are given below:
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>7</td>
<td>6
</td></tr>
<tr>
<td>9</td>
<td>5</td>
<td>1
</td></tr>
<tr>
<td>4</td>
<td>3</td>
<td>8
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">4</td>
<td>14</td>
<td>15</td>
<td style="background-color: silver;">1
</td></tr>
<tr>
<td>9</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">6</td>
<td>12
</td></tr>
<tr>
<td>5</td>
<td style="background-color: silver;">11</td>
<td style="background-color: silver;">10</td>
<td>8
</td></tr>
<tr>
<td style="background-color: silver;">16</td>
<td>2</td>
<td>3</td>
<td style="background-color: silver;">13
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">21</td>
<td>3</td>
<td>4</td>
<td>12</td>
<td style="background-color: silver;">25
</td></tr>
<tr>
<td>15</td>
<td style="background-color: silver;">17</td>
<td>6</td>
<td style="background-color: silver;">19</td>
<td>8
</td></tr>
<tr>
<td>10</td>
<td>24</td>
<td style="background-color: silver;">13</td>
<td>2</td>
<td>16
</td></tr>
<tr>
<td>18</td>
<td style="background-color: silver;">7</td>
<td>20</td>
<td style="background-color: silver;">9</td>
<td>11
</td></tr>
<tr>
<td style="background-color: silver;">1</td>
<td>14</td>
<td>22</td>
<td>23</td>
<td style="background-color: silver;">5
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">11</td>
<td style="background-color: silver;">22</td>
<td>32</td>
<td>5</td>
<td style="background-color: silver;">23</td>
<td style="background-color: silver;">18
</td></tr>
<tr>
<td style="background-color: silver;">25</td>
<td style="background-color: silver;">16</td>
<td>7</td>
<td>30</td>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">20
</td></tr>
<tr>
<td>27</td>
<td>6</td>
<td>35</td>
<td>36</td>
<td>4</td>
<td>3
</td></tr>
<tr>
<td>10</td>
<td>31</td>
<td>1</td>
<td>2</td>
<td>33</td>
<td>34
</td></tr>
<tr>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">19</td>
<td>8</td>
<td>29</td>
<td style="background-color: silver;">26</td>
<td style="background-color: silver;">15
</td></tr>
<tr>
<td style="background-color: silver;">24</td>
<td style="background-color: silver;">17</td>
<td>28</td>
<td>9</td>
<td style="background-color: silver;">12</td>
<td style="background-color: silver;">21
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:14em;height:14em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">47</td>
<td style="background-color: silver;">11</td>
<td style="background-color: silver;">8</td>
<td style="background-color: silver;">9</td>
<td style="background-color: silver;">6</td>
<td style="background-color: silver;">45</td>
<td style="background-color: silver;">49
</td></tr>
<tr>
<td style="background-color: silver;">4</td>
<td>37</td>
<td>20</td>
<td>17</td>
<td>16</td>
<td>35</td>
<td style="background-color: silver;">46
</td></tr>
<tr>
<td style="background-color: silver;">2</td>
<td>18</td>
<td style="background-color: silver;">26</td>
<td style="background-color: silver;">21</td>
<td style="background-color: silver;">28</td>
<td>32</td>
<td style="background-color: silver;">48
</td></tr>
<tr>
<td style="background-color: silver;">43</td>
<td>19</td>
<td style="background-color: silver;">27</td>
<td style="background-color: silver;">25</td>
<td style="background-color: silver;">23</td>
<td>31</td>
<td style="background-color: silver;">7
</td></tr>
<tr>
<td style="background-color: silver;">38</td>
<td>36</td>
<td style="background-color: silver;">22</td>
<td style="background-color: silver;">29</td>
<td style="background-color: silver;">24</td>
<td>14</td>
<td style="background-color: silver;">12
</td></tr>
<tr>
<td style="background-color: silver;">40</td>
<td>15</td>
<td>30</td>
<td>33</td>
<td>34</td>
<td>13</td>
<td style="background-color: silver;">10
</td></tr>
<tr>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">39</td>
<td style="background-color: silver;">42</td>
<td style="background-color: silver;">41</td>
<td style="background-color: silver;">44</td>
<td style="background-color: silver;">5</td>
<td style="background-color: silver;">3
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The 11th century saw the finding of several ways to construct simple magic squares for odd and evenly-even orders; the more difficult case of evenly-odd case (<i>n = 4k + 2</i>) was solved by <span class="hyperlink-click" data-id="643947314">Ibn al-Haytham</span> with <i>k</i> even (c. 1040), and completely by the beginning of 12th century, if not already in the latter half of the 11th century. Around the same time, pandiagonal squares were being constructed. Treaties on magic squares were numerous in the 11th and 12th century. These later developments tended to be improvements on or simplifications of existing methods. From the 13th century on wards, magic squares were increasingly put to occult purposes. However, much of these later texts written for occult purposes merely depict certain magic squares and mention their attributes, without describing their principle of construction, with only some authors keeping the general theory alive. One such occultist was the Algerian <span class="hyperlink-click" data-id="643947315">Ahmad al-Buni</span> (c. 1225), who gave general methods on constructing bordered magic squares; some others were the 17th century Egyptian Shabramallisi and the 18th century Nigerian al-Kishnawi.
</p><p>The magic square of order three was described as a child-bearing charm since its first literary appearances in the alchemical works of <span class="hyperlink-click" data-id="643947311">Jābir ibn Hayyān</span> (fl. c. 721 – c. 815) and <span class="hyperlink-click" data-id="643947317">al-Ghazālī</span> (1058–1111) and it was preserved in the tradition of the planetary tables. The earliest occurrence of the association of seven magic squares to the virtues of the seven heavenly bodies appear in Andalusian scholar <span class="hyperlink-click" data-id="643947318">Ibn Zarkali</span>'s (known as Azarquiel in Europe) (1029–1087) <i>Kitāb tadbīrāt al-kawākib</i> (<i>Book on the Influences of the Planets</i>). A century later, the Algerian scholar Ahmad al-Buni attributed mystical properties to magic squares in his highly influential book <i>Shams al-Ma'arif</i> (<i>The Book of the Sun of Gnosis and the Subtleties of Elevated Things</i>), which also describes their construction. This tradition about a series of magic squares from order three to nine, which are associated with the seven planets, survives in Greek, Arabic, and Latin versions. There are also references to the use of magic squares in astrological calculations, a practice that seems to have originated with the Arabs.
</p>
<h3>Latin Europe</h3>
<div class="thumb tright"><div class="thumbinner" style="width:217px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Sigillum_Iovis.jpg/215px-Sigillum_Iovis.jpg" decoding="async" width="215" height="295" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Sigillum_Iovis.jpg/323px-Sigillum_Iovis.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Sigillum_Iovis.jpg/430px-Sigillum_Iovis.jpg 2x" data-file-width="2552" data-file-height="3496"> <div class="thumbcaption"><div class="magnify"> </div>This page from <span class="hyperlink-click" data-id="643947319">Athanasius Kircher</span>'s <i>Oedipus Aegyptiacus</i> (1653) belongs to a treatise on magic squares and shows the <i>Sigillum Iovis</i> associated with Jupiter</div></div></div>
<p>Unlike in Persia and Arabia, we have better documentation of how the magic squares were transmitted to Europe. Around 1315, influenced by Arab sources, the Greek Byzantine scholar <span class="hyperlink-click" data-id="643947295">Manuel Moschopoulos</span> wrote a mathematical treatise on the subject of magic squares, leaving out the mysticism of his Middle Eastern predecessors, where he gave two methods for odd squares and two methods for evenly even squares. Moschopoulos was essentially unknown to the Latin Europe until the late 17th century, when Philippe de la Hire rediscovered his treatise in the Royal Library of Paris. However, he was not the first European to have written on magic squares; and the magic squares were disseminated to rest of Europe through Spain and Italy as occult objects. The early occult treaties that displayed the squares did not describe how they were constructed. Thus the entire theory had to be rediscovered.
</p><p>Magic squares had first appeared in Europe in <i>Kitāb tadbīrāt al-kawākib</i> (<i>Book on the Influences of the Planets</i>) written by Ibn Zarkali of Toledo, Al-Andalus, as planetary squares by 11th century. The magic square of three was discussed in numerological manner in early 12th century by Jewish scholar Abraham ibn Ezra of Toledo, which influenced later Kabbalists. Ibn Zarkali's work was translated as <i>Libro de Astromagia</i> in the 1280s, due to Alfonso X of Castille. In the Alfonsine text, magic squares of different orders are assigned to the respective planets, as in the Islamic literature; unfortunately, of all the squares discussed, the Mars magic square of order five is the only square exhibited in the manuscript.
</p><p>Magic squares surface again in Florence, Italy in the 14th century. A 6×6 and a 9×9 square are exhibited in a manuscript of the <i>Trattato d'Abbaco</i> (Treatise of the Abacus) by Paolo Dagomari. It is interesting to observe that Paolo Dagomari, like Pacioli after him, refers to the squares as a useful basis for inventing mathematical questions and games, and does not mention any magical use. Incidentally, though, he also refers to them as being respectively the Sun's and the Moon's squares, and mentions that they enter astrological calculations that are not better specified. As said, the same point of view seems to motivate the fellow Florentine <span class="hyperlink-click" data-id="643947321">Luca Pacioli</span>, who describes 3×3 to 9×9 squares in his work <i>De Viribus Quantitatis</i> by the end of 15th century.
</p>
<h3>Europe after 15th century</h3>
<div class="thumb tright"><div class="thumbinner" style="width:217px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/8/89/Siamese_Square.jpg/215px-Siamese_Square.jpg" decoding="async" width="215" height="265" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/8/89/Siamese_Square.jpg/323px-Siamese_Square.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/8/89/Siamese_Square.jpg/430px-Siamese_Square.jpg 2x" data-file-width="925" data-file-height="1142"> <div class="thumbcaption"><div class="magnify"> </div>A page from Simon de la Loubère's <i>Du Royaume de Siam</i> (1691) showcasing the Indian method of constructing an odd magic square.</div></div></div>
<p>The planetary squares had disseminated into northern Europe by the end of 15th century. For instance, the Cracow manuscript of <i><span class="hyperlink-click" data-id="643947322">Picatrix</span></i> from Poland displays magic squares of orders 3 to 9. The same set of squares as in the Cracow manuscript later appears in the writings of <span class="hyperlink-click" data-id="643947323">Paracelsus</span> in <i>Archidoxa Magica</i> (1567), although in highly garbled form. In 1514 <span class="hyperlink-click" data-id="643947324">Albrecht Dürer</span> immortalized a 4×4 square in his famous engraving <i><span class="hyperlink-click" data-id="643947325">Melencolia I</span>.</i> Paracelsus' contemporary Heinrich Cornelius Agrippa von Nettesheim published his famous three volume book <i>De occulta philosophia</i> in 1531, where he devoted Chapter 22 of Book II to the planetary squares shown below. The same set of squares given by Agrippa reappear in 1539 in <i>Practica Arithmetice</i> by Girolamo Cardano, where he explains the construction of the odd ordered squares using "diamond method", which was later reproduced by Bachet. The tradition of planetary squares was continued into the 17th century by <span class="hyperlink-click" data-id="643947319">Athanasius Kircher</span> in <i>Oedipi Aegyptici</i> (1653). In Germany, mathematical treaties concerning magic squares were written in 1544 by <span class="hyperlink-click" data-id="643947327">Michael Stifel</span> in <i> Arithmetica Integra</i>, who rediscovered the bordered squares, and Adam Riese, who rediscovered the continuous numbering method to construct odd ordered squares published by Agrippa. However, due to the religious upheavals of that time, these work were unknown to the rest of Europe.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto; margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption> Saturn =15
</caption>
<tbody><tr>
<td>4</td>
<td>9</td>
<td>2
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>8</td>
<td>1</td>
<td>6
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<caption> Jupiter =34
</caption>
<tbody><tr>
<td>4</td>
<td>14</td>
<td>15</td>
<td>1
</td></tr>
<tr>
<td>9</td>
<td>7</td>
<td>6</td>
<td>12
</td></tr>
<tr>
<td>5</td>
<td>11</td>
<td>10</td>
<td>8
</td></tr>
<tr>
<td>16</td>
<td>2</td>
<td>3</td>
<td>13
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<caption> Mars =65
</caption>
<tbody><tr>
<td>11</td>
<td>24</td>
<td>7</td>
<td>20</td>
<td>3
</td></tr>
<tr>
<td>4</td>
<td>12</td>
<td>25</td>
<td>8</td>
<td>16
</td></tr>
<tr>
<td>17</td>
<td>5</td>
<td>13</td>
<td>21</td>
<td>9
</td></tr>
<tr>
<td>10</td>
<td>18</td>
<td>1</td>
<td>14</td>
<td>22
</td></tr>
<tr>
<td>23</td>
<td>6</td>
<td>19</td>
<td>2</td>
<td>15
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<caption> Sol =111
</caption>
<tbody><tr>
<td>6</td>
<td>32</td>
<td>3</td>
<td>34</td>
<td>35</td>
<td>1
</td></tr>
<tr>
<td>7</td>
<td>11</td>
<td>27</td>
<td>28</td>
<td>8</td>
<td>30
</td></tr>
<tr>
<td>19</td>
<td>14</td>
<td>16</td>
<td>15</td>
<td>23</td>
<td>24
</td></tr>
<tr>
<td>18</td>
<td>20</td>
<td>22</td>
<td>21</td>
<td>17</td>
<td>13
</td></tr>
<tr>
<td>25</td>
<td>29</td>
<td>10</td>
<td>9</td>
<td>26</td>
<td>12
</td></tr>
<tr>
<td>36</td>
<td>5</td>
<td>33</td>
<td>4</td>
<td>2</td>
<td>31
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto; margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:14em;height:14em;table-layout:fixed;">

<caption> Venus =175
</caption>
<tbody><tr>
<td>22</td>
<td>47</td>
<td>16</td>
<td>41</td>
<td>10</td>
<td>35</td>
<td>4
</td></tr>
<tr>
<td>5</td>
<td>23</td>
<td>48</td>
<td>17</td>
<td>42</td>
<td>11</td>
<td>29
</td></tr>
<tr>
<td>30</td>
<td>6</td>
<td>24</td>
<td>49</td>
<td>18</td>
<td>36</td>
<td>12
</td></tr>
<tr>
<td>13</td>
<td>31</td>
<td>7</td>
<td>25</td>
<td>43</td>
<td>19</td>
<td>37
</td></tr>
<tr>
<td>38</td>
<td>14</td>
<td>32</td>
<td>1</td>
<td>26</td>
<td>44</td>
<td>20
</td></tr>
<tr>
<td>21</td>
<td>39</td>
<td>8</td>
<td>33</td>
<td>2</td>
<td>27</td>
<td>45
</td></tr>
<tr>
<td>46</td>
<td>15</td>
<td>40</td>
<td>9</td>
<td>34</td>
<td>3</td>
<td>28
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<caption><span class="hyperlink-click" data-id="643947328">Mercury</span>=260
</caption>
<tbody><tr>
<td>8</td>
<td>58</td>
<td>59</td>
<td>5</td>
<td>4</td>
<td>62</td>
<td>63</td>
<td>1
</td></tr>
<tr>
<td>49</td>
<td>15</td>
<td>14</td>
<td>52</td>
<td>53</td>
<td>11</td>
<td>10</td>
<td>56
</td></tr>
<tr>
<td>41</td>
<td>23</td>
<td>22</td>
<td>44</td>
<td>45</td>
<td>19</td>
<td>18</td>
<td>48
</td></tr>
<tr>
<td>32</td>
<td>34</td>
<td>35</td>
<td>29</td>
<td>28</td>
<td>38</td>
<td>39</td>
<td>25
</td></tr>
<tr>
<td>40</td>
<td>26</td>
<td>27</td>
<td>37</td>
<td>36</td>
<td>30</td>
<td>31</td>
<td>33
</td></tr>
<tr>
<td>17</td>
<td>47</td>
<td>46</td>
<td>20</td>
<td>21</td>
<td>43</td>
<td>42</td>
<td>24
</td></tr>
<tr>
<td>9</td>
<td>55</td>
<td>54</td>
<td>12</td>
<td>13</td>
<td>51</td>
<td>50</td>
<td>16
</td></tr>
<tr>
<td>64</td>
<td>2</td>
<td>3</td>
<td>61</td>
<td>60</td>
<td>6</td>
<td>7</td>
<td>57
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:18em;height:18em;table-layout:fixed;">

<caption><span class="hyperlink-click" data-id="643947329">Luna</span>=369
</caption>
<tbody><tr>
<td>37</td>
<td>78</td>
<td>29</td>
<td>70</td>
<td>21</td>
<td>62</td>
<td>13</td>
<td>54</td>
<td>5
</td></tr>
<tr>
<td>6</td>
<td>38</td>
<td>79</td>
<td>30</td>
<td>71</td>
<td>22</td>
<td>63</td>
<td>14</td>
<td>46
</td></tr>
<tr>
<td>47</td>
<td>7</td>
<td>39</td>
<td>80</td>
<td>31</td>
<td>72</td>
<td>23</td>
<td>55</td>
<td>15
</td></tr>
<tr>
<td>16</td>
<td>48</td>
<td>8</td>
<td>40</td>
<td>81</td>
<td>32</td>
<td>64</td>
<td>24</td>
<td>56
</td></tr>
<tr>
<td>57</td>
<td>17</td>
<td>49</td>
<td>9</td>
<td>41</td>
<td>73</td>
<td>33</td>
<td>65</td>
<td>25
</td></tr>
<tr>
<td>26</td>
<td>58</td>
<td>18</td>
<td>50</td>
<td>1</td>
<td>42</td>
<td>74</td>
<td>34</td>
<td>66
</td></tr>
<tr>
<td>67</td>
<td>27</td>
<td>59</td>
<td>10</td>
<td>51</td>
<td>2</td>
<td>43</td>
<td>75</td>
<td>35
</td></tr>
<tr>
<td>36</td>
<td>68</td>
<td>19</td>
<td>60</td>
<td>11</td>
<td>52</td>
<td>3</td>
<td>44</td>
<td>76
</td></tr>
<tr>
<td>77</td>
<td>28</td>
<td>69</td>
<td>20</td>
<td>61</td>
<td>12</td>
<td>53</td>
<td>4</td>
<td>45
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>In 1624 France, <span class="hyperlink-click" data-id="643947330">Claude Gaspard Bachet</span> described the "diamond method" for constructing Agrippa's odd ordered squares in his book <i>Problèmes Plaisants</i>. During 1640 <span class="hyperlink-click" data-id="643947331">Bernard Frenicle de Bessy</span> and Pierre Fermat exchanged letters on magic squares and cubes, and in one of the letters Fermat boasts of being able to construct 1,004,144,995,344 magic squares of order 8 by his method. An early account on the construction of bordered squares was given by <span class="hyperlink-click" data-id="643947332">Antoine Arnauld</span> in his <i>Nouveaux éléments de géométrie</i> (1667). In the two treatise <i>Des quarrez ou tables magiques</i> and <i>Table générale des quarrez magiques de quatre de côté</i>, published posthumously in 1693, twenty years after his death, <span class="hyperlink-click" data-id="643947331">Bernard Frenicle de Bessy</span> demonstrated that there were exactly 880 distinct magic squares of order four. Frenicle gave methods to construct magic square of any odd and even order, where the even ordered squares were constructed using borders. He also showed that interchanging rows and columns of a magic square produced new magic squares. In 1691, <span class="hyperlink-click" data-id="643947334">Simon de la Loubère</span> described the Indian continuous method of constructing odd ordered magic squares in his book <i>Du Royaume de Siam</i>, which he had learned while returning from a diplomatic mission to Siam, which was faster than Bachet's method. In an attempt to explain its working, de la Loubere used the primary numbers and root numbers, and rediscovered the method of adding two preliminary squares. This method was further investigated by Abbe Poignard in <i>Traité des quarrés sublimes</i> (1704), by <span class="hyperlink-click" data-id="643947335">Philippe de La Hire</span> in <i>Mémoires de l'Académie des Sciences</i> for the Royal Academy (1705), and by <span class="hyperlink-click" data-id="643947336">Joseph Sauveur</span> in <i>Construction des quarrés magiques</i> (1710). Concentric bordered squares were also studied by De la Hire in 1705, while Sauveur introduced magic cubes and lettered squares, which was taken up later by <span class="hyperlink-click" data-id="643947337">Euler</span> in 1776, who is often credited for devising them. In 1750 d'Ons-le-Bray rediscovered the method of constructing doubly even and singly even squares using bordering technique; while in 1767 <span class="hyperlink-click" data-id="643947338">Benjamin Franklin</span> published a semi-magic square which had the properties of eponymous Franklin square. By this time the earlier mysticism attached to the magic squares had completely vanished, and the subject was treated as a part of recreational mathematics.
</p><p>In the 19th century, Bernard Violle gave a comprehensive treatment of magic squares in his three volume <i>Traité complet des carrés magiques</i> (1837–1838), which also described magic cubes, parallelograms, parallelopipeds, and circles. Pandiagonal squares were extensively studied by Andrew Hollingworth Frost, who learned it while in the town of Nasik, India, (thus calling them Nasik squares) in a series of articles: <i>On the knight's path</i> (1877), <i>On the General Properties of Nasik Squares</i> (1878), <i>On the General Properties of Nasik Cubes</i> (1878), <i>On the construction of Nasik Squares of any order</i> (1896). He showed that it is impossible to have normal singly-even pandiagonal magic square. Frederick A.P. Barnard constructed inlaid magic squares and other three dimensional magic figures like magic spheres and magic cylinders in <i>Theory of magic squares and of magic cubes</i> (1888). In 1897, Emroy McClintock published <i>On the most perfect form of magic squares</i>, coining the words <i>pandiagonal square</i> and <i>most perfect square</i>, which had previously been referred to as perfect, or diabolic, or Nasik.
</p>
<h2>Some famous magic squares</h2>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Magic_square_Lo_Shu.png/220px-Magic_square_Lo_Shu.png" decoding="async" width="220" height="219" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/e/e2/Magic_square_Lo_Shu.png 1.5x" data-file-width="245" data-file-height="244"> <div class="thumbcaption"><div class="magnify"> </div>Lo Shu from "The Astronomical Phenomena" (<i>Tien Yuan Fa Wei</i>). Compiled by Bao Yunlong in 13th century, published during the <span class="hyperlink-click" data-id="643947339">Ming dynasty</span>, 1457–1463.</div></div></div>
<h3>Luo Shu magic square</h3>
<style data-mw-deduplicate="TemplateStyles:r1033289096">.mw-parser-output .hatnote{font-style:italic}.mw-parser-output div.hatnote{padding-left:1.6em;margin-bottom:0.5em}.mw-parser-output .hatnote i{font-style:normal}.mw-parser-output .hatnote+link+.hatnote{margin-top:-0.5em}</style><div role="note" class="hatnote navigation-not-searchable">Main article: <span class="hyperlink-click" data-id="643947340">Lo Shu Square</span></div>
<p>Legends dating from as early as 650 BCE tell the story of the Lo Shu (洛書) or "scroll of the river Lo". According to the legend, there was at one time in <span class="hyperlink-click" data-id="643947341">ancient China</span> a huge flood. While the <span class="hyperlink-click" data-id="643947342">great king Yu</span> was trying to channel the water out to sea, a <span class="hyperlink-click" data-id="643947343">turtle</span> emerged from it with a curious pattern on its shell: a 3×3 grid in which circular dots of numbers were arranged, such that the sum of the numbers in each row, column and diagonal was the same: 15. According to the legend, thereafter people were able to use this pattern in a certain way to control the river and protect themselves from floods. The <span class="hyperlink-click" data-id="643947340">Lo Shu Square</span>, as the magic square on the turtle shell is called, is the unique normal magic square of order three in which 1 is at the bottom and 2 is in the upper right corner. Every normal magic square of order three is obtained from the Lo Shu by rotation or reflection.
</p>
<h3>Magic square in Parshavnath temple</h3>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Magic_square_at_the_Parshvanatha_temple%2C_Khajuraho.png/220px-Magic_square_at_the_Parshvanatha_temple%2C_Khajuraho.png" decoding="async" width="220" height="335" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Magic_square_at_the_Parshvanatha_temple%2C_Khajuraho.png/330px-Magic_square_at_the_Parshvanatha_temple%2C_Khajuraho.png 1.5x, //upload.wikimedia.org/wikipedia/commons/3/3e/Magic_square_at_the_Parshvanatha_temple%2C_Khajuraho.png 2x" data-file-width="394" data-file-height="600"> <div class="thumbcaption"><div class="magnify"> </div>Magic Square at the <span class="hyperlink-click" data-id="643947304">Parshvanatha temple</span>, in <span class="hyperlink-click" data-id="643947305">Khajuraho</span>, <span class="hyperlink-click" data-id="643947347">India</span></div></div></div>
<p>There is a well-known 12th-century 4×4 normal magic square inscribed on the wall of the <span class="hyperlink-click" data-id="643947304">Parshvanath</span> temple in <span class="hyperlink-click" data-id="643947305">Khajuraho</span>, India.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>7</td>
<td>12</td>
<td>1</td>
<td>14
</td></tr>
<tr>
<td>2</td>
<td>13</td>
<td>8</td>
<td>11
</td></tr>
<tr>
<td>16</td>
<td>3</td>
<td>10</td>
<td>5
</td></tr>
<tr>
<td>9</td>
<td>6</td>
<td>15</td>
<td>4
</td></tr></tbody></table>
<p>This is known as the <i>Chautisa Yantra</i> since its magic sum is 34.<sup class="noprint Inline-Template" style="white-space:nowrap;">[<i> <span title="How does sum=34 explain the name? (September 2021)">further explanation needed</span> </i>]</sup> It is one of the three 4×4 <span class="hyperlink-click" data-id="643947166">pandiagonal magic squares</span> and is also an instance of the <span class="hyperlink-click" data-id="643947168">most-perfect magic square</span>. The study of this square led to the appreciation of pandiagonal squares by European mathematicians in the late 19th century. Pandiagonal squares were referred to as Nasik squares or Jain squares in older English literature.
</p>
<h3>Albrecht Dürer's magic square</h3>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg/220px-Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg" decoding="async" width="220" height="229" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg/330px-Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg/440px-Albrecht_D%C3%BCrer_-_Melencolia_I_%28detail%29.jpg 2x" data-file-width="555" data-file-height="578"> <div class="thumbcaption"><div class="magnify"> </div>Detail of <i>Melencolia I</i></div></div></div>
<p>The order four normal magic square <span class="hyperlink-click" data-id="643947324">Albrecht Dürer</span> immortalized in his 1514 engraving <i><span class="hyperlink-click" data-id="643947325">Melencolia I</span></i>, referred to above, is believed to be the first seen in European art. The square associated with Jupiter appears as a talisman used to drive away melancholy. It is very similar to <span class="hyperlink-click" data-id="643947292">Yang Hui</span>'s square, which was created in China about 250 years before Dürer's time. As with every order 4 normal magic square, the magic sum is 34. But in the Durer square this sum is also found 
in each of the quadrants, in the center four squares, and in the corner squares (of the 4×4 as well as the four contained 3×3 grids). This sum can also be found in the four outer numbers clockwise from the corners (3+8+14+9) and likewise the four counter-clockwise (the locations of four <span class="hyperlink-click" data-id="643947355">queens</span> in the two solutions of the <span class="hyperlink-click" data-id="643947356">4 queens puzzle</span>), the two sets of four symmetrical numbers (2+8+9+15 and 3+5+12+14), the sum of the middle two entries of the two outer columns and rows (5+9+8+12 and 3+2+15+14), and in four kite or cross shaped quartets (3+5+11+15, 2+10+8+14, 3+9+7+15, and 2+6+12+14). The two numbers in the middle of the bottom row give the date of the engraving: 1514. The numbers 1 and 4 at either side of the date correspond respectively to the letters "A" and "D," which are the initials of the artist.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>16</td>
<td>3</td>
<td>2</td>
<td>13
</td></tr>
<tr>
<td>5</td>
<td>10</td>
<td>11</td>
<td>8
</td></tr>
<tr>
<td>9</td>
<td>6</td>
<td>7</td>
<td>12
</td></tr>
<tr>
<td>4</td>
<td>15</td>
<td>14</td>
<td>1
</td></tr></tbody></table>
<p>Dürer's magic square can also be extended to a magic cube.
</p>
<h3>Sagrada Família magic square</h3>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/73/Barcelona_Sagrada_Familia_passion_facade_magic_square.jpg/220px-Barcelona_Sagrada_Familia_passion_facade_magic_square.jpg" decoding="async" width="220" height="249" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/73/Barcelona_Sagrada_Familia_passion_facade_magic_square.jpg/330px-Barcelona_Sagrada_Familia_passion_facade_magic_square.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/7/73/Barcelona_Sagrada_Familia_passion_facade_magic_square.jpg/440px-Barcelona_Sagrada_Familia_passion_facade_magic_square.jpg 2x" data-file-width="1672" data-file-height="1896"> <div class="thumbcaption"><div class="magnify"> </div>A magic square on the Sagrada Família church façade</div></div></div>
<p>The Passion façade of the <span class="hyperlink-click" data-id="643947357">Sagrada Família</span> church in <span class="hyperlink-click" data-id="643947358">Barcelona</span>, conceptualized by <span class="hyperlink-click" data-id="643947359">Antoni Gaudí</span> and designed by sculptor <span class="hyperlink-click" data-id="643947360">Josep Subirachs</span>, features a trivial order 4 magic square: The magic constant of the square is 33, the age of <span class="hyperlink-click" data-id="643947361">Jesus</span> at the time of the <span class="hyperlink-click" data-id="643947362">Passion</span>. Structurally, it is very similar to the Melancholia magic square, but it has had the numbers in four of the cells reduced by 1.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>14</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td>11</td>
<td>7</td>
<td>6</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td>10</td>
<td>10</td>
<td>5
</td></tr>
<tr>
<td>13</td>
<td>2</td>
<td>3</td>
<td>15
</td></tr></tbody></table>
<p>Trivial squares such as this one are not generally mathematically interesting and only have historical significance. Lee Sallows has pointed out that, due to Subirachs's ignorance of magic square theory, the renowned sculptor made a needless blunder, and supports this assertion by giving several examples of non-trivial 4×4 magic squares showing the desired magic constant of 33.
</p><p>Similarly to Dürer's magic square, the Sagrada Familia's magic square can also be extended to a magic cube.
</p>
<h3>Parker square</h3>
<p>The <b><span class="hyperlink-click" data-id="643947363">Parker Square</span></b>, named after recreational mathematician <span class="hyperlink-click" data-id="643947364">Matt Parker</span>, is an attempt to create a 3<span class="nowrap"> × </span>3 magic square of squares — a prized unsolved problem since <span class="hyperlink-click" data-id="643947365">Euler</span>. The Parker Square is a trivial semimagic square since it uses some numbers more than once, and the diagonal <span class="texhtml">23<sup>2</sup> + 37<sup>2</sup> + 47<sup>2</sup></span> sums to <span class="nowrap"><span data-sort-value="7003410700000000000♠"></span>4107</span>, not <span class="nowrap"><span data-sort-value="7003305100000000000♠"></span>3051</span> as for all the other rows, columns, or diagonal. The Parker Square became a "mascot for people who give it a go, but ultimately fall short". It is also a metaphor for something that is almost right, but is a little off.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;table-layout:fixed;width:8em;height:8em;">

<tbody><tr>
<td>29<sup>2</sup></td>
<td>1<sup>2</sup></td>
<td>47<sup>2</sup>
</td></tr>
<tr>
<td>41<sup>2</sup></td>
<td>37<sup>2</sup></td>
<td>1<sup>2</sup>
</td></tr>
<tr>
<td>23<sup>2</sup></td>
<td>41<sup>2</sup></td>
<td>29<sup>2</sup>
</td></tr></tbody></table>
<h2>Properties of magic squares</h2>
<h3>Magic constant</h3>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1033289096"><div role="note" class="hatnote navigation-not-searchable">Main article: <span class="hyperlink-click" data-id="643947158">Magic constant</span></div>
<p>The constant that is the sum of any row, or column, or diagonal is called the <span class="hyperlink-click" data-id="643947158">magic constant</span> or magic sum, <i>M.</i> Every normal magic square has a constant dependent on the order <span class="texhtml mvar" style="font-style:italic;">n</span>, calculated by the formula <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle M=n(n^{2}+1)/2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>M</mi>
        <mo>=</mo>
        <mi>n</mi>
        <mo stretchy="false">(</mo>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mo>+</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle M=n(n^{2}+1)/2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ed6edaee372141f477895ef8903302cecaede427" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:17.521ex; height:3.176ex;" alt="{\displaystyle M=n(n^{2}+1)/2}"></span>. This can be demonstrated by noting that the sum of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle 1,2,...,n^{2}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>1</mn>
        <mo>,</mo>
        <mn>2</mn>
        <mo>,</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>,</mo>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 1,2,...,n^{2}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/887eb3a03b3a8a0b8ba6b076593fdf802bbdf3ae" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:10.978ex; height:3.009ex;" alt="{\displaystyle 1,2,...,n^{2}}"></span> is <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle n^{2}(n^{2}+1)/2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mo stretchy="false">(</mo>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mo>+</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n^{2}(n^{2}+1)/2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2990ca14f484acfc6fb213afa2360f21854b2984" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:13.035ex; height:3.176ex;" alt="{\displaystyle n^{2}(n^{2}+1)/2}"></span>. Since the sum of each row is <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle M}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>M</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle M}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f82cade9898ced02fdd08712e5f0c0151758a0dd" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.442ex; height:2.176ex;" alt="M"></span>, the sum of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="n"></span> rows is <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle nM=n^{2}(n^{2}+1)/2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mi>M</mi>
        <mo>=</mo>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mo stretchy="false">(</mo>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mo>+</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle nM=n^{2}(n^{2}+1)/2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c5a4e472278453e108f5d037dabe25341a77c0fc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:19.97ex; height:3.176ex;" alt="{\displaystyle nM=n^{2}(n^{2}+1)/2}"></span>, which when divided by the order <span class="texhtml mvar" style="font-style:italic;">n</span> yields the magic constant. For normal magic squares of orders <i>n</i> = 3, 4, 5, 6, 7, and 8, the magic constants are, respectively: 15, 34, 65, 111, 175, and 260 (sequence A006003 in the <span class="hyperlink-click" data-id="643947368">OEIS</span>).
</p>
<h3>Magic square of order 1 is trivial</h3>
<p>The 1×1 magic square, with only one cell containing the number 1, is called <i><span class="hyperlink-click" data-id="643947369">trivial</span></i>, because it is typically not under consideration when discussing magic squares; but it is indeed a magic square by definition, if we regard a single cell as a square of order one.
</p>
<h3>Magic square of order 2 cannot be constructed</h3>
<p>Normal magic squares of all sizes can be constructed except 2×2 (that is, where order <i>n</i> = 2).
</p>
<h3>Center of mass</h3>
<p>If we think of the numbers in the magic square as masses located in various cells, then the <span class="hyperlink-click" data-id="643947370">center of mass</span> of a magic square coincides with its geometric center.
</p>
<h3>Moment of inertia</h3>
<p>The <i>moment of inertia</i> of a magic square has been defined as the sum over all cells of the number in the cell times the squared distance from the center of the cell to the center of the square; here the unit of measurement is the width of one cell. (Thus for example a corner cell of a 3×3 square has a distance of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle {\sqrt {2}},}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <msqrt>
            <mn>2</mn>
          </msqrt>
        </mrow>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\sqrt {2}},}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/74847cf19189c725cee56e0e5b513d59f6eb9402" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:3.745ex; height:3.009ex;" alt="{\sqrt  {2}},"></span> a non-corner edge cell has a distance of 1, and the center cell has a distance of 0.) Then all magic squares of a given order have the same moment of inertia as each other. For the order-3 case the moment of inertia is always 60, while for the order-4 case the moment of inertia is always 340. In general, for the <i>n</i>×<i>n</i> case the moment of inertia is <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle n^{2}(n^{4}-1)/12.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mo stretchy="false">(</mo>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>4</mn>
          </mrow>
        </msup>
        <mo>− </mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>12.</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n^{2}(n^{4}-1)/12.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7e1db567c3f450c63edb9e7ce1903b2ef0696374" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:14.844ex; height:3.176ex;" alt="{\displaystyle n^{2}(n^{4}-1)/12.}"></span>
</p>
<h3>Birkhoff–von Neumann decomposition</h3>
<p>Dividing each number of the magic square by the magic constant will yield a <span class="hyperlink-click" data-id="643947371">doubly stochastic matrix</span>, whose row sums and column sums equal to unity. However, unlike the doubly stochastic matrix, the diagonal sums of such matrices will also equal to unity. Thus, such matrices constitute a subset of doubly stochastic matrix. The Birkhoff–von Neumann theorem states that for any doubly stochastic matrix <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle A}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>A</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle A}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.743ex; height:2.176ex;" alt="A"></span>, there exists real numbers <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle \theta _{1},\ldots ,\theta _{k}\geq 0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>θ </mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>,</mo>
        <mo>… </mo>
        <mo>,</mo>
        <msub>
          <mi>θ </mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>≥ </mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \theta _{1},\ldots ,\theta _{k}\geq 0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/05171c62298e70da4685ec910d5ae05a6534c939" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:13.763ex; height:2.509ex;" alt="{\displaystyle \theta _{1},\ldots ,\theta _{k}\geq 0}"></span>, where <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle \sum _{i=1}^{k}\theta _{i}=1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <munderover>
          <mo>∑ </mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </munderover>
        <msub>
          <mi>θ </mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sum _{i=1}^{k}\theta _{i}=1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5a67b67e44b0db2c6e37855789cd44c84b188618" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.005ex; width:9.893ex; height:7.343ex;" alt="{\displaystyle \sum _{i=1}^{k}\theta _{i}=1}"></span> and permutation matrices <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle P_{1},\ldots ,P_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>P</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>,</mo>
        <mo>… </mo>
        <mo>,</mo>
        <msub>
          <mi>P</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle P_{1},\ldots ,P_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/74dc83b4a5e3b411d921e072b95d669335192a72" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:10.306ex; height:2.509ex;" alt="{\displaystyle P_{1},\ldots ,P_{k}}"></span> such that
</p>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle A=\theta _{1}P_{1}+\cdots +\theta _{k}P_{k}.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>A</mi>
        <mo>=</mo>
        <msub>
          <mi>θ </mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <msub>
          <mi>P</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>+</mo>
        <mo>⋯ </mo>
        <mo>+</mo>
        <msub>
          <mi>θ </mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <msub>
          <mi>P</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle A=\theta _{1}P_{1}+\cdots +\theta _{k}P_{k}.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e1c63705b3c2e50361c76e44f2fca0fec7f34db9" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:23.344ex; height:2.509ex;" alt="{\displaystyle A=\theta _{1}P_{1}+\cdots +\theta _{k}P_{k}.}"></span></dd></dl>
<p>This representation may not be unique in general. By Marcus-Ree theorem, however, there need not be more than <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle k\leq n^{2}-2n+2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>k</mi>
        <mo>≤ </mo>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mo>− </mo>
        <mn>2</mn>
        <mi>n</mi>
        <mo>+</mo>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle k\leq n^{2}-2n+2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c4eb066c6c13550d3d9c1b5554dd77b24e66f728" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.505ex; width:16.159ex; height:2.843ex;" alt="{\displaystyle k\leq n^{2}-2n+2}"></span> terms in any decomposition. Clearly, this decomposition carries over to magic squares as well, since we can recover a magic square from a doubly stochastic matrix by multiplying it by the magic constant.
</p>
<h2>Classification of magic squares</h2>
<div class="thumb tright"><div class="thumbinner" style="width:172px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f6/4x4_magic_square_hierarchy.svg/170px-4x4_magic_square_hierarchy.svg.png" decoding="async" width="170" height="306" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f6/4x4_magic_square_hierarchy.svg/255px-4x4_magic_square_hierarchy.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/f/f6/4x4_magic_square_hierarchy.svg/340px-4x4_magic_square_hierarchy.svg.png 2x" data-file-width="512" data-file-height="922"> <div class="thumbcaption"><div class="magnify"> </div><span class="hyperlink-click" data-id="643947372">Euler diagram</span> of requirements of some types of 4×4 magic squares. Cells of the same colour sum to the magic constant. * In 4×4 most-perfect magic squares, any 2 cells that are 2 cells diagonally apart (including wraparound) sum to half the magic constant, hence any 2 such pairs also sum to the magic constant.</div></div></div>
<p>While the classification of magic squares can be done in many ways, some useful categories are given below. An <i>n</i>×<i>n</i> square array of integers 1, 2, ..., <i>n</i><sup>2</sup> is called:
</p>
<ul><li><i>Semi-magic square</i> when its rows and columns sum to give the magic constant.</li>
<li><i>Simple magic square</i> when its rows, columns, and two diagonals sum to give magic constant and no more. They are also known as <i>ordinary magic squares</i> or <i>normal magic squares</i>.</li>
<li><i>Self-complementary magic square</i> when it is a magic square which when complemented (i.e. each number subtracted from <i>n</i><sup>2</sup> + 1) will give a rotated or reflected version of the original magic square.</li>
<li><i><span class="hyperlink-click" data-id="643947161">Associative magic square</span></i> when it is a magic square with a further property that every number added to the number equidistant, in a straight line, from the center gives <i>n</i><sup>2</sup> + 1. They are also called <i>symmetric magic squares</i>. Associated magic squares do not exist for squares of singly even order. All associated magic square are self-complementary magic squares as well.</li>
<li><i><span class="hyperlink-click" data-id="643947166">Pandiagonal magic square</span></i> when it is a magic square with a further property that the broken diagonals sum to the magic constant. They are also called <i>panmagic squares</i>, <i>perfect squares</i>, <i>diabolic squares</i>, <i>Jain squares</i>, or <i>Nasik squares</i>. Panmagic squares do not exist for singly even orders. However, singly even non-normal squares can be panmagic.</li>
<li><i>Ultra magic square</i> when it is both associative and pandiagonal magic square. Ultra magic square exist only for orders <i>n</i> ≥ 5.</li>
<li><i>Bordered magic square</i> when it is a magic square and it remains magic when the rows and columns on the outer edge are removed. They are also called <i>concentric bordered magic squares</i> if removing a border of a square successively gives another smaller bordered magic square. Bordered magic square do not exist for order 4.</li>
<li><i>Composite magic square</i> when it is a magic square that is created by "multiplying" (in some sense) smaller magic squares, such that the order of the composite magic square is a multiple of the order of the smaller squares. Such squares can usually be partitioned into smaller non-overlapping magic sub-squares.</li>
<li><i>Inlaid magic square</i> when it is a magic square inside which a magic sub-square is embedded, regardless of construction technique. The embedded magic sub-squares are themselves referred to as <i>inlays</i>.</li>
<li><i><span class="hyperlink-click" data-id="643947168">Most-perfect magic square</span></i> when it is a pandiagonal magic square with two further properties (i) each 2×2 subsquare add to 1/<i>k</i> of the magic constant where <i>n</i> = 4<i>k</i>, and (ii) all pairs of integers distant <i>n</i>/2 along any diagonal (major or broken) are complementary (i.e. they sum to <i>n</i><sup>2</sup> + 1). The first property is referred to as <i>compactness</i>, while the second property is referred to as <i>completeness</i>. Most-perfect magic squares exist only for squares of doubly even order. All the pandiagonal squares of order 4 are also most perfect.</li>
<li><i>Franklin magic square</i> when it is a doubly even magic square with three further properties (i) every bent diagonal adds to the magic constant, (ii) every half row and half column starting at an outside edge adds to half the magic constant, and (iii) the square is <i>compact</i>.</li>
<li><i><span class="hyperlink-click" data-id="643947376">Multimagic square</span></i> when it is a magic square that remains magic even if all its numbers are replaced by their <i>k</i>-th power for 1 ≤ <i>k</i> ≤ <i>P</i>. They are also known as <i>P-multimagic square</i> or <i>satanic squares</i>. They are also referred to as <i>bimagic squares</i>, <i>trimagic squares</i>, <i>tetramagic squares</i>, <i>pentamagic squares</i> when the value of <i>P</i> is 2, 3, 4, and 5 respectively.</li></ul>
<h2>Enumeration of magic squares</h2>
<style data-mw-deduplicate="TemplateStyles:r1008882535">.mw-parser-output .unsolved{margin:0 1em 1em;border:#ccc solid;padding:0.35em 0.35em 0.35em 2.2em;background-color:#eee;background-image:url("https://upload.wikimedia.org/wikipedia/commons/2/26/Question%2C_Web_Fundamentals.svg");background-position:top 50%left 0.35em;background-size:1.5em;background-repeat:no-repeat}@media(min-width:720px){.mw-parser-output .unsolved{float:right;max-width:25%}}.mw-parser-output .unsolved-label{font-weight:bold}.mw-parser-output .unsolved-body{margin:0.35em;font-style:italic}.mw-parser-output .unsolved-more{font-size:smaller}</style>
<div role="note" aria-labelledby="unsolved-label-mathematics" class="unsolved">
<div><span class="unsolved-label" id="unsolved-label-mathematics">Unsolved problem in mathematics</span>:</div>
<p class="unsolved-body">How many <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle n\times n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo>× </mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n\times n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/59d2b4cb72e304526cf5b5887147729ea259da78" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:5.63ex; height:1.676ex;" alt="n\times n"></span> magic squares, and how many magic tori of order <span class="texhtml mvar" style="font-style:italic;">n</span>, are there for <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle n>5}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo>></mo>
        <mn>5</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n>5}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8bd2bf6a3536376e04ca3924122de04b11344796" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:5.656ex; height:2.176ex;" alt="n > 5"></span>? </p>
<div class="unsolved-more"><span class="hyperlink-click" data-id="643947377">(more unsolved problems in mathematics)</span></div>
</div>
<dl><dt>Low order squares</dt></dl>
<p>There is only one (trivial) magic square of order 1 and no magic square of order 2. As mentioned above, the set of normal squares of order three constitutes a single <span class="hyperlink-click" data-id="643947378">equivalence class</span>-all equivalent to the Lo Shu square. Thus there is basically just one normal magic square of order 3.
</p><p>The number of different <i>n</i> × <i>n</i> magic squares for <i>n</i> from 1 to 5, not counting rotations and reflections is:
</p>
<dl><dd>1, 0, 1, 880, 275305224. (sequence <span class="nowrap external"> A006052 </span> in the <span class="hyperlink-click" data-id="643947368">OEIS</span>)</dd></dl>
<p>The number for <i>n</i> = 6 has been estimated to be <span class="nowrap">(1.7745 ± 0.0016) × 10<sup>19</sup>.</span>
</p>
<dl><dt>Magic tori</dt></dl>
<p>Cross-referenced to the above sequence, a new classification enumerates the magic tori that display these magic squares. The number of magic tori of order <i>n</i> from 1 to 5, is: 
</p>
<dl><dd>1, 0, 1, 255, 251449712 (sequence <span class="nowrap external"> A270876 </span> in the <span class="hyperlink-click" data-id="643947368">OEIS</span>).</dd></dl>
<dl><dt>Higher order squares and tori</dt></dl>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Journal.pone.0125062.g001.PNG/220px-Journal.pone.0125062.g001.PNG" decoding="async" width="220" height="158" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Journal.pone.0125062.g001.PNG/330px-Journal.pone.0125062.g001.PNG 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Journal.pone.0125062.g001.PNG/440px-Journal.pone.0125062.g001.PNG 2x" data-file-width="3500" data-file-height="2513"> <div class="thumbcaption"><div class="magnify"> </div>Semi-log plot of Pn, the probability of magic squares of dimension n</div></div></div>
<p>The number of distinct normal magic squares rapidly increases for higher orders.
</p><p>The 880 magic squares of order 4 are displayed on 255 magic tori of order 4 and the 275,305,224 squares of order 5 are displayed on 251,449,712 magic tori of order 5. The number of magic tori and distinct normal squares is not yet known for any higher order.
</p><p>Algorithms tend to only generate magic squares of a certain type or classification, making counting all possible magic squares quite difficult. Traditional counting methods have proven unsuccessful, statistical analysis using the <span class="hyperlink-click" data-id="643947381">Monte Carlo method</span> has been applied. The basic principle applied to magic squares is to randomly generate <i>n</i> × <i>n</i> matrices of elements 1 to <i>n</i><sup>2</sup> and check if the result is a magic square. The probability that a randomly generated matrix of numbers is a magic square is then used to approximate the number of magic squares.
</p><p>More intricate versions of the Monte Carlo method, such as the exchange Monte Carlo, and Monte Carlo backtracking have produced even more accurate estimations. Using these methods it has been shown that the probability of magic squares decreases rapidly as n increases. Using fitting functions give the curves seen to the right.
</p>
<h2>Transformations that preserve the magic property</h2>
<h3>For any magic square</h3>
<ul><li>A magic square remains magic when its numbers are multiplied by any constant.</li>
<li>A magic square remains magic when a constant is added or subtracted to its numbers, or if its numbers are subtracted from a constant. In particular, if every element in a normal magic square is subtracted from <i>n</i><sup>2</sup> + 1, we obtain the <b>complement</b> of the original square. In the example below, elements of 4×4 square on the left is subtracted from 17 to obtain the complement of the square on the right.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td>3</td>
<td>13</td>
<td>8
</td></tr>
<tr>
<td>5</td>
<td>16</td>
<td>2</td>
<td>11
</td></tr>
<tr>
<td>4</td>
<td>9</td>
<td>7</td>
<td>14
</td></tr>
<tr>
<td>15</td>
<td>6</td>
<td>12</td>
<td>1
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>7</td>
<td>14</td>
<td>4</td>
<td>9
</td></tr>
<tr>
<td>12</td>
<td>1</td>
<td>15</td>
<td>6
</td></tr>
<tr>
<td>13</td>
<td>8</td>
<td>10</td>
<td>3
</td></tr>
<tr>
<td>2</td>
<td>11</td>
<td>5</td>
<td>16
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<ul><li>The numbers of a magic square can be substituted with corresponding numbers from a set of <i>s</i> arithmetic progressions with the same common difference among <i>r</i> terms, such that <i>r × s</i> = <i>n</i><sup>2</sup>, and whose initial terms are also in arithmetic progression, to obtain a non-normal magic square. Here either <i>s</i> or <i>r</i> should be a multiple of <i>n</i>. Let us have <i>s</i> arithmetic progressions given by</li></ul>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle {\begin{array}{lllll}a&a+c&a+2c&\cdots &a+(r-1)c\\a+d&a+c+d&a+2c+d&\cdots &a+(r-1)c+d\\a+2d&a+c+2d&a+2c+2d&\cdots &a+(r-1)c+2d\\\cdots &\cdots &\cdots &\cdots &\cdots \\a+(s-1)d&a+c+(s-1)d&a+2c+(s-1)d&\cdots &a+(r-1)c+(s-1)d\\\end{array}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="left left left left left" rowspacing="4pt" columnspacing="1em">
            <mtr>
              <mtd>
                <mi>a</mi>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mi>c</mi>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mn>2</mn>
                <mi>c</mi>
              </mtd>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mo stretchy="false">(</mo>
                <mi>r</mi>
                <mo>− </mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mi>c</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mi>c</mi>
                <mo>+</mo>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mn>2</mn>
                <mi>c</mi>
                <mo>+</mo>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mo stretchy="false">(</mo>
                <mi>r</mi>
                <mo>− </mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mi>c</mi>
                <mo>+</mo>
                <mi>d</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mn>2</mn>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mi>c</mi>
                <mo>+</mo>
                <mn>2</mn>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mn>2</mn>
                <mi>c</mi>
                <mo>+</mo>
                <mn>2</mn>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mo stretchy="false">(</mo>
                <mi>r</mi>
                <mo>− </mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mi>c</mi>
                <mo>+</mo>
                <mn>2</mn>
                <mi>d</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mo stretchy="false">(</mo>
                <mi>s</mi>
                <mo>− </mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mi>c</mi>
                <mo>+</mo>
                <mo stretchy="false">(</mo>
                <mi>s</mi>
                <mo>− </mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mn>2</mn>
                <mi>c</mi>
                <mo>+</mo>
                <mo stretchy="false">(</mo>
                <mi>s</mi>
                <mo>− </mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mi>d</mi>
              </mtd>
              <mtd>
                <mo>⋯ </mo>
              </mtd>
              <mtd>
                <mi>a</mi>
                <mo>+</mo>
                <mo stretchy="false">(</mo>
                <mi>r</mi>
                <mo>− </mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mi>c</mi>
                <mo>+</mo>
                <mo stretchy="false">(</mo>
                <mi>s</mi>
                <mo>− </mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mi>d</mi>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{array}{lllll}a&a+c&a+2c&\cdots &a+(r-1)c\\a+d&a+c+d&a+2c+d&\cdots &a+(r-1)c+d\\a+2d&a+c+2d&a+2c+2d&\cdots &a+(r-1)c+2d\\\cdots &\cdots &\cdots &\cdots &\cdots \\a+(s-1)d&a+c+(s-1)d&a+2c+(s-1)d&\cdots &a+(r-1)c+(s-1)d\\\end{array}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b9fe4d3e93f8e74e3f6571389de9e90080e45aa0" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -7.505ex; width:81.085ex; height:16.176ex;" alt="{\displaystyle {\begin{array}{lllll}a&a+c&a+2c&\cdots &a+(r-1)c\\a+d&a+c+d&a+2c+d&\cdots &a+(r-1)c+d\\a+2d&a+c+2d&a+2c+2d&\cdots &a+(r-1)c+2d\\\cdots &\cdots &\cdots &\cdots &\cdots \\a+(s-1)d&a+c+(s-1)d&a+2c+(s-1)d&\cdots &a+(r-1)c+(s-1)d\\\end{array}}}"></span></dd></dl></dd>
<dd>where <i>a</i> is the initial term, <i>c</i> is the common difference of the arithmetic progressions, and <i>d</i> is the common difference among the initial terms of each progression. The new magic constant will be
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle M=na+{\frac {n}{2}}{\big [}(r-1)c+(s-1)d{\big ]}.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>M</mi>
        <mo>=</mo>
        <mi>n</mi>
        <mi>a</mi>
        <mo>+</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mi>n</mi>
            <mn>2</mn>
          </mfrac>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mo maxsize="1.2em" minsize="1.2em">[</mo>
          </mrow>
        </mrow>
        <mo stretchy="false">(</mo>
        <mi>r</mi>
        <mo>− </mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mi>c</mi>
        <mo>+</mo>
        <mo stretchy="false">(</mo>
        <mi>s</mi>
        <mo>− </mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mi>d</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mo maxsize="1.2em" minsize="1.2em">]</mo>
          </mrow>
        </mrow>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle M=na+{\frac {n}{2}}{\big [}(r-1)c+(s-1)d{\big ]}.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1315a1e80e660caa150524368fc718884b56906e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.838ex; width:34.649ex; height:4.676ex;" alt="{\displaystyle M=na+{\frac {n}{2}}{\big [}(r-1)c+(s-1)d{\big ]}.}"></span></dd></dl></dd>
<dd>If <i>s</i> = <i>r</i> = <i>n</i>, then we have the simplification
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle M=na+{\frac {n}{2}}(n-1)(c+d).}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>M</mi>
        <mo>=</mo>
        <mi>n</mi>
        <mi>a</mi>
        <mo>+</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mi>n</mi>
            <mn>2</mn>
          </mfrac>
        </mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo>− </mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo stretchy="false">(</mo>
        <mi>c</mi>
        <mo>+</mo>
        <mi>d</mi>
        <mo stretchy="false">)</mo>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle M=na+{\frac {n}{2}}(n-1)(c+d).}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/629bb57c666367caacc7f6e9851b448eed81ae6d" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.838ex; width:27.963ex; height:4.676ex;" alt="{\displaystyle M=na+{\frac {n}{2}}(n-1)(c+d).}"></span></dd></dl></dd>
<dd>If we further have <i>a</i> = <i>c</i> = 1 and <i>d</i> = <i>n</i>, we obtain the usual <i>M</i> = <i>n</i>(<i>n</i><sup>2</sup>+1)/2. For given <i>M</i> we can find the required <i>a</i>, <i>c</i>, and <i>d</i> by solving the linear Diophantine equation. In the examples below, we have order 4 normal magic square on the left most side. The second square is a corresponding non-normal magic square with <i>r</i> = 8, <i>s</i> = 2, <i>a</i> = 1, <i>c</i> = 1, and <i>d</i> = 10 such that the new magic constant is <i>M</i> = 38. The third square is an order 5 normal magic square, which is a 90 degree clockwise rotated version of the square generated by De la Loubere method. On the right most side is a corresponding non-normal magic square with <i>a</i> = 4, <i>c</i> = 1, and <i>d</i> = 6 such that the new magic constant is <i>M</i> = 90.</dd></dl>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>15</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td>12</td>
<td>6</td>
<td>7</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td>10</td>
<td>11</td>
<td>5
</td></tr>
<tr>
<td>13</td>
<td>3</td>
<td>2</td>
<td>16
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>17</td>
<td>16</td>
<td>4
</td></tr>
<tr>
<td>14</td>
<td>6</td>
<td>7</td>
<td>11
</td></tr>
<tr>
<td>8</td>
<td>12</td>
<td>13</td>
<td>5
</td></tr>
<tr>
<td>15</td>
<td>3</td>
<td>2</td>
<td>18
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>11</td>
<td>10</td>
<td>4</td>
<td>23</td>
<td>17
</td></tr>
<tr>
<td>18</td>
<td>12</td>
<td>6</td>
<td>5</td>
<td>24
</td></tr>
<tr>
<td>25</td>
<td>19</td>
<td>13</td>
<td>7</td>
<td>1
</td></tr>
<tr>
<td>2</td>
<td>21</td>
<td>20</td>
<td>14</td>
<td>8
</td></tr>
<tr>
<td>9</td>
<td>3</td>
<td>22</td>
<td>16</td>
<td>15
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>16</td>
<td>14</td>
<td>7</td>
<td>30</td>
<td>23
</td></tr>
<tr>
<td>24</td>
<td>17</td>
<td>10</td>
<td>8</td>
<td>31
</td></tr>
<tr>
<td>32</td>
<td>25</td>
<td>18</td>
<td>11</td>
<td>4
</td></tr>
<tr>
<td>5</td>
<td>28</td>
<td>26</td>
<td>19</td>
<td>12
</td></tr>
<tr>
<td>13</td>
<td>6</td>
<td>29</td>
<td>22</td>
<td>20
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<ul><li>Any magic square can be <span class="hyperlink-click" data-id="643947382">rotated</span> and <span class="hyperlink-click" data-id="643947383">reflected</span> to produce 8 trivially distinct squares. In magic square theory, all of these are generally deemed equivalent and the eight such squares are said to make up a single <span class="hyperlink-click" data-id="643947378">equivalence class</span>. In discussing magic squares, equivalent squares are usually not considered as distinct. The 8 equivalent squares are given for the 3×3 magic square below:</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>8</td>
<td>1</td>
<td>6
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>4</td>
<td>9</td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>6</td>
<td>1</td>
<td>8
</td></tr>
<tr>
<td>7</td>
<td>5</td>
<td>3
</td></tr>
<tr>
<td>2</td>
<td>9</td>
<td>4
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>7</td>
<td>6
</td></tr>
<tr>
<td>9</td>
<td>5</td>
<td>1
</td></tr>
<tr>
<td>4</td>
<td>3</td>
<td>8
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>4</td>
<td>3</td>
<td>8
</td></tr>
<tr>
<td>9</td>
<td>5</td>
<td>1
</td></tr>
<tr>
<td>2</td>
<td>7</td>
<td>6
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>9</td>
<td>4
</td></tr>
<tr>
<td>7</td>
<td>5</td>
<td>3
</td></tr>
<tr>
<td>6</td>
<td>1</td>
<td>8
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>4</td>
<td>9</td>
<td>2
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>8</td>
<td>1</td>
<td>6
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>8</td>
<td>3</td>
<td>4
</td></tr>
<tr>
<td>1</td>
<td>5</td>
<td>9
</td></tr>
<tr>
<td>6</td>
<td>7</td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>6</td>
<td>7</td>
<td>2
</td></tr>
<tr>
<td>1</td>
<td>5</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td>3</td>
<td>4
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<ul><li>Given any magic square, another magic square of the same order can be formed by interchanging the row and the column which intersect in a cell on a diagonal with the row and the column which intersect in the complementary cell (i.e. cell symmetrically opposite from the center) of the same diagonal. For an even square, there are <i>n</i>/2 pairs of rows and columns that can be interchanged; thus we can obtain 2<sup><i>n</i>/2</sup> equivalent magic squares by combining such interchanges. For odd square, there are (<i>n</i> - 1)/2 pairs of rows and columns that can be interchanged; and 2<sup>(<i>n</i>-1)/2</sup> equivalent magic squares obtained by combining such interchanges. Interchanging all the rows and columns rotates the square by 180 degree. In the example using a 4×4 magic square, the left square is the original square, while the right square is the new square obtained by interchanging the 1st and 4th rows and columns.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;"><b>1</b></td>
<td style="background-color: silver;">15</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;"><b>4</b>
</td></tr>
<tr>
<td style="background-color: silver;">12</td>
<td>6</td>
<td>7</td>
<td style="background-color: silver;">9
</td></tr>
<tr>
<td style="background-color: silver;">8</td>
<td>10</td>
<td>11</td>
<td style="background-color: silver;">5
</td></tr>
<tr>
<td style="background-color: silver;"><b>13</b></td>
<td style="background-color: silver;">3</td>
<td style="background-color: silver;">2</td>
<td style="background-color: silver;"><b>16</b>
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>16</td>
<td>3</td>
<td>2</td>
<td>13
</td></tr>
<tr>
<td>9</td>
<td>6</td>
<td>7</td>
<td>12
</td></tr>
<tr>
<td>5</td>
<td>10</td>
<td>11</td>
<td>8
</td></tr>
<tr>
<td>4</td>
<td>15</td>
<td>14</td>
<td>1
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<ul><li>Given any magic square, another magic square of the same order can be formed by interchanging two rows on one side of the center line, and then interchanging the corresponding two rows on the other side of the center line; then interchanging like columns. For an even square, since there are <i>n</i>/2 same sided rows and columns, there are <i>n</i>(<i>n</i> - 2)/8 pairs of such rows and columns that can be interchanged. Thus we can obtain 2<sup><i>n</i>(<i>n</i>-2)/8</sup> equivalent magic squares by combining such interchanges. For odd square, since there are (<i>n</i> - 1)/2 same sided rows and columns, there are (<i>n</i> - 1)(<i>n</i> - 3)/8 pairs of such rows and columns that can be interchanged. Thus, there are 2<sup>(<i>n</i> - 1)(<i>n</i> - 3)/8</sup> equivalent magic squares obtained by combining such interchanges. Interchanging every possible pairs of rows and columns rotates each quadrant of the square by 180 degree. In the example using a 4×4 magic square, the left square is the original square, while the right square is the new square obtained by this transformation. In the middle square, row 1 has been interchanged with row 2; and row 3 and 4 has been interchanged. The final square on the right is obtained by interchanging columns 1 and 2, and columns 3 and 4 of the middle square. In this particular example, this transform amounts to rotating the quadrants by 180 degree. The middle square is also a magic square, since the original square is an associative magic square.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>15</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td>12</td>
<td>6</td>
<td>7</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td>10</td>
<td>11</td>
<td>5
</td></tr>
<tr>
<td>13</td>
<td>3</td>
<td>2</td>
<td>16
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>12</td>
<td>6</td>
<td>7</td>
<td>9
</td></tr>
<tr>
<td>1</td>
<td>15</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td>13</td>
<td>3</td>
<td>2</td>
<td>16
</td></tr>
<tr>
<td>8</td>
<td>10</td>
<td>11</td>
<td>5
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>6</td>
<td>12</td>
<td>9</td>
<td>7
</td></tr>
<tr>
<td>15</td>
<td>1</td>
<td>4</td>
<td>14
</td></tr>
<tr>
<td>3</td>
<td>13</td>
<td>16</td>
<td>2
</td></tr>
<tr>
<td>10</td>
<td>8</td>
<td>5</td>
<td>11
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<ul><li>A magic square remains magic when any of its non-central rows <i>x</i> and <i>y</i> are interchanged, along with the interchange of their complementary rows <i>n</i> - <i>x</i> + 1 and <i>n</i> - <i>y</i> + 1; and then interchanging like columns. This is a generalization of the above two transforms. When <i>y</i> = <i>n</i> - <i>x</i> + 1, this transform reduces to the first of the above two transforms. When <i>x</i> and <i>y</i> are on the same side of the center line, this transform reduces to the second of the above two transforms. In the example below, the original square is on the left side, while the final square on the right. The middle square has been obtained by interchanging rows 1 and 3, and rows 2 and 4 of the original square. The final square on the right is obtained by interchanging columns 1 and 3, and columns 2 and 4 of the middle square. In this example, this transform amounts to interchanging the quadrants diagonally. Since the original square is associative, the middle square also happens to be magic.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>15</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td>12</td>
<td>6</td>
<td>7</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td>10</td>
<td>11</td>
<td>5
</td></tr>
<tr>
<td>13</td>
<td>3</td>
<td>2</td>
<td>16
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>8</td>
<td>10</td>
<td>11</td>
<td>5
</td></tr>
<tr>
<td>13</td>
<td>3</td>
<td>2</td>
<td>16
</td></tr>
<tr>
<td>1</td>
<td>15</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td>12</td>
<td>6</td>
<td>7</td>
<td>9
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>11</td>
<td>5</td>
<td>8</td>
<td>10
</td></tr>
<tr>
<td>2</td>
<td>16</td>
<td>13</td>
<td>3
</td></tr>
<tr>
<td>14</td>
<td>4</td>
<td>1</td>
<td>15
</td></tr>
<tr>
<td>7</td>
<td>9</td>
<td>12</td>
<td>6
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<ul><li>A magic square remains magic when its quadrants are diagonally interchanged. This is exact for even ordered squares. For odd ordered square, the halves of the central row and central column also needs to be interchanged. Examples for even and odd squares are given below:</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">15</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td style="background-color: silver;">12</td>
<td style="background-color: silver;">6</td>
<td>7</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td>10</td>
<td style="background-color: silver;">11</td>
<td style="background-color: silver;">5
</td></tr>
<tr>
<td>13</td>
<td>3</td>
<td style="background-color: silver;">2</td>
<td style="background-color: silver;">16
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>11</td>
<td>5</td>
<td>8</td>
<td>10
</td></tr>
<tr>
<td>2</td>
<td>16</td>
<td>13</td>
<td>3
</td></tr>
<tr>
<td>14</td>
<td>4</td>
<td>1</td>
<td>15
</td></tr>
<tr>
<td>7</td>
<td>9</td>
<td>12</td>
<td>6
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">17</td>
<td style="background-color: silver;">24</td>
<td><b>1</b></td>
<td>8</td>
<td>15
</td></tr>
<tr>
<td style="background-color: silver;">23</td>
<td style="background-color: silver;">5</td>
<td><b>7</b></td>
<td>14</td>
<td>16
</td></tr>
<tr>
<td><b>4</b></td>
<td><b>6</b></td>
<td>13</td>
<td><b>20</b></td>
<td><b>22</b>
</td></tr>
<tr>
<td>10</td>
<td>12</td>
<td><b>19</b></td>
<td style="background-color: silver;">21</td>
<td style="background-color: silver;">3
</td></tr>
<tr>
<td>11</td>
<td>18</td>
<td><b>25</b></td>
<td style="background-color: silver;">2</td>
<td style="background-color: silver;">9
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>21</td>
<td>3</td>
<td>19</td>
<td>10</td>
<td>12
</td></tr>
<tr>
<td>2</td>
<td>9</td>
<td>25</td>
<td>11</td>
<td>18
</td></tr>
<tr>
<td>20</td>
<td>22</td>
<td>13</td>
<td>4</td>
<td>6
</td></tr>
<tr>
<td>8</td>
<td>15</td>
<td>1</td>
<td>17</td>
<td>24
</td></tr>
<tr>
<td>14</td>
<td>16</td>
<td>7</td>
<td>23</td>
<td>5
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<h3>For associative magic squares</h3>
<ul><li>An associative magic square remains associative when two rows or columns equidistant from the center are interchanged. For an even square, there are <i>n</i>/2 pairs of rows or columns that can be interchanged; thus we can obtain 2<sup><i>n</i>/2</sup> × 2<sup><i>n</i>/2</sup> = 2<sup><i>n</i></sup> equivalent magic squares by combining such interchanges. For odd square, there are (<i>n</i> - 1)/2 pairs of rows or columns that can be interchanged; and 2<sup><i>n</i>-1</sup> equivalent magic squares obtained by combining such interchanges. Interchanging all the rows flips the square vertically (i.e. reflected along the horizontal axis), while interchanging all the columns flips the square horizontally (i.e. reflected along the vertical axis). In the example below, a 4×4 associative magic square on the left is transformed into a square on the right by interchanging the second and third row, yielding the famous Durer's magic square.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>16</td>
<td>3</td>
<td>2</td>
<td>13
</td></tr>
<tr>
<td style="background-color: silver;">9</td>
<td style="background-color: silver;">6</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">12
</td></tr>
<tr>
<td style="background-color: silver;">5</td>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">11</td>
<td style="background-color: silver;">8
</td></tr>
<tr>
<td>4</td>
<td>15</td>
<td>14</td>
<td>1
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>16</td>
<td>3</td>
<td>2</td>
<td>13
</td></tr>
<tr>
<td>5</td>
<td>10</td>
<td>11</td>
<td>8
</td></tr>
<tr>
<td>9</td>
<td>6</td>
<td>7</td>
<td>12
</td></tr>
<tr>
<td>4</td>
<td>15</td>
<td>14</td>
<td>1
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<ul><li>An associative magic square remains associative when two same sided rows (or columns) are interchanged along with corresponding other sided rows (or columns). For an even square, since there are <i>n</i>/2 same sided rows (or columns), there are <i>n</i>(<i>n</i> - 2)/8 pairs of such rows (or columns) that can be interchanged. Thus, we can obtain 2<sup><i>n</i>(<i>n</i>-2)/8</sup> × 2<sup><i>n</i>(<i>n</i>-2)/8</sup> = 2<sup><i>n</i>(<i>n</i>-2)/4</sup> equivalent magic squares by combining such interchanges. For odd square, since there are (<i>n</i> - 1)/2 same sided rows or columns, there are (<i>n</i> - 1)(<i>n</i> - 3)/8 pairs of such rows or columns that can be interchanged. Thus, there are 2<sup>(<i>n</i> - 1)(<i>n</i> - 3)/8</sup> × 2<sup>(<i>n</i> - 1)(<i>n</i> - 3)/8</sup> = 2<sup>(<i>n</i> - 1)(<i>n</i> - 3)/4</sup> equivalent magic squares obtained by combining such interchanges. Interchanging all the same sided rows flips each quadrants of the square vertically, while interchanging all the same sided columns flips each quadrant of the square horizontally. In the example below, the original square is on the left, whose rows 1 and 2 are interchanged with each other, along with rows 3 and 4, to obtain the transformed square on the right.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>15</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td>12</td>
<td>6</td>
<td>7</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td>10</td>
<td>11</td>
<td>5
</td></tr>
<tr>
<td>13</td>
<td>3</td>
<td>2</td>
<td>16
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>12</td>
<td>6</td>
<td>7</td>
<td>9
</td></tr>
<tr>
<td>1</td>
<td>15</td>
<td>14</td>
<td>4
</td></tr>
<tr>
<td>13</td>
<td>3</td>
<td>2</td>
<td>16
</td></tr>
<tr>
<td>8</td>
<td>10</td>
<td>11</td>
<td>5
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<h3>For pan-diagonal magic squares</h3>
<ul><li>A pan-diagonal magic square remains a pan-diagonal magic square under cyclic shifting of rows or of columns or both. This allows us to position a given number in any one of the <i>n</i><sup>2</sup> cells of an <i>n</i> order square. Thus, for a given pan-magic square, there are <i>n</i><sup>2</sup> equivalent pan-magic squares. In the example below, the original square on the left is transformed by shifting the first row to the bottom to obtain a new pan-magic square in the middle. Next, the 1st and 2nd column of the middle pan-magic square is circularly shifted to the right to obtain a new pan-magic square on the right.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">3</td>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">8
</td></tr>
<tr>
<td>5</td>
<td>16</td>
<td>2</td>
<td>11
</td></tr>
<tr>
<td>4</td>
<td>9</td>
<td>7</td>
<td>14
</td></tr>
<tr>
<td>15</td>
<td>6</td>
<td>12</td>
<td>1
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">5</td>
<td style="background-color: silver;">16</td>
<td>2</td>
<td>11
</td></tr>
<tr>
<td style="background-color: silver;">4</td>
<td style="background-color: silver;">9</td>
<td>7</td>
<td>14
</td></tr>
<tr>
<td style="background-color: silver;">15</td>
<td style="background-color: silver;">6</td>
<td>12</td>
<td>1
</td></tr>
<tr>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">3</td>
<td>13</td>
<td>8
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>11</td>
<td>5</td>
<td>16
</td></tr>
<tr>
<td>7</td>
<td>14</td>
<td>4</td>
<td>9
</td></tr>
<tr>
<td>12</td>
<td>1</td>
<td>15</td>
<td>6
</td></tr>
<tr>
<td>13</td>
<td>8</td>
<td>10</td>
<td>3
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<h3>For bordered magic squares</h3>
<ul><li>A bordered magic square remains a bordered magic square after permuting the border cells in the rows or columns, together with their corresponding complementary terms, keeping the corner cells fixed. Since the cells in each row and column of every concentric border can be permuted independently, when the order <i>n ≥ 5</i> is odd, there are ((n-2)! × (n-4)! × ··· × 3!)<sup>2</sup> equivalent bordered squares. When <i>n ≥ 6</i> is even, there are ((n-2)! × (n-4)! × ··· × 4!)<sup>2</sup> equivalent bordered squares. In the example below, a square of order 5 is given whose border row has been permuted. We can obtain (3!)<sup>2</sup> = 36 such equivalent squares.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td><b>23</b></td>
<td><b>16</b></td>
<td>4</td>
<td>21
</td></tr>
<tr>
<td>15</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">18</td>
<td>11
</td></tr>
<tr>
<td>24</td>
<td style="background-color: silver;">17</td>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">9</td>
<td>2
</td></tr>
<tr>
<td>20</td>
<td style="background-color: silver;">8</td>
<td style="background-color: silver;">19</td>
<td style="background-color: silver;">12</td>
<td>6
</td></tr>
<tr>
<td>5</td>
<td><b>3</b></td>
<td><b>10</b></td>
<td>22</td>
<td>25
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>16</td>
<td>23</td>
<td>4</td>
<td>21
</td></tr>
<tr>
<td>15</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">18</td>
<td>11
</td></tr>
<tr>
<td>24</td>
<td style="background-color: silver;">17</td>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">9</td>
<td>2
</td></tr>
<tr>
<td>20</td>
<td style="background-color: silver;">8</td>
<td style="background-color: silver;">19</td>
<td style="background-color: silver;">12</td>
<td>6
</td></tr>
<tr>
<td>5</td>
<td>10</td>
<td>3</td>
<td>22</td>
<td>25
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<ul><li>A bordered magic square remains a bordered magic square after each of its concentric borders are independently rotated or reflected with respect to the central core magic square. If there are <i>b</i> borders, then this transform will yield 8<sup><i>b</i></sup> equivalent squares. In the example below of the 5×5 magic square, the border has been rotated 90 degrees anti-clockwise.</li></ul>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>23</td>
<td>16</td>
<td>4</td>
<td>21
</td></tr>
<tr>
<td>15</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">18</td>
<td>11
</td></tr>
<tr>
<td>24</td>
<td style="background-color: silver;">17</td>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">9</td>
<td>2
</td></tr>
<tr>
<td>20</td>
<td style="background-color: silver;">8</td>
<td style="background-color: silver;">19</td>
<td style="background-color: silver;">12</td>
<td>6
</td></tr>
<tr>
<td>5</td>
<td>3</td>
<td>10</td>
<td>22</td>
<td>25
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>21</td>
<td>11</td>
<td>2</td>
<td>6</td>
<td>25
</td></tr>
<tr>
<td>4</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">18</td>
<td>22
</td></tr>
<tr>
<td>16</td>
<td style="background-color: silver;">17</td>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">9</td>
<td>10
</td></tr>
<tr>
<td>23</td>
<td style="background-color: silver;">8</td>
<td style="background-color: silver;">19</td>
<td style="background-color: silver;">12</td>
<td>3
</td></tr>
<tr>
<td>1</td>
<td>15</td>
<td>24</td>
<td>20</td>
<td>5
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<h3>For composite magic squares</h3>
<ul><li>A composite magic square remains a composite magic square when the embedded magic squares undergo transformations that do not disturb the magic property (e.g. rotation, reflection, shifting of rows and columns, and so on).</li></ul>
<h2>Special methods of construction</h2>
<p>Over the millennium, many ways to construct magic squares have been discovered. These methods can be classified as general methods and special methods, in the sense that general methods allow us to construct more than a single magic square of a given order, whereas special methods allow us to construct just one magic square of a given order. Special methods are specific algorithms whereas general methods may require some trial-and-error.
</p><p>Special methods are standard and most simple ways to construct a magic square. It follows certain configurations / formulas / algorithm which generates regular patterns of numbers in a square. The correctness of these special methods can be proved using one of the general methods given in later sections. After a magic square has been constructed using a special method, the transformations described in the previous section can be applied to yield further magic squares. Special methods are usually referred to using the name of the author(s) (if known) who described the method, for e.g. De la Loubere's method, Starchey's method, Bachet's method, etc.
</p><p>Magic squares exist for all values of <i>n</i>, except for order 2. Magic squares can be classified according to their order as odd, doubly even (<i>n</i> divisible by four), and singly even (<i>n</i> even, but not divisible by four). This classification is based on the fact that entirely different techniques need to be employed to construct these different species of squares. Odd and doubly even magic squares are easy to generate; the construction of singly even magic squares is more difficult but several methods exist, including the LUX method for magic squares (due to <span class="hyperlink-click" data-id="643947385">John Horton Conway</span>) and the <span class="hyperlink-click" data-id="643947386">Strachey method for magic squares</span>.
</p>
<h3>A method for constructing a magic square of order 3</h3>
<p>In the 19th century, <span class="hyperlink-click" data-id="643947387">Édouard Lucas</span> devised the general formula for order 3 magic squares. Consider the following table made up of positive integers <i>a</i>, <i>b</i> and <i>c</i>:
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:26em;height:6em;table-layout:fixed;">

<tbody><tr>
<td><i>c</i> − <i>b</i></td>
<td><i>c</i> + (<i>a</i> + <i>b</i>)</td>
<td><i>c</i> − <i>a</i>
</td></tr>
<tr>
<td><i>c</i> − (<i>a</i> − <i>b</i>)</td>
<td><i>c</i></td>
<td><i>c</i> + (<i>a</i> − <i>b</i>)
</td></tr>
<tr>
<td><i>c</i> + <i>a</i></td>
<td><i>c</i> − (<i>a</i> + <i>b</i>)</td>
<td><i>c</i> + <i>b</i>
</td></tr></tbody></table>
<p>These nine numbers will be distinct positive integers forming a magic square with the magic constant 3<i>c</i> so long as 0 < <i>a</i> < <i>b</i> < <i>c</i> − <i>a</i> and <i>b</i> ≠ 2<i>a</i>. Moreover, every 3×3 magic square of distinct positive integers is of this form.
</p><p>In 1997 <span class="hyperlink-click" data-id="643947388">Lee Sallows</span> discovered that leaving aside rotations and reflections, then every distinct <span class="hyperlink-click" data-id="643947389">parallelogram</span> drawn on the <span class="hyperlink-click" data-id="643947390">Argand diagram</span> defines a unique 3×3 magic square, and vice versa, a result that had never previously been noted.
</p>
<h3>A method for constructing a magic square of odd order</h3>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1033289096"><div role="note" class="hatnote navigation-not-searchable">See also: <span class="hyperlink-click" data-id="643947391">Siamese method</span></div>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Yanghui_magic_square.GIF/300px-Yanghui_magic_square.GIF" decoding="async" width="300" height="271" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Yanghui_magic_square.GIF/450px-Yanghui_magic_square.GIF 1.5x, //upload.wikimedia.org/wikipedia/commons/a/ab/Yanghui_magic_square.GIF 2x" data-file-width="510" data-file-height="461"> <div class="thumbcaption"><div class="magnify"> </div><span class="hyperlink-click" data-id="643947292">Yang Hui</span>'s construction method</div></div></div>
<p>A method for constructing magic squares of odd order was published by the French diplomat de la Loubère in his book, <i>A new historical relation of the kingdom of Siam</i> (Du Royaume de Siam, 1693), in the chapter entitled <i>The problem of the magical square according to the Indians</i>. The method operates as follows:
</p><p>The method prescribes starting in the central column of the first row with the number 1. After that, the fundamental movement for filling the squares is diagonally up and right, one step at a time. If a filled square is encountered, one moves vertically down one square instead, then continues as before. When an "up and to the right" move would leave the square, it is wrapped around to the last row or first column, respectively.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 1
</caption>
<tbody><tr>
<td></td>
<td>1</td>
<td>
</td></tr>
<tr>
<td> </td>
<td></td>
<td>
</td></tr>
<tr>
<td> </td>
<td></td>
<td>
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 2
</caption>
<tbody><tr>
<td></td>
<td>1</td>
<td>
</td></tr>
<tr>
<td> </td>
<td></td>
<td>
</td></tr>
<tr>
<td></td>
<td></td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 3
</caption>
<tbody><tr>
<td></td>
<td>1</td>
<td>
</td></tr>
<tr>
<td>3</td>
<td></td>
<td>
</td></tr>
<tr>
<td></td>
<td></td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 4
</caption>
<tbody><tr>
<td></td>
<td>1</td>
<td>
</td></tr>
<tr>
<td>3</td>
<td></td>
<td>
</td></tr>
<tr>
<td>4</td>
<td></td>
<td>2
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 5
</caption>
<tbody><tr>
<td></td>
<td>1</td>
<td>
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>
</td></tr>
<tr>
<td>4</td>
<td></td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 6
</caption>
<tbody><tr>
<td></td>
<td>1</td>
<td>6
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>
</td></tr>
<tr>
<td>4</td>
<td></td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 7
</caption>
<tbody><tr>
<td></td>
<td>1</td>
<td>6
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>4</td>
<td></td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 8
</caption>
<tbody><tr>
<td>8</td>
<td>1</td>
<td>6
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>4</td>
<td></td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>step 9
</caption>
<tbody><tr>
<td>8</td>
<td>1</td>
<td>6
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>4</td>
<td>9</td>
<td>2
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>Starting from other squares rather than the central column of the first row is possible, but then only the row and column sums will be identical and result in a magic sum, whereas the diagonal sums will differ. The result will thus be a semimagic square and not a true magic square. Moving in directions other than north east can also result in magic squares.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption>Order 3
</caption>
<tbody><tr>
<td>8</td>
<td>1</td>
<td>6
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>7
</td></tr>
<tr>
<td>4</td>
<td>9</td>
<td>2
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<caption>Order 5
</caption>
<tbody><tr>
<td>17</td>
<td>24</td>
<td>1</td>
<td>8</td>
<td>15
</td></tr>
<tr>
<td>23</td>
<td>5</td>
<td>7</td>
<td>14</td>
<td>16
</td></tr>
<tr>
<td>4</td>
<td>6</td>
<td>13</td>
<td>20</td>
<td>22
</td></tr>
<tr>
<td>10</td>
<td>12</td>
<td>19</td>
<td>21</td>
<td>3
</td></tr>
<tr>
<td>11</td>
<td>18</td>
<td>25</td>
<td>2</td>
<td>9
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:18em;height:18em;table-layout:fixed;">

<caption>Order 9
</caption>
<tbody><tr>
<td>47</td>
<td>58</td>
<td>69</td>
<td>80</td>
<td>1</td>
<td>12</td>
<td>23</td>
<td>34</td>
<td>45
</td></tr>
<tr>
<td>57</td>
<td>68</td>
<td>79</td>
<td>9</td>
<td>11</td>
<td>22</td>
<td>33</td>
<td>44</td>
<td>46
</td></tr>
<tr>
<td>67</td>
<td>78</td>
<td>8</td>
<td>10</td>
<td>21</td>
<td>32</td>
<td>43</td>
<td>54</td>
<td>56
</td></tr>
<tr>
<td>77</td>
<td>7</td>
<td>18</td>
<td>20</td>
<td>31</td>
<td>42</td>
<td>53</td>
<td>55</td>
<td>66
</td></tr>
<tr>
<td>6</td>
<td>17</td>
<td>19</td>
<td>30</td>
<td>41</td>
<td>52</td>
<td>63</td>
<td>65</td>
<td>76
</td></tr>
<tr>
<td>16</td>
<td>27</td>
<td>29</td>
<td>40</td>
<td>51</td>
<td>62</td>
<td>64</td>
<td>75</td>
<td>5
</td></tr>
<tr>
<td>26</td>
<td>28</td>
<td>39</td>
<td>50</td>
<td>61</td>
<td>72</td>
<td>74</td>
<td>4</td>
<td>15
</td></tr>
<tr>
<td>36</td>
<td>38</td>
<td>49</td>
<td>60</td>
<td>71</td>
<td>73</td>
<td>3</td>
<td>14</td>
<td>25
</td></tr>
<tr>
<td>37</td>
<td>48</td>
<td>59</td>
<td>70</td>
<td>81</td>
<td>2</td>
<td>13</td>
<td>24</td>
<td>35
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<h3>A method of constructing a magic square of doubly even order</h3>
<p> Doubly even means that <i>n</i> is an even multiple of an even integer; or 4<i>p</i> (e.g. 4, 8, 12), where <i>p</i> is an integer.
</p><p><b>Generic pattern</b>
All the numbers are written in order from left to right across each row in turn, starting from the top left hand corner. Numbers are then either retained in the same place or interchanged with their diametrically opposite numbers in a certain regular pattern. In the magic square of order four, the numbers in the four central squares and one square at each corner are retained in the same place and the others are interchanged with their diametrically opposite numbers.
</p><p><b>A construction of a magic square of order 4</b> 
Starting from top left, go left to right through each row of the square, counting each cell from 1 to 16 and filling the cells along the diagonals with its corresponding number. Once the bottom right cell is reached, continue by going right to left, starting from the bottom right of the table through each row, and fill in the non-diagonal cells counting up from 1 to 16 with its corresponding number. As shown below:
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<caption><i>M</i> = Order 4
</caption>
<tbody><tr>
<td style="background-color: silver;">1</td>
<td></td>
<td></td>
<td style="background-color: silver;">4
</td></tr>
<tr>
<td></td>
<td style="background-color: silver;">6</td>
<td style="background-color: silver;">7</td>
<td>
</td></tr>
<tr>
<td></td>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">11</td>
<td>
</td></tr>
<tr>
<td style="background-color: silver;">13</td>
<td></td>
<td></td>
<td style="background-color: silver;">16
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<caption><i>M</i> = Order 4
</caption>
<tbody><tr>
<td style="background-color: silver;">1</td>
<td>15</td>
<td>14</td>
<td style="background-color: silver;">4
</td></tr>
<tr>
<td>12</td>
<td style="background-color: silver;">6</td>
<td style="background-color: silver;">7</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">11</td>
<td>5
</td></tr>
<tr>
<td style="background-color: silver;">13</td>
<td>3</td>
<td>2</td>
<td style="background-color: silver;">16
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p><b>An extension of the above example for Orders 8 and 12</b>
First generate a pattern table, where a '1' indicates selecting from the square where the numbers are written in order 1 to n<sup>2</sup> (left-to-right, top-to-bottom), and a '0' indicates selecting from the square where the numbers are written in reverse order <i>n</i><sup>2</sup> to 1. For <i>M</i> = 4, the pattern table is as shown below (third matrix from left). When we shade the unaltered cells (cells with '1'), we get a criss-cross pattern.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<caption><i>M</i> = Order 4
</caption>
<tbody><tr>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4
</td></tr>
<tr>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8
</td></tr>
<tr>
<td>9</td>
<td>10</td>
<td>11</td>
<td>12
</td></tr>
<tr>
<td>13</td>
<td>14</td>
<td>15</td>
<td>16
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<caption><i>M</i> = Order 4
</caption>
<tbody><tr>
<td>16</td>
<td>15</td>
<td>14</td>
<td>13
</td></tr>
<tr>
<td>12</td>
<td>11</td>
<td>10</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td>7</td>
<td>6</td>
<td>5
</td></tr>
<tr>
<td>4</td>
<td>3</td>
<td>2</td>
<td>1
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<caption><i>M</i> = Order 4
</caption>
<tbody><tr>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1
</td></tr>
<tr>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0
</td></tr>
<tr>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<caption><i>M</i> = Order 4
</caption>
<tbody><tr>
<td style="background-color: silver;">1</td>
<td>15</td>
<td>14</td>
<td style="background-color: silver;">4
</td></tr>
<tr>
<td>12</td>
<td style="background-color: silver;">6</td>
<td style="background-color: silver;">7</td>
<td>9
</td></tr>
<tr>
<td>8</td>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">11</td>
<td>5
</td></tr>
<tr>
<td style="background-color: silver;">13</td>
<td>3</td>
<td>2</td>
<td style="background-color: silver;">16
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The patterns are a) there are equal number of '1's and '0's in each row and column; b) each row and each column are "palindromic"; c) the left- and right-halves are mirror images; and d) the top- and bottom-halves are mirror images (c and d imply b). The pattern table can be denoted using hexadecimals as (9, 6, 6, 9) for simplicity (1-nibble per row, 4 rows). The simplest method of generating the required pattern for higher ordered doubly even squares is to copy the generic pattern for the fourth-order square in each four-by-four sub-squares.
</p><p>For M = 8, possible choices for the pattern are (99, 66, 66, 99, 99, 66, 66, 99); (3C, 3C, C3, C3, C3, C3, 3C, 3C); (A5, 5A, A5, 5A, 5A, A5, 5A, A5) (2-nibbles per row, 8 rows).
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<caption><i>M</i> = Order 8
</caption>
<tbody><tr>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1
</td></tr>
<tr>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0
</td></tr>
<tr>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1
</td></tr>
<tr>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1
</td></tr>
<tr>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0
</td></tr>
<tr>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">1</td>
<td>0</td>
<td>0</td>
<td style="background-color: silver;">1
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<caption><i>M</i> = Order 8
</caption>
<tbody><tr>
<td style="background-color: silver;">1</td>
<td></td>
<td></td>
<td style="background-color: silver;">4</td>
<td style="background-color: silver;">5</td>
<td></td>
<td></td>
<td style="background-color: silver;">8
</td></tr>
<tr>
<td></td>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">11</td>
<td></td>
<td></td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">15</td>
<td>
</td></tr>
<tr>
<td></td>
<td style="background-color: silver;">18</td>
<td style="background-color: silver;">19</td>
<td></td>
<td></td>
<td style="background-color: silver;">22</td>
<td style="background-color: silver;">23</td>
<td>
</td></tr>
<tr>
<td style="background-color: silver;">25</td>
<td></td>
<td></td>
<td style="background-color: silver;">28</td>
<td style="background-color: silver;">29</td>
<td></td>
<td></td>
<td style="background-color: silver;">32
</td></tr>
<tr>
<td style="background-color: silver;">33</td>
<td></td>
<td></td>
<td style="background-color: silver;">36</td>
<td style="background-color: silver;">37</td>
<td></td>
<td></td>
<td style="background-color: silver;">40
</td></tr>
<tr>
<td></td>
<td style="background-color: silver;">42</td>
<td style="background-color: silver;">43</td>
<td></td>
<td></td>
<td style="background-color: silver;">46</td>
<td style="background-color: silver;">47</td>
<td>
</td></tr>
<tr>
<td></td>
<td style="background-color: silver;">50</td>
<td style="background-color: silver;">51</td>
<td></td>
<td></td>
<td style="background-color: silver;">54</td>
<td style="background-color: silver;">55</td>
<td>
</td></tr>
<tr>
<td style="background-color: silver;">57</td>
<td></td>
<td></td>
<td style="background-color: silver;">60</td>
<td style="background-color: silver;">61</td>
<td></td>
<td></td>
<td style="background-color: silver;">64
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<caption><i>M</i> = Order 8
</caption>
<tbody><tr>
<td style="background-color: silver;">1</td>
<td>63</td>
<td>62</td>
<td style="background-color: silver;">4</td>
<td style="background-color: silver;">5</td>
<td>59</td>
<td>58</td>
<td style="background-color: silver;">8
</td></tr>
<tr>
<td>56</td>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">11</td>
<td>53</td>
<td>52</td>
<td style="background-color: silver;">14</td>
<td style="background-color: silver;">15</td>
<td>49
</td></tr>
<tr>
<td>48</td>
<td style="background-color: silver;">18</td>
<td style="background-color: silver;">19</td>
<td>45</td>
<td>44</td>
<td style="background-color: silver;">22</td>
<td style="background-color: silver;">23</td>
<td>41
</td></tr>
<tr>
<td style="background-color: silver;">25</td>
<td>39</td>
<td>38</td>
<td style="background-color: silver;">28</td>
<td style="background-color: silver;">29</td>
<td>35</td>
<td>34</td>
<td style="background-color: silver;">32
</td></tr>
<tr>
<td style="background-color: silver;">33</td>
<td>31</td>
<td>30</td>
<td style="background-color: silver;">36</td>
<td style="background-color: silver;">37</td>
<td>27</td>
<td>26</td>
<td style="background-color: silver;">40
</td></tr>
<tr>
<td>24</td>
<td style="background-color: silver;">42</td>
<td style="background-color: silver;">43</td>
<td>21</td>
<td>20</td>
<td style="background-color: silver;">46</td>
<td style="background-color: silver;">47</td>
<td>17
</td></tr>
<tr>
<td>16</td>
<td style="background-color: silver;">50</td>
<td style="background-color: silver;">51</td>
<td>13</td>
<td>12</td>
<td style="background-color: silver;">54</td>
<td style="background-color: silver;">55</td>
<td>9
</td></tr>
<tr>
<td style="background-color: silver;">57</td>
<td>7</td>
<td>6</td>
<td style="background-color: silver;">60</td>
<td style="background-color: silver;">61</td>
<td>3</td>
<td>2</td>
<td style="background-color: silver;">64
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>For M = 12, the pattern table (E07, E07, E07, 1F8, 1F8, 1F8, 1F8, 1F8, 1F8, E07, E07, E07) yields a magic square (3-nibbles per row, 12 rows.) It is possible to count the number of choices one has based on the pattern table, taking rotational symmetries into account.
</p>
<h2>Method of superposition</h2>
<p>The earliest discovery of the superposition method was made by the Indian mathematician Narayana in the 14th century. The same method was later re-discovered and studied in early 18th century Europe by de la Loubere, Poignard, de La Hire, and Sauveur; and the method is usually referred to as de la Hire's method. Although Euler's work on magic square was unoriginal, he famously conjectured the impossibility of constructing the evenly odd ordered mutually orthogonal <span class="hyperlink-click" data-id="643947393">Graeco-Latin squares</span>. This conjecture was disproved in the mid 20th century. For clarity of exposition, we have distinguished two important variations of this method.
</p>
<h3>Euler's method</h3>
<p>This method consists in constructing two preliminary squares, which when added together gives the magic square. As a running example, we will consider a 3×3 magic square. We can uniquely label each number of the 3×3 natural square by a pair of numbers as
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>2</td>
<td>3
</td></tr>
<tr>
<td>4</td>
<td>5</td>
<td>6
</td></tr>
<tr>
<td>7</td>
<td>8</td>
<td>9
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>αa</td>
<td>αb</td>
<td>αc
</td></tr>
<tr>
<td>βa</td>
<td>βb</td>
<td>βc
</td></tr>
<tr>
<td>γa</td>
<td>γb</td>
<td>γc
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>where every pair of Greek and Latin alphabets, e.g. <i>αa</i>, are meant to be added together, i.e. <i>αa</i> = <i>α</i> + <i>a</i>. Here, (<i>α</i>, <i>β</i>, <i>γ</i>) = (0, 3, 6) and (<i>a</i>, <i>b</i>, <i>c</i>) = (1, 2, 3). The numbers 0, 3, and 6 are referred to as the <i>root numbers</i> while the numbers 1, 2, and 3 are referred to as the <i>primary numbers</i>. An important general constraint here is
</p>
<ul><li><i>a Greek letter is paired with a Latin letter only once</i>.</li></ul>
<p>Thus, the original square can now be split into two simpler squares:
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>α</td>
<td>α</td>
<td>α
</td></tr>
<tr>
<td>β</td>
<td>β</td>
<td>β
</td></tr>
<tr>
<td>γ</td>
<td>γ</td>
<td>γ
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>a</td>
<td>b</td>
<td>c
</td></tr>
<tr>
<td>a</td>
<td>b</td>
<td>c
</td></tr>
<tr>
<td>a</td>
<td>b</td>
<td>c
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The lettered squares are referred to as <i>Greek square</i> or <i>Latin square</i> if they are filled with Greek or Latin letters, respectively. A magic square can be constructed by ensuring that the Greek and Latin squares are magic squares too. The converse of this statement is also often, but not always (e.g. bordered magic squares), true: A magic square can be decomposed into a Greek and a Latin square, which are themselves magic squares. Thus the method is useful for both synthesis as well as analysis of a magic square. Lastly, by examining the pattern in which the numbers are laid out in the finished square, it is often possible to come up with a faster algorithm to construct higher order squares that replicate the given pattern, without the necessity of creating the preliminary Greek and Latin squares.
</p><p>During the construction of the 3×3 magic square, the Greek and Latin squares with just three unique terms are much easier to deal with than the original square with nine different terms. The row sum and the column sum of the Greek square will be the same, <i>α</i> + <i>β</i> + <i>γ</i>, if
</p>
<ul><li><i>each letter appears exactly once in a given column or a row</i>.</li></ul>
<p>This can be achieved by <span class="hyperlink-click" data-id="643947394">cyclic permutation</span> of <i>α</i>, <i>β</i>, and <i>γ</i>. Satisfaction of these two conditions ensures that the resulting square is a semi-magic square; and such Greek and Latin squares are said to be <i>mutually orthogonal</i> to each other. For a given order <i>n</i>, there are at most <i>n</i> - 1 squares in a set of mutually orthogonal squares, not counting the variations due to permutation of the symbols. This upper bound is exact when <i>n</i> is a prime number.
</p><p>In order to construct a magic square, we should also ensure that the diagonals sum to magic constant. For this, we have a third condition:
</p>
<ul><li><i>either all the letters should appear exactly once in both the diagonals; or in case of odd ordered squares, one of the diagonals should consist entirely of the middle term, while the other diagonal should have all the letters exactly once</i>.</li></ul>
<p>The mutually orthogonal Greek and Latin squares that satisfy the first part of the third condition (that all letters appear in both the diagonals) are said to be <i>mutually orthogonal doubly diagonal Graeco-Latin squares</i>.
</p><p><b>Odd squares:</b> For the 3×3 odd square, since <i>α</i>, <i>β</i>, and <i>γ</i> are in arithmetic progression, their sum is equal to the product of the square's order and the middle term, i.e. <i>α</i> + <i>β</i> + <i>γ</i> = 3 <i>β</i>. Thus, the diagonal sums will be equal if we have <i>β</i>s in the main diagonal and <i>α</i>, <i>β</i>, <i>γ</i> in the skew diagonal. Similarly, for the Latin square. The resulting Greek and Latin squares and their combination will be as below. The Latin square is just a 90 degree anti-clockwise rotation of the Greek square (or equivalently, flipping about the vertical axis) with the corresponding letters interchanged. Substituting the values of the Greek and Latin letters will give the 3×3 magic square.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>β</td>
<td>α</td>
<td>γ
</td></tr>
<tr>
<td>γ</td>
<td>β</td>
<td>α
</td></tr>
<tr>
<td>α</td>
<td>γ</td>
<td>β
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>c</td>
<td>a</td>
<td>b
</td></tr>
<tr>
<td>a</td>
<td>b</td>
<td>c
</td></tr>
<tr>
<td>b</td>
<td>c</td>
<td>a
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>βc</td>
<td>αa</td>
<td>γb
</td></tr>
<tr>
<td>γa</td>
<td>βb</td>
<td>αc
</td></tr>
<tr>
<td>αb</td>
<td>γc</td>
<td>βa
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>6</td>
<td>1</td>
<td>8
</td></tr>
<tr>
<td>7</td>
<td>5</td>
<td>3
</td></tr>
<tr>
<td>2</td>
<td>9</td>
<td>4
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>For the odd squares, this method explains why the Siamese method (method of De la Loubere) and its variants work. This basic method can be used to construct odd ordered magic squares of higher orders. To summarise:
</p>
<ul><li><i>For odd ordered squares, to construct Greek square, place the middle term along the main diagonal, and place the rest of the terms along the skew diagonal. The remaining empty cells are filled by diagonal moves. The Latin square can be constructed by rotating or flipping the Greek square, and replacing the corresponding alphabets. The magic square is obtained by adding the Greek and Latin squares.</i></li></ul>
<p>A peculiarity of the construction method given above for the odd magic squares is that the middle number (<i>n</i><sup>2</sup> + 1)/2 will always appear at the center cell of the magic square. Since there are (<i>n</i> - 1)! ways to arrange the skew diagonal terms, we can obtain (<i>n</i> - 1)! Greek squares this way; same with the Latin squares. Also, since each Greek square can be paired with (<i>n</i> - 1)! Latin squares, and since for each of Greek square the middle term may be arbitrarily placed in the main diagonal or the skew diagonal (and correspondingly along the skew diagonal or the main diagonal for the Latin squares), we can construct a total of 2 × (<i>n</i> - 1)! × (<i>n</i> - 1)! magic squares using this method. For <i>n</i> = 3, 5, and 7, this will give 8, 1152, and 1,036,800 different magic squares, respectively. Dividing by 8 to neglect equivalent squares due to rotation and reflections, we obtain 1, 144, and 129,600 essentially different magic squares, respectively.
</p><p>As another example, the construction of 5×5 magic square is given. Numbers are directly written in place of alphabets. The numbered squares are referred to as <i>primary square</i> or <i>root square</i> if they are filled with primary numbers or root numbers, respectively. The numbers are placed about the skew diagonal in the root square such that the middle column of the resulting root square has 0, 5, 10, 15, 20 (from bottom to top). The primary square is obtained by rotating the root square counter-clockwise by 90 degrees, and replacing the numbers. The resulting square is an associative magic square, in which every pair of numbers symmetrically opposite to the center sum up to the same value, 26. For e.g., 16+10, 3+23, 6+20, etc. In the finished square, 1 is placed at center cell of bottom row, and successive numbers are placed via elongated knight's move (two cells right, two cells down), or equivalently, bishop's move (two cells diagonally down right). When a collision occurs, the break move is to move one cell up. All the odd numbers occur inside the central diamond formed by 1, 5, 25 and 21, while the even numbers are placed at the corners. The occurrence of the even numbers can be deduced by copying the square to the adjacent sides. The even numbers from four adjacent squares will form a cross. 
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td></td>
<td></td>
<td></td>
<td>5
</td></tr>
<tr>
<td></td>
<td>10</td>
<td></td>
<td>20</td>
<td>
</td></tr>
<tr>
<td></td>
<td></td>
<td>10</td>
<td></td>
<td>
</td></tr>
<tr>
<td></td>
<td>0</td>
<td></td>
<td>10</td>
<td>
</td></tr>
<tr>
<td>15</td>
<td></td>
<td></td>
<td></td>
<td>10
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td></td>
<td></td>
<td>0</td>
<td>5
</td></tr>
<tr>
<td></td>
<td>10</td>
<td></td>
<td>20</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td></td>
<td>10</td>
<td></td>
<td>
</td></tr>
<tr>
<td></td>
<td>0</td>
<td></td>
<td>10</td>
<td>
</td></tr>
<tr>
<td>15</td>
<td></td>
<td>0</td>
<td></td>
<td>10
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td>15</td>
<td>20</td>
<td>0</td>
<td>5
</td></tr>
<tr>
<td>5</td>
<td>10</td>
<td>15</td>
<td>20</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td>5</td>
<td>10</td>
<td>15</td>
<td>20
</td></tr>
<tr>
<td>20</td>
<td>0</td>
<td>5</td>
<td>10</td>
<td>15
</td></tr>
<tr>
<td>15</td>
<td>20</td>
<td>0</td>
<td>5</td>
<td>10
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>1</td>
<td>5</td>
<td>4</td>
<td>3
</td></tr>
<tr>
<td>1</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>2
</td></tr>
<tr>
<td>5</td>
<td>4</td>
<td>3</td>
<td>2</td>
<td>1
</td></tr>
<tr>
<td>4</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>5
</td></tr>
<tr>
<td>3</td>
<td>2</td>
<td>1</td>
<td>5</td>
<td>4
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:14em;height:14em;table-layout:fixed;">

<tbody><tr>
<td style="border-left:solid; border-top:solid;">12</td>
<td style="border-top:solid;">16</td>
<td style="background-color: silver; border-top:solid;">25</td>
<td style="border-top:solid;">4</td>
<td style="border-right:solid; border-top:solid;">8
</td></tr>
<tr>
<td style="border-left:solid">6</td>
<td style="background-color: silver;">15</td>
<td style="background-color: silver;">19</td>
<td style="background-color: silver;">23</td>
<td style="border-right:solid">2
</td></tr>
<tr>
<td style="border-left:solid; background-color: silver;">5</td>
<td style="background-color: silver;">9</td>
<td style="background-color: silver;">13</td>
<td style="background-color: silver;">17</td>
<td style="border-right:solid; background-color: silver;">21
</td></tr>
<tr>
<td style="border-left:solid">24</td>
<td style="background-color: silver;">3</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">11</td>
<td style="border-right:solid">20</td>
<td>24
</td></tr>
<tr>
<td style="border-left:solid; border-bottom:solid;">18</td>
<td style="border-bottom:solid">22</td>
<td style="background-color: silver; border-bottom:solid;">1</td>
<td style="border-bottom:solid;">10</td>
<td style="border-right:solid; border-bottom:solid;">14</td>
<td>18</td>
<td>22
</td></tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>4</td>
<td>8</td>
<td>12</td>
<td>16
</td></tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>2</td>
<td>6
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>A variation of the above example, where the skew diagonal sequence is taken in different order, is given below. The resulting magic square is the flipped version of the famous Agrippa's Mars magic square. It is an associative magic square and is the same as that produced by Moschopoulos's method. Here the resulting square starts with 1 placed in the cell which is to the right of the centre cell, and proceeds as De la Loubere's method, with downwards-right move. When a collision occurs, the break move is to shift two cells to the right.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td></td>
<td></td>
<td></td>
<td>20
</td></tr>
<tr>
<td></td>
<td>10</td>
<td></td>
<td>15</td>
<td>
</td></tr>
<tr>
<td></td>
<td></td>
<td>10</td>
<td></td>
<td>
</td></tr>
<tr>
<td></td>
<td>5</td>
<td></td>
<td>10</td>
<td>
</td></tr>
<tr>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td>10
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td>0</td>
<td>15</td>
<td>5</td>
<td>20
</td></tr>
<tr>
<td>20</td>
<td>10</td>
<td>0</td>
<td>15</td>
<td>5
</td></tr>
<tr>
<td>5</td>
<td>20</td>
<td>10</td>
<td>0</td>
<td>15
</td></tr>
<tr>
<td>15</td>
<td>5</td>
<td>20</td>
<td>10</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td>15</td>
<td>5</td>
<td>20</td>
<td>10
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>4</td>
<td>2</td>
<td>5</td>
<td>3
</td></tr>
<tr>
<td>4</td>
<td>2</td>
<td>5</td>
<td>3</td>
<td>1
</td></tr>
<tr>
<td>2</td>
<td>5</td>
<td>3</td>
<td>1</td>
<td>4
</td></tr>
<tr>
<td>5</td>
<td>3</td>
<td>1</td>
<td>4</td>
<td>2
</td></tr>
<tr>
<td>3</td>
<td>1</td>
<td>4</td>
<td>2</td>
<td>5
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>11</td>
<td>4</td>
<td>17</td>
<td>10</td>
<td>23
</td></tr>
<tr>
<td>24</td>
<td>12</td>
<td>5</td>
<td>18</td>
<td>6
</td></tr>
<tr>
<td>7</td>
<td>25</td>
<td>13</td>
<td>1</td>
<td>19
</td></tr>
<tr>
<td>20</td>
<td>8</td>
<td>21</td>
<td>14</td>
<td>2
</td></tr>
<tr>
<td>3</td>
<td>16</td>
<td>9</td>
<td>22</td>
<td>15
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>In the previous examples, for the Greek square, the second row can be obtained from the first row by circularly shifting it to the right by one cell. Similarly, the third row is a circularly shifted version of the second row by one cell to the right; and so on. Likewise, the rows of the Latin square is circularly shifted to the left by one cell. The row shifts for the Greek and Latin squares are in mutually opposite direction. It is possible to circularly shift the rows by more than one cell to create the Greek and Latin square.
</p>
<ul><li><i>For odd ordered squares, whose order is not divisible by three, we can create the Greek squares by shifting a row by two places to the left or to the right to form the next row. The Latin square is made by flipping the Greek square along the main diagonal and interchanging the corresponding letters. This gives us a Latin square whose rows are created by shifting the row in the direction opposite to that of the Greek square. A Greek square and a Latin square should be paired such that their row shifts are in mutually opposite direction. The magic square is obtained by adding the Greek and Latin squares. When the order also happens to be a prime number, this method always creates pandiagonal magic square.</i></li></ul>
<p>This essentially re-creates the knight's move. All the letters will appear in both the diagonals, ensuring correct diagonal sum. Since there are <i>n</i>! permutations of the Greek letters by which we can create the first row of the Greek square, there are thus <i>n</i>! Greek squares that can be created by shifting the first row in one direction. Likewise, there are <i>n</i>! such Latin squares created by shifting the first row in the opposite direction. Since a Greek square can be combined with any Latin square with opposite row shifts, there are <i>n</i>! × <i>n</i>! such combinations. Lastly, since the Greek square can be created by shifting the rows either to the left or to the right, there are a total of 2 × <i>n</i>! × <i>n</i>! magic squares that can be formed by this method. For <i>n</i> = 5 and 7, since they are prime numbers, this method creates 28,800 and 50,803,200 pandiagonal magic squares. Dividing by 8 to neglect equivalent squares due to rotation and reflections, we obtain 3,600 and 6,350,400 equivalent squares. Further dividing by <i>n</i><sup>2</sup> to neglect equivalent panmagic squares due to cyclic shifting of rows or columns, we obtain 144 and 129,600 essentially different panmagic squares. For order 5 squares, these are the only panmagic square there are. The condition that the square's order not be divisible by 3 means that we cannot construct squares of orders 9, 15, 21, 27, and so on, by this method.
</p><p>In the example below, the square has been constructed such that 1 is at the center cell. In the finished square, the numbers can be continuously enumerated by the knight's move (two cells up, one cell right). When collision occurs, the break move is to move one cell up, one cell left.The resulting square is a pandiagonal magic square. This square also has a further diabolical property that any five cells in <span class="hyperlink-click" data-id="643947395">quincunx</span> pattern formed by any odd sub-square, including wrap around, sum to the magic constant, 65. For e.g., 13+7+1+20+24, 23+1+9+15+17, 13+21+10+19+2 etc. Also the four corners of any 5×5 square and the central cell, as well as the middle cells of each side together with the central cell, including wrap around, give the magic sum: 13+10+19+22+1 and 20+24+12+8+1. Lastly the four rhomboids that form elongated crosses also give the magic sum: 23+1+9+24+8, 15+1+17+20+12, 14+1+18+13+19, 7+1+25+22+10. 
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td>15</td>
<td>20</td>
<td>0</td>
<td>5
</td></tr>
<tr>
<td>0</td>
<td>5</td>
<td>10</td>
<td>15</td>
<td>20
</td></tr>
<tr>
<td>15</td>
<td>20</td>
<td>0</td>
<td>5</td>
<td>10
</td></tr>
<tr>
<td>5</td>
<td>10</td>
<td>15</td>
<td>20</td>
<td>0
</td></tr>
<tr>
<td>20</td>
<td>0</td>
<td>5</td>
<td>10</td>
<td>15
</td></tr>
</tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>3</td>
<td>1</td>
<td>4</td>
<td>2</td>
<td>5
</td></tr>
<tr>
<td>4</td>
<td>2</td>
<td>5</td>
<td>3</td>
<td>1
</td></tr>
<tr>
<td>5</td>
<td>3</td>
<td>1</td>
<td>4</td>
<td>2
</td></tr>
<tr>
<td>1</td>
<td>4</td>
<td>2</td>
<td>5</td>
<td>3
</td></tr>
<tr>
<td>2</td>
<td>5</td>
<td>3</td>
<td>1</td>
<td>4
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>13</td>
<td>16</td>
<td>24</td>
<td>2</td>
<td>10
</td></tr>
<tr>
<td>4</td>
<td>7</td>
<td>15</td>
<td>18</td>
<td>21
</td></tr>
<tr>
<td>20</td>
<td>23</td>
<td>1</td>
<td>9</td>
<td>12
</td></tr>
<tr>
<td>6</td>
<td>14</td>
<td>17</td>
<td>25</td>
<td>3
</td></tr>
<tr>
<td>22</td>
<td>5</td>
<td>8</td>
<td>11</td>
<td>19
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>We can also combine the Greek and Latin squares constructed by different methods. In the example below, the primary square is made using knight's move. We have re-created the magic square obtained by De la Loubere's method. As before, we can form 8 × (<i>n</i> - 1)! × <i>n</i>! magic squares by this combination. For <i>n</i> = 5 and 7, this will create 23,040 and 29,030,400 magic squares. After dividing by 8 in order to neglect equivalent squares due to rotation and reflection, we get 2,880 and 3,628,800 squares. 
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>15</td>
<td>20</td>
<td>0</td>
<td>5</td>
<td>10
</td></tr>
<tr>
<td>20</td>
<td>0</td>
<td>5</td>
<td>10</td>
<td>15
</td></tr>
<tr>
<td>0</td>
<td>5</td>
<td>10</td>
<td>15</td>
<td>20
</td></tr>
<tr>
<td>5</td>
<td>10</td>
<td>15</td>
<td>20</td>
<td>0
</td></tr>
<tr>
<td>10</td>
<td>15</td>
<td>20</td>
<td>0</td>
<td>5
</td></tr>
</tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>4</td>
<td>1</td>
<td>3</td>
<td>5
</td></tr>
<tr>
<td>3</td>
<td>5</td>
<td>2</td>
<td>4</td>
<td>1
</td></tr>
<tr>
<td>4</td>
<td>1</td>
<td>3</td>
<td>5</td>
<td>2
</td></tr>
<tr>
<td>5</td>
<td>2</td>
<td>4</td>
<td>1</td>
<td>3
</td></tr>
<tr>
<td>1</td>
<td>3</td>
<td>5</td>
<td>2</td>
<td>4
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>17</td>
<td>24</td>
<td>1</td>
<td>8</td>
<td>15
</td></tr>
<tr>
<td>23</td>
<td>5</td>
<td>7</td>
<td>14</td>
<td>16
</td></tr>
<tr>
<td>4</td>
<td>6</td>
<td>13</td>
<td>20</td>
<td>22
</td></tr>
<tr>
<td>10</td>
<td>12</td>
<td>19</td>
<td>21</td>
<td>3
</td></tr>
<tr>
<td>11</td>
<td>18</td>
<td>25</td>
<td>2</td>
<td>9
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>For order 5 squares, these three methods give a complete census of the number of magic squares that can be constructed by the method of superposition. Neglecting the rotation and reflections, the total number of magic squares of order 5 produced by the superposition method is 144 + 3,600 + 2,880 = 6,624.
</p><p><b>Even squares:</b> We can also construct even ordered squares in this fashion. Since there is no middle term among the Greek and Latin alphabets for even ordered squares, in addition to the first two constraint, for the diagonal sums to yield the magic constant, all the letters in the alphabet should appear in the main diagonal and in the skew diagonal.
</p><p>An example of a 4×4 square is given below. For the given diagonal and skew diagonal in the Greek square, the rest of the cells can be filled using the condition that each letter appear only once in a row and a column.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>α</td>
<td></td>
<td></td>
<td>δ
</td></tr>
<tr>
<td></td>
<td>δ</td>
<td>α</td>
<td>
</td></tr>
<tr>
<td></td>
<td>γ</td>
<td>β</td>
<td>
</td></tr>
<tr>
<td>β</td>
<td></td>
<td></td>
<td>γ
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>α</td>
<td>β</td>
<td>γ</td>
<td>δ
</td></tr>
<tr>
<td>γ</td>
<td>δ</td>
<td>α</td>
<td>β
</td></tr>
<tr>
<td>δ</td>
<td>γ</td>
<td>β</td>
<td>α
</td></tr>
<tr>
<td>β</td>
<td>α</td>
<td>δ</td>
<td>γ
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>a</td>
<td>b</td>
<td>c</td>
<td>d
</td></tr>
<tr>
<td>d</td>
<td>c</td>
<td>b</td>
<td>a
</td></tr>
<tr>
<td>b</td>
<td>a</td>
<td>d</td>
<td>c
</td></tr>
<tr>
<td>c</td>
<td>d</td>
<td>a</td>
<td>b
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>αa</td>
<td>βb</td>
<td>γc</td>
<td>δd
</td></tr>
<tr>
<td>γd</td>
<td>δc</td>
<td>αb</td>
<td>βa
</td></tr>
<tr>
<td>δb</td>
<td>γa</td>
<td>βd</td>
<td>αc
</td></tr>
<tr>
<td>βc</td>
<td>αd</td>
<td>δa</td>
<td>γb
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>6</td>
<td>11</td>
<td>16
</td></tr>
<tr>
<td>12</td>
<td>15</td>
<td>2</td>
<td>5
</td></tr>
<tr>
<td>14</td>
<td>9</td>
<td>8</td>
<td>3
</td></tr>
<tr>
<td>7</td>
<td>4</td>
<td>13</td>
<td>10
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>Using these two Graeco-Latin squares, we can construct 2 × 4! × 4! = 1,152 magic squares. Dividing by 8 to eliminate equivalent squares due to rotation and reflections, we get 144 essentially different magic squares of order 4. These are the only magic squares constructible by the Euler method, since there are only two mutually orthogonal doubly diagonal Graeco-Latin squares of order 4.
</p><p>Similarly, an 8×8 magic square can be constructed as below. Here the order of appearance of the numbers is not important; however the quadrants imitate the layout pattern of the 4×4 Graeco-Latin squares. 
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>0</td>
<td>8</td>
<td>16</td>
<td>24</td>
<td>32</td>
<td>40</td>
<td>48</td>
<td>56
</td></tr>
<tr>
<td>24</td>
<td>16</td>
<td>8</td>
<td>0</td>
<td>56</td>
<td>48</td>
<td>40</td>
<td>32
</td></tr>
<tr>
<td>48</td>
<td>56</td>
<td>32</td>
<td>40</td>
<td>16</td>
<td>24</td>
<td>0</td>
<td>8
</td></tr>
<tr>
<td>40</td>
<td>32</td>
<td>56</td>
<td>48</td>
<td>8</td>
<td>0</td>
<td>24</td>
<td>16
</td></tr>
<tr>
<td>56</td>
<td>48</td>
<td>40</td>
<td>32</td>
<td>24</td>
<td>16</td>
<td>8</td>
<td>0
</td></tr>
<tr>
<td>32</td>
<td>40</td>
<td>48</td>
<td>56</td>
<td>0</td>
<td>8</td>
<td>16</td>
<td>24
</td></tr>
<tr>
<td>8</td>
<td>0</td>
<td>24</td>
<td>16</td>
<td>40</td>
<td>32</td>
<td>56</td>
<td>48
</td></tr>
<tr>
<td>16</td>
<td>24</td>
<td>0</td>
<td>8</td>
<td>48</td>
<td>56</td>
<td>32</td>
<td>40
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8
</td></tr>
<tr>
<td>3</td>
<td>4</td>
<td>1</td>
<td>2</td>
<td>7</td>
<td>8</td>
<td>5</td>
<td>6
</td></tr>
<tr>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4
</td></tr>
<tr>
<td>7</td>
<td>8</td>
<td>5</td>
<td>6</td>
<td>3</td>
<td>4</td>
<td>1</td>
<td>2
</td></tr>
<tr>
<td>4</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>8</td>
<td>7</td>
<td>6</td>
<td>5
</td></tr>
<tr>
<td>2</td>
<td>1</td>
<td>4</td>
<td>3</td>
<td>6</td>
<td>5</td>
<td>8</td>
<td>7
</td></tr>
<tr>
<td>8</td>
<td>7</td>
<td>6</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>2</td>
<td>1
</td></tr>
<tr>
<td>6</td>
<td>5</td>
<td>8</td>
<td>7</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>3
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>10</td>
<td>19</td>
<td>28</td>
<td>37</td>
<td>46</td>
<td>55</td>
<td>64
</td></tr>
<tr>
<td>27</td>
<td>20</td>
<td>9</td>
<td>2</td>
<td>63</td>
<td>56</td>
<td>45</td>
<td>38
</td></tr>
<tr>
<td>53</td>
<td>62</td>
<td>39</td>
<td>48</td>
<td>17</td>
<td>26</td>
<td>3</td>
<td>12
</td></tr>
<tr>
<td>47</td>
<td>40</td>
<td>61</td>
<td>54</td>
<td>11</td>
<td>4</td>
<td>25</td>
<td>18
</td></tr>
<tr>
<td>60</td>
<td>51</td>
<td>42</td>
<td>33</td>
<td>32</td>
<td>23</td>
<td>14</td>
<td>5
</td></tr>
<tr>
<td>34</td>
<td>41</td>
<td>52</td>
<td>59</td>
<td>6</td>
<td>13</td>
<td>24</td>
<td>31
</td></tr>
<tr>
<td>16</td>
<td>7</td>
<td>30</td>
<td>21</td>
<td>44</td>
<td>35</td>
<td>58</td>
<td>49
</td></tr>
<tr>
<td>22</td>
<td>29</td>
<td>8</td>
<td>15</td>
<td>50</td>
<td>57</td>
<td>36</td>
<td>43
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>Euler's method has given rise to the study of <span class="hyperlink-click" data-id="643947393">Graeco-Latin squares</span>. Euler's method for constructing magic squares is valid for any order except 2 and 6.
</p><p><b>Variations</b>: Magic squares constructed from mutually orthogonal doubly diagonal Graeco-Latin squares are interesting in themselves since the magic property emerges from the relative position of the alphabets in the square, and not due to any arithmetic property of the value assigned to them. This means that we can assign any value to the alphabets of such squares and still obtain a magic square. This is the basis for constructing squares that display some information (e.g. birthdays, years, etc.) in the square and for creating "reversible squares". For example, we can display the number <i>π</i> ≈ <span class="nowrap"><span data-sort-value="7000314159200000000♠"></span>3.141<span style="margin-left:.25em;">592</span></span> at the bottom row of a 4×4 magic square using the Graeco-Latin square given above by assigning (<i>α</i>, <i>β</i>, <i>γ</i>, <i>δ</i>) = (10, 0, 90, 15) and (<i>a</i>, <i>b</i>, <i>c</i>, <i>d</i>) = (0, 2, 3, 4). We will obtain the following non-normal magic square with the magic sum 124:
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td>2</td>
<td>93</td>
<td>19
</td></tr>
<tr>
<td>94</td>
<td>18</td>
<td>12</td>
<td>0
</td></tr>
<tr>
<td>17</td>
<td>90</td>
<td>4</td>
<td>13
</td></tr>
<tr>
<td>3</td>
<td>14</td>
<td>15</td>
<td>92
</td></tr></tbody></table>
<h3>Narayana-De la Hire's method for even orders</h3>
<p>Narayana-De la Hire's method for odd square is the same as that of Euler's. However, for even squares, we drop the second requirement that each Greek and Latin letter appear only once in a given row or column. This allows us to take advantage of the fact that the sum of an arithmetic progression with an even number of terms is equal to the sum of two opposite symmetric terms multiplied by half the total number of terms. Thus, when constructing the Greek or Latin squares,
</p>
<ul><li><i>for even ordered squares, a letter can appear </i>n<i>/2 times in a column but only once in a row, or vice versa.</i></li></ul>
<p>As a running example, if we take a 4×4 square, where the Greek and Latin terms have the values (<i>α</i>, <i>β</i>, <i>γ</i>, <i>δ</i>) = (0, 4, 8, 12) and (<i>a</i>, <i>b</i>, <i>c</i>, <i>d</i>) = (1, 2, 3, 4), respectively, then we have <i>α</i> + <i>β</i> + <i>γ</i> + <i>δ</i> = 2 (<i>α</i> + <i>δ</i>) = 2 (<i>β</i> + <i>γ</i>). Similarly, <i>a</i> + <i>b</i> + <i>c</i> + <i>d</i> = 2 (<i>a</i> + <i>d</i>) = 2 (<i>b</i> + <i>c</i>). This means that the complementary pair <i>α</i> and <i>δ</i> (or <i>β</i> and <i>γ</i>) can appear twice in a column (or a row) and still give the desired magic sum. Thus, we can construct:
</p>
<ul><li><i>For even ordered squares, the Greek magic square is made by first placing the Greek alphabets along the main diagonal in some order. The skew diagonal is then filled in the same order or by picking the terms that are complementary to the terms in the main diagonal. Finally, the remaining cells are filled column wise. Given a column, we use the complementary terms in the diagonal cells intersected by that column, making sure that they appear only once in a given row but </i>n<i>/2 times in the given column. The Latin square is obtained by flipping or rotating the Greek square and interchanging the corresponding alphabets. The final magic square is obtained by adding the Greek and Latin squares.</i></li></ul>
<p>In the example given below, the main diagonal (from top left to bottom right) is filled with sequence ordered as <i>α</i>, <i>β</i>, <i>γ</i>, <i>δ</i>, while the skew diagonal (from bottom left to top right) filled in the same order. The remaining cells are then filled column wise such that the complementary letters appears only once within a row, but twice within a column. In the first column, since <i>α</i> appears on the 1st and 4th row, the remaining cells are filled with its complementary term <i>δ</i>. Similarly, the empty cells in the 2nd column are filled with <i>γ</i>; in 3rd column <i>β</i>; and 4th column <i>α</i>. Each Greek letter appears only once along the rows, but twice along the columns. As such, the row sums are <i>α</i> + <i>β</i> + <i>γ</i> + <i>δ</i> while the column sums are either 2 (<i>α</i> + <i>δ</i>) or 2 (<i>β</i> + <i>γ</i>). Likewise for the Latin square, which is obtained by flipping the Greek square along the main diagonal and interchanging the corresponding letters.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>α</td>
<td></td>
<td></td>
<td>δ
</td></tr>
<tr>
<td></td>
<td>β</td>
<td>γ</td>
<td>
</td></tr>
<tr>
<td></td>
<td>β</td>
<td>γ</td>
<td>
</td></tr>
<tr>
<td>α</td>
<td></td>
<td></td>
<td>δ
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>α</td>
<td>γ</td>
<td>β</td>
<td>δ
</td></tr>
<tr>
<td>δ</td>
<td>β</td>
<td>γ</td>
<td>α
</td></tr>
<tr>
<td>δ</td>
<td>β</td>
<td>γ</td>
<td>α
</td></tr>
<tr>
<td>α</td>
<td>γ</td>
<td>β</td>
<td>δ
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>a</td>
<td>d</td>
<td>d</td>
<td>a
</td></tr>
<tr>
<td>c</td>
<td>b</td>
<td>b</td>
<td>c
</td></tr>
<tr>
<td>b</td>
<td>c</td>
<td>c</td>
<td>b
</td></tr>
<tr>
<td>d</td>
<td>a</td>
<td>a</td>
<td>d
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>αa</td>
<td>γd</td>
<td>βd</td>
<td>δa
</td></tr>
<tr>
<td>δc</td>
<td>βb</td>
<td>γb</td>
<td>αc
</td></tr>
<tr>
<td>δb</td>
<td>βc</td>
<td>γc</td>
<td>αb
</td></tr>
<tr>
<td>αd</td>
<td>γa</td>
<td>βa</td>
<td>δd
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">1</td>
<td>12</td>
<td>8</td>
<td style="background-color: silver;">13
</td></tr>
<tr>
<td>15</td>
<td style="background-color: silver;">6</td>
<td style="background-color: silver;">10</td>
<td>3
</td></tr>
<tr>
<td>14</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">11</td>
<td>2
</td></tr>
<tr>
<td style="background-color: silver;">4</td>
<td>9</td>
<td>5</td>
<td style="background-color: silver;">16
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The above example explains why the "criss-cross" method for doubly even magic square works. Another possible 4×4 magic square, which is also pan-diagonal as well as most-perfect, is constructed below using the same rule. However, the diagonal sequence is chosen such that all four letters <i>α</i>, <i>β</i>, <i>γ</i>, <i>δ</i> appear inside the central 2×2 sub-square. Remaining cells are filled column wise such that each letter appears only once within a row. In the 1st column, the empty cells need to be filled with one of the letters selected from the complementary pair <i>α</i> and <i>δ</i>. Given the 1st column, the entry in the 2nd row can only be <i>δ</i> since <i>α</i> is already there in the 2nd row; while, in the 3rd row the entry can only be <i>α</i> since <i>δ</i> is already present in the 3rd row. We proceed similarly until all cells are filled. The Latin square given below has been obtained by flipping the Greek square along the main diagonal and replacing the Greek alphabets with corresponding Latin alphabets. 
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>α</td>
<td></td>
<td></td>
<td>γ
</td></tr>
<tr>
<td></td>
<td>γ</td>
<td>α</td>
<td>
</td></tr>
<tr>
<td></td>
<td>β</td>
<td>δ</td>
<td>
</td></tr>
<tr>
<td>δ</td>
<td></td>
<td></td>
<td>β
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>α</td>
<td>β</td>
<td>δ</td>
<td>γ
</td></tr>
<tr>
<td>δ</td>
<td>γ</td>
<td>α</td>
<td>β
</td></tr>
<tr>
<td>α</td>
<td>β</td>
<td>δ</td>
<td>γ
</td></tr>
<tr>
<td>δ</td>
<td>γ</td>
<td>α</td>
<td>β
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>a</td>
<td>d</td>
<td>a</td>
<td>d
</td></tr>
<tr>
<td>b</td>
<td>c</td>
<td>b</td>
<td>c
</td></tr>
<tr>
<td>d</td>
<td>a</td>
<td>d</td>
<td>a
</td></tr>
<tr>
<td>c</td>
<td>b</td>
<td>c</td>
<td>b
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>αa</td>
<td>βd</td>
<td>δa</td>
<td>γd
</td></tr>
<tr>
<td>δb</td>
<td>γc</td>
<td>αb</td>
<td>βc
</td></tr>
<tr>
<td>αd</td>
<td>βa</td>
<td>δd</td>
<td>γa
</td></tr>
<tr>
<td>δc</td>
<td>γb</td>
<td>αc</td>
<td>βb
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>8</td>
<td>13</td>
<td>12
</td></tr>
<tr>
<td>14</td>
<td>11</td>
<td>2</td>
<td>7
</td></tr>
<tr>
<td>4</td>
<td>5</td>
<td>16</td>
<td>9
</td></tr>
<tr>
<td>15</td>
<td>10</td>
<td>3</td>
<td>6
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>We can use this approach to construct singly even magic squares as well. However, we have to be more careful in this case since the criteria of pairing the Greek and Latin alphabets uniquely is not automatically satisfied. Violation of this condition leads to some missing numbers in the final square, while duplicating others. Thus, here is an important proviso:
</p>
<ul><li><i>For singly even squares, in the Greek square, check the cells of the columns which is vertically paired to its complement. In such a case, the corresponding cell of the Latin square must contain the same letter as its horizontally paired cell.</i></li></ul>
<p>Below is a construction of a 6×6 magic square, where the numbers are directly given, rather than the alphabets. The second square is constructed by flipping the first square along the main diagonal. Here in the first column of the root square the 3rd cell is paired with its complement in the 4th cells. Thus, in the primary square, the numbers in the 1st and 6th cell of the 3rd row are same. Likewise, with other columns and rows. In this example the flipped version of the root square satisfies this proviso.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>0</td>
<td><b>24</b></td>
<td>18</td>
<td>12</td>
<td><b>6</b></td>
<td>30
</td></tr>
<tr>
<td>30</td>
<td>6</td>
<td><b>12</b></td>
<td><b>18</b></td>
<td>24</td>
<td>0
</td></tr>
<tr>
<td><b>0</b></td>
<td>24</td>
<td>12</td>
<td>18</td>
<td>6</td>
<td><b>30</b>
</td></tr>
<tr>
<td><b>30</b></td>
<td>24</td>
<td>12</td>
<td>18</td>
<td>6</td>
<td><b>0</b>
</td></tr>
<tr>
<td>30</td>
<td>6</td>
<td><b>18</b></td>
<td><b>12</b></td>
<td>24</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td><b>6</b></td>
<td>18</td>
<td>12</td>
<td><b>24</b></td>
<td>30
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td><b>6</b></td>
<td>1</td>
<td>6</td>
<td><b>6</b></td>
<td>1
</td></tr>
<tr>
<td>5</td>
<td>2</td>
<td><b>5</b></td>
<td><b>5</b></td>
<td>2</td>
<td>2
</td></tr>
<tr>
<td><b>4</b></td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>4</td>
<td><b>4</b>
</td></tr>
<tr>
<td><b>3</b></td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>3</td>
<td><b>3</b>
</td></tr>
<tr>
<td>2</td>
<td>5</td>
<td><b>2</b></td>
<td><b>2</b></td>
<td>5</td>
<td>5
</td></tr>
<tr>
<td>6</td>
<td><b>1</b></td>
<td>6</td>
<td>1</td>
<td><b>1</b></td>
<td>6
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>30</td>
<td>19</td>
<td>18</td>
<td>12</td>
<td>31
</td></tr>
<tr>
<td>35</td>
<td>8</td>
<td>17</td>
<td>23</td>
<td>26</td>
<td>2
</td></tr>
<tr>
<td>4</td>
<td>27</td>
<td>15</td>
<td>21</td>
<td>10</td>
<td>34
</td></tr>
<tr>
<td>33</td>
<td>28</td>
<td>16</td>
<td>22</td>
<td>9</td>
<td>3
</td></tr>
<tr>
<td>32</td>
<td>11</td>
<td>20</td>
<td>14</td>
<td>29</td>
<td>5
</td></tr>
<tr>
<td>6</td>
<td>7</td>
<td>24</td>
<td>13</td>
<td>25</td>
<td>36
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>As another example of a 6×6 magic square constructed this way is given below. Here the diagonal entries are arranged differently. The primary square is constructed by flipping the root square about the main diagonal. In the second square the proviso for singly even square is not satisfied, leading to a non-normal magic square (third square) where the numbers 3, 13, 24, and 34 are duplicated while missing the numbers 4, 18, 19, and 33.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>6</td>
<td>30</td>
<td>12</td>
<td>18</td>
<td>0</td>
<td>24
</td></tr>
<tr>
<td>24</td>
<td>0</td>
<td><b>12</b></td>
<td><b>18</b></td>
<td>30</td>
<td>6
</td></tr>
<tr>
<td><b>24</b></td>
<td><b>0</b></td>
<td>18</td>
<td>12</td>
<td><b>30</b></td>
<td><b>6</b>
</td></tr>
<tr>
<td><b>6</b></td>
<td><b>30</b></td>
<td>18</td>
<td>12</td>
<td><b>0</b></td>
<td><b>24</b>
</td></tr>
<tr>
<td>24</td>
<td>0</td>
<td><b>18</b></td>
<td><b>12</b></td>
<td>30</td>
<td>6
</td></tr>
<tr>
<td>6</td>
<td>30</td>
<td>12</td>
<td>18</td>
<td>0</td>
<td>24
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>5</td>
<td>5</td>
<td>2</td>
<td>5</td>
<td>2
</td></tr>
<tr>
<td>6</td>
<td>1</td>
<td><b>1</b></td>
<td><b>6</b></td>
<td>1</td>
<td>6
</td></tr>
<tr>
<td><b>3</b></td>
<td><b>3</b></td>
<td>4</td>
<td>4</td>
<td><b>4</b></td>
<td><b>3</b>
</td></tr>
<tr>
<td><b>4</b></td>
<td><b>4</b></td>
<td>3</td>
<td>3</td>
<td><b>3</b></td>
<td><b>4</b>
</td></tr>
<tr>
<td>1</td>
<td>6</td>
<td><b>6</b></td>
<td><b>1</b></td>
<td>6</td>
<td>1
</td></tr>
<tr>
<td>5</td>
<td>2</td>
<td>2</td>
<td>5</td>
<td>2</td>
<td>5
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>8</td>
<td>35</td>
<td>17</td>
<td>20</td>
<td>5</td>
<td>26
</td></tr>
<tr>
<td>30</td>
<td>1</td>
<td><b>13</b></td>
<td><b>24</b></td>
<td>31</td>
<td>12
</td></tr>
<tr>
<td>27</td>
<td><b>3</b></td>
<td>22</td>
<td>16</td>
<td><b>34</b></td>
<td>9
</td></tr>
<tr>
<td>10</td>
<td><b>34</b></td>
<td>21</td>
<td>15</td>
<td><b>3</b></td>
<td>28
</td></tr>
<tr>
<td>25</td>
<td>6</td>
<td><b>24</b></td>
<td><b>13</b></td>
<td>36</td>
<td>7
</td></tr>
<tr>
<td>11</td>
<td>32</td>
<td>14</td>
<td>23</td>
<td>2</td>
<td>29
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>The last condition is a bit arbitrary and may not always need to be invoked, as in this example, where in the root square each cell is vertically paired with its complement: 
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>6</td>
<td>30</td>
<td>12</td>
<td>24</td>
<td>18</td>
<td>0
</td></tr>
<tr>
<td>6</td>
<td>0</td>
<td>18</td>
<td>24</td>
<td>12</td>
<td>30
</td></tr>
<tr>
<td>24</td>
<td>0</td>
<td>12</td>
<td>6</td>
<td>18</td>
<td>30
</td></tr>
<tr>
<td>6</td>
<td>30</td>
<td>18</td>
<td>24</td>
<td>12</td>
<td>0
</td></tr>
<tr>
<td>24</td>
<td>30</td>
<td>12</td>
<td>6</td>
<td>18</td>
<td>0
</td></tr>
<tr>
<td>24</td>
<td>0</td>
<td>18</td>
<td>6</td>
<td>12</td>
<td>30
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>2</td>
<td>2</td>
<td>5</td>
<td>2</td>
<td>5</td>
<td>5
</td></tr>
<tr>
<td>6</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>6</td>
<td>1
</td></tr>
<tr>
<td>3</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>4
</td></tr>
<tr>
<td>5</td>
<td>5</td>
<td>2</td>
<td>5</td>
<td>2</td>
<td>2
</td></tr>
<tr>
<td>4</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>3
</td></tr>
<tr>
<td>1</td>
<td>6</td>
<td>6</td>
<td>1</td>
<td>1</td>
<td>6
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:12em;table-layout:fixed;">

<tbody><tr>
<td>8</td>
<td>32</td>
<td>17</td>
<td>26</td>
<td>23</td>
<td>5
</td></tr>
<tr>
<td>12</td>
<td>1</td>
<td>19</td>
<td>30</td>
<td>18</td>
<td>31
</td></tr>
<tr>
<td>27</td>
<td>4</td>
<td>15</td>
<td>10</td>
<td>21</td>
<td>34
</td></tr>
<tr>
<td>11</td>
<td>35</td>
<td>20</td>
<td>29</td>
<td>14</td>
<td>2
</td></tr>
<tr>
<td>28</td>
<td>33</td>
<td>16</td>
<td>9</td>
<td>22</td>
<td>3
</td></tr>
<tr>
<td>25</td>
<td>6</td>
<td>24</td>
<td>7</td>
<td>13</td>
<td>36
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>As one more example, we have generated an 8×8 magic square. Unlike the criss-cross pattern of the earlier section for evenly even square, here we have a checkered pattern for the altered and unaltered cells. Also, in each quadrant the odd and even numbers appear in alternating columns.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>0</td>
<td>48</td>
<td>16</td>
<td>32</td>
<td>24</td>
<td>40</td>
<td>8</td>
<td>56
</td></tr>
<tr>
<td>56</td>
<td>8</td>
<td>40</td>
<td>24</td>
<td>32</td>
<td>16</td>
<td>48</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td>48</td>
<td>16</td>
<td>32</td>
<td>24</td>
<td>40</td>
<td>8</td>
<td>56
</td></tr>
<tr>
<td>56</td>
<td>8</td>
<td>40</td>
<td>24</td>
<td>32</td>
<td>16</td>
<td>48</td>
<td>0
</td></tr>
<tr>
<td>56</td>
<td>8</td>
<td>40</td>
<td>24</td>
<td>32</td>
<td>16</td>
<td>48</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td>48</td>
<td>16</td>
<td>32</td>
<td>24</td>
<td>40</td>
<td>8</td>
<td>56
</td></tr>
<tr>
<td>56</td>
<td>8</td>
<td>40</td>
<td>24</td>
<td>32</td>
<td>16</td>
<td>48</td>
<td>0
</td></tr>
<tr>
<td>0</td>
<td>48</td>
<td>16</td>
<td>32</td>
<td>24</td>
<td>40</td>
<td>8</td>
<td>56
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>8</td>
<td>1</td>
<td>8</td>
<td>8</td>
<td>1</td>
<td>8</td>
<td>1
</td></tr>
<tr>
<td>7</td>
<td>2</td>
<td>7</td>
<td>2</td>
<td>2</td>
<td>7</td>
<td>2</td>
<td>7
</td></tr>
<tr>
<td>3</td>
<td>6</td>
<td>3</td>
<td>6</td>
<td>6</td>
<td>3</td>
<td>6</td>
<td>3
</td></tr>
<tr>
<td>5</td>
<td>4</td>
<td>5</td>
<td>4</td>
<td>4</td>
<td>5</td>
<td>4</td>
<td>5
</td></tr>
<tr>
<td>4</td>
<td>5</td>
<td>4</td>
<td>5</td>
<td>5</td>
<td>4</td>
<td>5</td>
<td>4
</td></tr>
<tr>
<td>6</td>
<td>3</td>
<td>6</td>
<td>3</td>
<td>3</td>
<td>6</td>
<td>3</td>
<td>6
</td></tr>
<tr>
<td>2</td>
<td>7</td>
<td>2</td>
<td>7</td>
<td>7</td>
<td>2</td>
<td>7</td>
<td>2
</td></tr>
<tr>
<td>8</td>
<td>1</td>
<td>8</td>
<td>1</td>
<td>1</td>
<td>8</td>
<td>1</td>
<td>8
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">1</td>
<td>56</td>
<td style="background-color: silver;">17</td>
<td>40</td>
<td>32</td>
<td style="background-color: silver;">41</td>
<td>16</td>
<td style="background-color: silver;">57
</td></tr>
<tr>
<td>63</td>
<td style="background-color: silver;">10</td>
<td>47</td>
<td style="background-color: silver;">26</td>
<td style="background-color: silver;">34</td>
<td>23</td>
<td style="background-color: silver;">50</td>
<td>7
</td></tr>
<tr>
<td style="background-color: silver;">3</td>
<td>54</td>
<td style="background-color: silver;">19</td>
<td>38</td>
<td>30</td>
<td style="background-color: silver;">43</td>
<td>14</td>
<td style="background-color: silver;">59
</td></tr>
<tr>
<td>61</td>
<td style="background-color: silver;">12</td>
<td>45</td>
<td style="background-color: silver;">28</td>
<td style="background-color: silver;">36</td>
<td>21</td>
<td style="background-color: silver;">42</td>
<td>5
</td></tr>
<tr>
<td>60</td>
<td style="background-color: silver;">13</td>
<td>44</td>
<td style="background-color: silver;">29</td>
<td style="background-color: silver;">37</td>
<td>20</td>
<td style="background-color: silver;">53</td>
<td>4
</td></tr>
<tr>
<td style="background-color: silver;">6</td>
<td>51</td>
<td style="background-color: silver;">22</td>
<td>35</td>
<td>27</td>
<td style="background-color: silver;">46</td>
<td>11</td>
<td style="background-color: silver;">62
</td></tr>
<tr>
<td>58</td>
<td style="background-color: silver;">15</td>
<td>42</td>
<td style="background-color: silver;">31</td>
<td style="background-color: silver;">39</td>
<td>18</td>
<td style="background-color: silver;">55</td>
<td>2
</td></tr>
<tr>
<td style="background-color: silver;">8</td>
<td>47</td>
<td style="background-color: silver;">24</td>
<td>33</td>
<td>25</td>
<td style="background-color: silver;">48</td>
<td>9</td>
<td style="background-color: silver;">64
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p><b>Variations</b>: A number of variations of the basic idea are possible: <i>a complementary pair can appear </i>n<i>/2 times or less in a column</i>. That is, a column of a Greek square can be constructed using more than one complementary pair. This method allows us to imbue the magic square with far richer properties. The idea can also be extended to the diagonals too. An example of an 8×8 magic square is given below. In the finished square each of four quadrants are pan-magic squares as well, each quadrant with same magic constant 130.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>0</td>
<td>48</td>
<td>56</td>
<td>8</td>
<td>16</td>
<td>32</td>
<td>40</td>
<td>24
</td></tr>
<tr>
<td>56</td>
<td>8</td>
<td>0</td>
<td>48</td>
<td>40</td>
<td>24</td>
<td>16</td>
<td>32
</td></tr>
<tr>
<td>0</td>
<td>48</td>
<td>56</td>
<td>8</td>
<td>16</td>
<td>32</td>
<td>40</td>
<td>24
</td></tr>
<tr>
<td>56</td>
<td>8</td>
<td>0</td>
<td>48</td>
<td>40</td>
<td>24</td>
<td>16</td>
<td>32
</td></tr>
<tr>
<td>48</td>
<td>0</td>
<td>8</td>
<td>56</td>
<td>32</td>
<td>16</td>
<td>24</td>
<td>40
</td></tr>
<tr>
<td>8</td>
<td>56</td>
<td>48</td>
<td>0</td>
<td>24</td>
<td>40</td>
<td>32</td>
<td>16
</td></tr>
<tr>
<td>48</td>
<td>0</td>
<td>8</td>
<td>56</td>
<td>32</td>
<td>16</td>
<td>24</td>
<td>40
</td></tr>
<tr>
<td>8</td>
<td>56</td>
<td>48</td>
<td>0</td>
<td>24</td>
<td>40</td>
<td>32</td>
<td>16
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>8</td>
<td>1</td>
<td>8</td>
<td>7</td>
<td>2</td>
<td>7</td>
<td>2
</td></tr>
<tr>
<td>7</td>
<td>2</td>
<td>7</td>
<td>2</td>
<td>1</td>
<td>8</td>
<td>1</td>
<td>8
</td></tr>
<tr>
<td>8</td>
<td>1</td>
<td>8</td>
<td>1</td>
<td>2</td>
<td>7</td>
<td>2</td>
<td>7
</td></tr>
<tr>
<td>2</td>
<td>7</td>
<td>2</td>
<td>7</td>
<td>8</td>
<td>1</td>
<td>8</td>
<td>1
</td></tr>
<tr>
<td>3</td>
<td>6</td>
<td>3</td>
<td>6</td>
<td>5</td>
<td>4</td>
<td>5</td>
<td>4
</td></tr>
<tr>
<td>5</td>
<td>4</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>6</td>
<td>3</td>
<td>6
</td></tr>
<tr>
<td>6</td>
<td>3</td>
<td>6</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>4</td>
<td>5
</td></tr>
<tr>
<td>4</td>
<td>5</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>3</td>
<td>6</td>
<td>3
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;">1</td>
<td style="background-color: silver;">56</td>
<td style="background-color: silver;">57</td>
<td style="background-color: silver;">16</td>
<td>23</td>
<td>34</td>
<td>47</td>
<td>26
</td></tr>
<tr>
<td style="background-color: silver;">63</td>
<td style="background-color: silver;">10</td>
<td style="background-color: silver;">7</td>
<td style="background-color: silver;">50</td>
<td>41</td>
<td>32</td>
<td>17</td>
<td>40
</td></tr>
<tr>
<td style="background-color: silver;">8</td>
<td style="background-color: silver;">49</td>
<td style="background-color: silver;">64</td>
<td style="background-color: silver;">9</td>
<td>18</td>
<td>39</td>
<td>42</td>
<td>31
</td></tr>
<tr>
<td style="background-color: silver;">58</td>
<td style="background-color: silver;">15</td>
<td style="background-color: silver;">2</td>
<td style="background-color: silver;">55</td>
<td>48</td>
<td>25</td>
<td>24</td>
<td>33
</td></tr>
<tr>
<td>51</td>
<td>6</td>
<td>11</td>
<td>62</td>
<td style="background-color: silver;">37</td>
<td style="background-color: silver;">20</td>
<td style="background-color: silver;">29</td>
<td style="background-color: silver;">44
</td></tr>
<tr>
<td>13</td>
<td>60</td>
<td>53</td>
<td>4</td>
<td style="background-color: silver;">27</td>
<td style="background-color: silver;">46</td>
<td style="background-color: silver;">35</td>
<td style="background-color: silver;">22
</td></tr>
<tr>
<td>54</td>
<td>3</td>
<td>14</td>
<td>59</td>
<td style="background-color: silver;">36</td>
<td style="background-color: silver;">21</td>
<td style="background-color: silver;">28</td>
<td style="background-color: silver;">45
</td></tr>
<tr>
<td>12</td>
<td>61</td>
<td>52</td>
<td>5</td>
<td style="background-color: silver;">30</td>
<td style="background-color: silver;">43</td>
<td style="background-color: silver;">38</td>
<td style="background-color: silver;">19
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<h2>Method of borders</h2>
<h3>Bordering method for order 3</h3>
<p>In this method, the objective is to wrap a border around a smaller magic square which serves as a core. Consider the 3×3 square for example. Subtracting the middle number 5 from each number 1, 2, ..., 9, we obtain 0, ± 1, ± 2, ± 3, and ± 4, which we will, for lack of better words, following S. Harry White, refer to as bone numbers. The magic constant of a magic square, which we will refer to as the skeleton square, made by these bone numbers will be zero since adding all the rows of a magic square will give <i>nM</i> = Σ <i>k</i> = 0; thus <i>M</i> = 0.
</p><p>It is not difficult to argue that the middle number should be placed at the center cell: let <i>x</i> be the number placed in the middle cell, then the sum of the middle column, middle row, and the two diagonals give Σ <i>k</i> + 3 <i>x</i> = 4 <i>M</i>. Since Σ <i>k</i> = 3 <i>M</i>, we have <i>x</i> = <i>M</i> / 3. Here <i>M</i> = 0, so <i>x</i> = 0.
</p><p>Putting the middle number 0 in the center cell, we want to construct a border such that the resulting square is magic. Let the border be given by:
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>u</td>
<td>a</td>
<td>v
</td></tr>
<tr>
<td>b*</td>
<td>0</td>
<td>b
</td></tr>
<tr>
<td>v*</td>
<td>a*</td>
<td>u*
</td></tr></tbody></table>
<p>Since the sum of each row, column, and diagonals must be a constant (which is zero), we have
</p>
<dl><dd><i>a</i> + <i>a*</i> = 0,</dd>
<dd><i>b</i> + <i>b*</i> = 0,</dd>
<dd><i>u</i> + <i>u*</i> = 0,</dd>
<dd><i>v</i> + <i>v*</i> = 0.</dd></dl>
<p>Now, if we have chosen <i>a</i>, <i>b</i>, <i>u</i>, and <i>v</i>, then we have <i>a*</i> = - <i>a</i>, <i>b*</i> = - <i>b</i>, <i>u*</i> = - <i>u</i>, and <i>v*</i> = - <i>v</i>. This means that if we assign a given number to a variable, say <i>a</i> = 1, then its complement will be assigned to <i>a*</i>, i.e. <i>a*</i> = - 1. Thus out of eight unknown variables, it is sufficient to specify the value of only four variables. We will consider <i>a</i>, <i>b</i>, <i>u</i>, and <i>v</i> as independent variables, while <i>a*</i>, <i>b*</i>, <i>u*</i>, and <i>v*</i> as dependent variables. This allows us to consider a bone number ± x as a single number regardless of sign because (1) its assignment to a given variable, say <i>a</i>, will automatically imply that the same number of opposite sign will be shared with its complement <i>a*</i>, and (2) two independent variables, say <i>a</i> and <i>b</i>, cannot be assigned the same bone number. But how should we choose <i>a</i>, <i>b</i>, <i>u</i>, and <i>v</i>? We have the sum of the top row and the sum of the right column as
</p>
<dl><dd><i>u</i> + <i>a</i> + <i>v</i> = 0,</dd>
<dd><i>v</i> + <i>b</i> + <i>u*</i> = 0.</dd></dl>
<p>Since 0 is an even number, there are only two ways that the sum of three integers will yield an even number: 1) if all three were even, or 2) if two were odd and one was even. Since in our choice of numbers we only have two even non-zero number (± 2 and ± 4), the first statement is false. Hence, it must be the case that the second statement is true: that two of the numbers are odd and one even.
</p><p>The only way that both the above two equations can satisfy this parity condition simultaneously, and still be consistent with the set of numbers we have, is when <i>u</i> and <i>v</i> are odd. For on the contrary, if we had assumed <i>u</i> and <i>a</i> to be odd and <i>v</i> to be even in the first equation, then <i>u*</i> = - <i>u</i> will be odd in the second equation, making <i>b</i> odd as well, in order to satisfy the parity condition. But this requires three odd numbers (<i>u</i>, <i>a</i>, and <i>b</i>), contradicting the fact that we only have two odd numbers (± 1 and ± 3) which we can use. This proves that the odd bone numbers occupy the corners cells. When converted to normal numbers by adding 5, this implies that the corners of a 3×3 magic square are all occupied by even numbers.
</p><p>Thus, taking <i>u</i> = 1 and <i>v</i> = 3, we have <i>a</i> = - 4 and <i>b</i> = - 2. Hence, the finished skeleton square will be as in the left. Adding 5 to each number, we get the finished magic square.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>1</td>
<td>-4</td>
<td>3
</td></tr>
<tr>
<td>2</td>
<td>0</td>
<td>-2
</td></tr>
<tr>
<td>-3</td>
<td>4</td>
<td>-1
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<tbody><tr>
<td>6</td>
<td>1</td>
<td>8
</td></tr>
<tr>
<td>7</td>
<td>5</td>
<td>3
</td></tr>
<tr>
<td>2</td>
<td>9</td>
<td>4
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>Similar argument can be used to construct larger squares. Since there does not exist a 2×2 magic square around which we can wrap a border to construct a 4×4 magic square, the next smallest order for which we can construct bordered square is the order 5.
</p>
<h3>Bordering method for order 5</h3>
<p>Consider the fifth-order square. For this, we have a 3×3 magic core, around which we will wrap a magic border. The bone numbers to be used will be ± 5, ± 6, ± 7, ± 8, ± 9, ± 10, ± 11, and ± 12. Disregarding the signs, we have 8 bone numbers, 4 of which are even and 4 of which are odd. In general, for a square of any order <i>n</i>, there will be 4(<i>n</i> - 1) border cells, which are to be filled using 2(<i>n</i> - 1) bone numbers. Let the magic border be given as
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>u</td>
<td>a</td>
<td>b</td>
<td>c</td>
<td>v
</td></tr>
<tr>
<td>d*</td>
<td></td>
<td></td>
<td></td>
<td>d
</td></tr>
<tr>
<td>e*</td>
<td></td>
<td></td>
<td></td>
<td>e
</td></tr>
<tr>
<td>f*</td>
<td></td>
<td></td>
<td></td>
<td>f
</td></tr>
<tr>
<td>v*</td>
<td>a*</td>
<td>b*</td>
<td>c*</td>
<td>u*
</td></tr></tbody></table>
<p>As before, we should
</p>
<ul><li><i>place a bone number and its complement opposite to each other, so that the magic sum will be zero.</i></li></ul>
<p>It is sufficient to determine the numbers <i>u, v, a, b, c, d, e, f</i> to describe the magic border. As before, we have the two constraint equations for the top row and right column:
</p>
<dl><dd><i>u</i> + <i>a</i> + <i>b</i> + <i>c</i> + <i>v</i> = 0</dd>
<dd><i>v</i> + <i>d</i> + <i>e</i> + <i>f</i> + <i>u*</i> = 0.</dd></dl>
<p>Multiple solutions are possible. The standard procedure is to
</p>
<ul><li><i>first try to determine the corner cells, after which we will try to determine the rest of the border.</i></li></ul>
<p>There are 28 ways of choosing two numbers from the set of 8 bone numbers for the corner cells <i>u</i> and <i>v</i>. However, not all pairs are admissible. Among the 28 pairs, 16 pairs are made of an even and an odd number, 6 pairs have both as even numbers, while 6 pairs have them both as odd numbers.
</p><p>We can prove that the corner cells <i>u</i> and <i>v</i> cannot have an even and an odd number. This is because if this were so, then the sums <i>u</i> + <i>v</i> and <i>v</i> + <i>u*</i> will be odd, and since 0 is an even number, the sums <i>a</i> + <i>b</i> + <i>c</i> and <i>d</i> + <i>e</i> + <i>f</i> should be odd as well. The only way that the sum of three integers will result in an odd number is when 1) two of them are even and one is odd, or 2) when all three are odd. Since the corner cells are assumed to be odd and even, neither of these two statements are compatible with the fact that we only have 3 even and 3 odd bone numbers at our disposal. This proves that <i>u</i> and <i>v</i> cannot have different parity. This eliminates 16 possibilities.
</p><p>Using similar type reasoning we can also draw some conclusions about the sets {<i>a</i>, <i>b</i>, <i>c</i>} and {<i>d</i>, <i>e</i>, <i>f</i>}. If <i>u</i> and <i>v</i> are both even, then both the sets should have two odd numbers and one even number. If <i>u</i> and <i>v</i> are both odd, then one of the sets should have three even numbers while the other set should have one even number and two odd numbers.
</p><p>As a running example, consider the case when both <i>u</i> and <i>v</i> are even. The 6 possible pairs are: (6, 8), (6, 10), (6, 12), (8, 10), (8, 12), and (10, 12). Since the sums <i>u</i> + <i>v</i> and <i>v</i> + <i>u*</i> are even, the sums <i>a</i> + <i>b</i> + <i>c</i> and <i>d</i> + <i>e</i> + <i>f</i> should be even as well. The only way that the sum of three integers will result in an even number is when 1) two of them are odd and one is even, or 2) when all three are even. The fact that the two corner cells are even means that we have only 2 even numbers at our disposal. Thus, the second statement is not compatible with this fact. Hence, it must be the case that the first statement is true: two of the three numbers should be odd, while one be even.
</p><p>Now let <i>a, b, d, e</i> be odd numbers while <i>c</i> and <i>f</i> be even numbers. Given the odd bone numbers at our disposal: ± 5, ± 7, ± 9, and ± 11, their differences range from <i>D</i> = { ± 2, ± 4, ± 6} while their sums range from <i>S</i> = {± 12, ± 14, ± 16, ± 18, ± 20}. It is also useful to have a table of their sum and differences for later reference. Now, given the corner cells (<i>u</i>, <i>v</i>), we can check its admissibility by checking if the sums <i>u</i> + <i>v</i> + <i>c</i> and <i>v</i> + <i>u*</i> + <i>f</i> fall within the set <i>D</i> or <i>S</i>. The admissibility of the corner numbers is a necessary but not a sufficient condition for the solution to exist.
</p><p>For example, if we consider the pair (<i>u</i>, <i>v</i>) = (8, 12), then <i>u</i> + <i>v</i> = 20 and <i>v</i> + <i>u*</i> = 6; and we will have ± 6 and ± 10 even bone numbers at our disposal. Taking <i>c</i> = ± 6, we have the sum <i>u</i> + <i>v</i> + <i>c</i> to be 26 and 14, depending on the sign of <i>± 6</i> taken, both of which do not fall within the sets <i>D</i> or <i>S</i>. Likewise, taking <i>c</i> = ± 10, we have the sum <i>u</i> + <i>v</i> + <i>c</i> to be 30 and 10, both of which again do not fall within the sets <i>D</i> or <i>S</i>. Thus, the pair (8, 12) is not admissible. By similar process of reasoning, we can also rule out the pair (6, 12).
</p><p>As another example, if we consider the pair (<i>u</i>, <i>v</i>) = (10, 12), then <i>u</i> + <i>v</i> = 22 and <i>v</i> + <i>u*</i> = 2; and we will have ± 6 and ± 8 even bone numbers at our disposal. Taking <i>c</i> = ± 6, we have the sum <i>u</i> + <i>v</i> + <i>c</i> to be 28 and 16. While 28 does not fall within the sets <i>D</i> or <i>S</i>, 16 falls in set <i>S</i>. By inspection, we find that if (<i>a</i>, <i>b</i>) = (-7, -9), then <i>a</i> + <i>b</i> = -16; and it will satisfy the first constraint equation. Also, taking <i>f</i> = ± 8, we have the sum <i>v</i> + <i>u*</i> + <i>f</i> to be 10 and -6. While 10 does not fall within the sets <i>D</i> or <i>S</i>, -6 falls in set <i>D</i>. Since -7 and -9 have already been assigned to <i>a</i> and <i>b</i>, clearly (<i>d</i>, <i>e</i>) = (-5, 11) so that <i>d</i> + <i>e</i> = 6; and it will satisfy the second constraint equation.
</p><p>Likewise, taking <i>c</i> = ± 8, we have the sum <i>u</i> + <i>v</i> + <i>c</i> to be 30 and 14. While 30 does not fall within the sets <i>D</i> or <i>S</i>, 14 falls in set <i>S</i>. By inspection, we find that if (<i>a</i>, <i>b</i>) = (-5, -9), then <i>a</i> + <i>b</i> = -14. Also, taking <i>f</i> = ± 6, we have the sum <i>v</i> + <i>u*</i> + <i>f</i> to be 8 and -4. While 8 does not fall within the sets <i>D</i> or <i>S</i>, -4 falls in set <i>D</i>. Clearly, (<i>d</i>, <i>e</i>) = (-7, 11) so that <i>d</i> + <i>e</i> = 4, and the second constraint equation will be satisfied.
</p><p>Hence the corner pair (<i>u</i>, <i>v</i>) = (10, 12) is admissible; and it admits two solutions: (a, b, c, d, e, f) = (-7, -9, -6, -5, 11, -8) and (a, b, c, d, e, f) = ( -5, -9, -8, -7, 11, -6). The finished skeleton squares are given below. The magic square is obtained by adding 13 to each cells.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td>-7</td>
<td>-9</td>
<td>-6</td>
<td>12
</td></tr>
<tr>
<td>5</td>
<td></td>
<td></td>
<td></td>
<td>-5
</td></tr>
<tr>
<td>-11</td>
<td></td>
<td></td>
<td></td>
<td>11
</td></tr>
<tr>
<td>8</td>
<td></td>
<td></td>
<td></td>
<td>-8
</td></tr>
<tr>
<td>-12</td>
<td>7</td>
<td>9</td>
<td>6</td>
<td>-10
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>23</td>
<td>6</td>
<td>4</td>
<td>7</td>
<td>25
</td></tr>
<tr>
<td>18</td>
<td></td>
<td></td>
<td></td>
<td>8
</td></tr>
<tr>
<td>2</td>
<td></td>
<td></td>
<td></td>
<td>24
</td></tr>
<tr>
<td>21</td>
<td></td>
<td></td>
<td></td>
<td>5
</td></tr>
<tr>
<td>1</td>
<td>20</td>
<td>22</td>
<td>19</td>
<td>3
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>10</td>
<td>-5</td>
<td>-9</td>
<td>-8</td>
<td>12
</td></tr>
<tr>
<td>7</td>
<td></td>
<td></td>
<td></td>
<td>-7
</td></tr>
<tr>
<td>-11</td>
<td></td>
<td></td>
<td></td>
<td>11
</td></tr>
<tr>
<td>6</td>
<td></td>
<td></td>
<td></td>
<td>-6
</td></tr>
<tr>
<td>-12</td>
<td>5</td>
<td>9</td>
<td>8</td>
<td>-10
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>23</td>
<td>8</td>
<td>4</td>
<td>5</td>
<td>25
</td></tr>
<tr>
<td>20</td>
<td></td>
<td></td>
<td></td>
<td>6
</td></tr>
<tr>
<td>2</td>
<td></td>
<td></td>
<td></td>
<td>24
</td></tr>
<tr>
<td>19</td>
<td></td>
<td></td>
<td></td>
<td>7
</td></tr>
<tr>
<td>1</td>
<td>18</td>
<td>22</td>
<td>21</td>
<td>3
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>Using similar process of reasoning, we can construct the following table for the values of <i>u, v, a, b, c, d, e, f</i> expressed as bone numbers as given below. There are only 6 possible choices for the corner cells, which leads to 10 possible border solutions.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:18em;height:10em;table-layout:fixed;">

<tbody><tr>
<th><b>u, v</b>
</th>
<th><b>a, b, c</b>
</th>
<th><b>d, e, f</b>
</th></tr>
<tr>
<td>12, 10</td>
<td>-6, -7, -9</td>
<td>-11, 5, 8
</td></tr>
<tr>
<td>12, 10</td>
<td>-5, -8, -9</td>
<td>-11, 6, 7
</td></tr>
<tr>
<td>11, 5</td>
<td>6, -10, -12</td>
<td>-9, 7, 8
</td></tr>
<tr>
<td>10, 6</td>
<td>5, -9, -12</td>
<td>-11, 7, 8
</td></tr>
<tr>
<td>10, 6</td>
<td>7, -11, -12</td>
<td>-9, 5, 8
</td></tr>
<tr>
<td>9, 7</td>
<td>5, -10, -11</td>
<td>-12, 6, 8
</td></tr>
<tr>
<td>9, 7</td>
<td>6, -10, -12</td>
<td>-11, 5, 8
</td></tr>
<tr>
<td>8, 6</td>
<td>7, -10, -11</td>
<td>-12, 5, 9
</td></tr>
<tr>
<td>8, 6</td>
<td>9, -11, -12</td>
<td>-10, 5, 7
</td></tr>
<tr>
<td>7, 5</td>
<td>9, -10, -11</td>
<td>-12, 6, 8
</td></tr></tbody></table>
<p>Given this group of 10 borders, we can construct 10×8×(3!)<sup>2</sup> = 2880 essentially different bordered magic squares. Here the bone numbers ± 5, ..., ± 12 were consecutive. More bordered squares can be constructed if the numbers are not consecutive. If non-consecutive bone numbers were also used, then there are a total of 605 magic borders. Thus, the total number of order 5 essentially different bordered magic squares (with consecutive and non-consecutive numbers) is 174,240. See history. It is worth noting that the number of fifth-order magic squares constructible via the bordering method is about 26 times larger than via the superposition method.
</p>
<h3>Continuous enumeration methods</h3>
<p>Exhaustive enumeration of all the borders of a magic square of a given order, as done previously, is very tedious. As such a structured solution is often desirable, which allows us to construct a border for a square of any order. Below we give three algorithms for constructing border for odd, doubly even, and singly even squares. These continuous enumeration algorithms were discovered in 10th century by Arab scholars; and their earliest surviving exposition comes from the two treatises by al-Buzjani and al-Antaki, although they themselves were not the discoverers. Since then many more such algorithms have been discovered.
</p><p><b>Odd ordered squares</b>: The following is the algorithm given by al-Buzjani to construct a border for odd squares. A peculiarity of this method is that for order <i>n</i> square, the two adjacent corners are numbers <i>n - 1</i> and <i>n + 1</i>.
</p><p>Starting from the cell above the lower left corner, we put the numbers alternately in left column and bottom row until we arrive at the middle cell. The next number is written in the middle cell of the bottom row just reached, after which we fill the cell in the upper left corner, then the middle cell of the right column, then the upper right corner. After this, starting from the cell above middle cell of the right column already filled, we resume the alternate placement of the numbers in the right column and the top row. Once half of the border cells are filled, the other half are filled by numbers complementary to opposite cells. The subsequent inner borders is filled in the same manner, until the square of order 3 is filled.
</p><p>Below is an example for 9th-order square.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:18em;height:18em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: cyan"><b>8</b></td>
<td>80</td>
<td>78</td>
<td>76</td>
<td>75</td>
<td><b>12</b></td>
<td><b>14</b></td>
<td><b>16</b></td>
<td style="background-color: cyan"><b>10</b>
</td></tr>
<tr>
<td>67</td>
<td style="background-color: cyan"><b>22</b></td>
<td>64</td>
<td>62</td>
<td>61</td>
<td><b>26</b></td>
<td><b>28</b></td>
<td style="background-color: cyan"><b>24</b></td>
<td><b>15</b>
</td></tr>
<tr>
<td>69</td>
<td>55</td>
<td style="background-color: cyan"><b>32</b></td>
<td>52</td>
<td>51</td>
<td><b>36</b></td>
<td style="background-color: cyan"><b>34</b></td>
<td><b>27</b></td>
<td><b>13</b>
</td></tr>
<tr>
<td>71</td>
<td>57</td>
<td>47</td>
<td style="background-color: cyan"><b>38</b></td>
<td>45</td>
<td style="background-color: cyan"><b>40</b></td>
<td><b>35</b></td>
<td><b>25</b></td>
<td><b>11</b>
</td></tr>
<tr>
<td>73</td>
<td>59</td>
<td>49</td>
<td>43</td>
<td style="background-color: pink"><b>41</b></td>
<td style="background-color: yellow"><b>39</b></td>
<td style="background-color: yellow"><b>33</b></td>
<td style="background-color: yellow"><b>23</b></td>
<td style="background-color: yellow"><b>9</b>
</td></tr>
<tr>
<td><b>5</b></td>
<td><b>19</b></td>
<td><b>29</b></td>
<td>42</td>
<td style="background-color: yellow"><b>37</b></td>
<td>44</td>
<td>53</td>
<td>63</td>
<td>77
</td></tr>
<tr>
<td><b>3</b></td>
<td><b>17</b></td>
<td>48</td>
<td><b>30</b></td>
<td style="background-color: yellow"><b>31</b></td>
<td>46</td>
<td>50</td>
<td>65</td>
<td>79
</td></tr>
<tr>
<td><b>1</b></td>
<td>58</td>
<td><b>18</b></td>
<td><b>20</b></td>
<td style="background-color: yellow"><b>21</b></td>
<td>56</td>
<td>54</td>
<td>60</td>
<td>81
</td></tr>
<tr>
<td>72</td>
<td><b>2</b></td>
<td><b>4</b></td>
<td><b>6</b></td>
<td style="background-color: yellow"><b>7</b></td>
<td>70</td>
<td>68</td>
<td>66</td>
<td>74
</td></tr></tbody></table>
<p><b>Doubly even order</b>: The following is the method given by al-Antaki. Consider an empty border of order <i>n</i> = 4<i>k</i> with <i>k</i> ≥ 3. The peculiarity of this algorithm is that the adjacent corner cells are occupied by numbers <i>n</i> and <i>n - 1</i>.
</p><p>Starting at the upper left corner cell, we put the successive numbers by groups of four, the first one next to the corner, the second and the third on the bottom, and the fourth at the top, and so on until there remains in the top row (excluding the corners) six empty cells. We then write the next two numbers above and the next four below. We then fill the upper corners, first left then right. We place the next number below the upper right corner in the right column, the next number on the other side in the left column. We then resume placing groups of four consecutive numbers in the two columns as before. Once half of the border cells are filled, the other half are filled by numbers complementary to opposite cells.
</p><p>The example below gives the border for order 16 square.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:38em;height:38em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: cyan"><b>15</b></td>
<td><b>1</b></td>
<td>255</td>
<td>254</td>
<td><b>4</b></td>
<td><b>5</b></td>
<td>251</td>
<td>250</td>
<td><b>8</b></td>
<td style="background-color: pink"><b>9</b></td>
<td style="background-color: pink"><b>10</b></td>
<td>246</td>
<td>245</td>
<td>244</td>
<td>243</td>
<td style="background-color: cyan"><b>16</b>
</td></tr>
<tr>
<td>240</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td style="background-color: yellow"><b>17</b>
</td></tr>
<tr>
<td style="background-color: yellow"><b>18</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>239
</td></tr>
<tr>
<td><b>19</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>238
</td></tr>
<tr>
<td>237</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>20</b>
</td></tr>
<tr>
<td>236</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>21</b>
</td></tr>
<tr>
<td><b>22</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>235
</td></tr>
<tr>
<td><b>23</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>234
</td></tr>
<tr>
<td>233</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>24</b>
</td></tr>
<tr>
<td>232</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>25</b>
</td></tr>
<tr>
<td><b>26</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>231
</td></tr>
<tr>
<td><b>27</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>230
</td></tr>
<tr>
<td>229</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>28</b>
</td></tr>
<tr>
<td>228</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>29</b>
</td></tr>
<tr>
<td><b>30</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>227
</td></tr>
<tr>
<td>241</td>
<td>256</td>
<td><b>2</b></td>
<td><b>3</b></td>
<td>253</td>
<td>252</td>
<td><b>6</b></td>
<td><b>7</b></td>
<td>249</td>
<td>248</td>
<td>247</td>
<td style="background-color: pink"><b>11</b></td>
<td style="background-color: pink"><b>12</b></td>
<td style="background-color: pink"><b>13</b></td>
<td style="background-color: pink"><b>14</b></td>
<td>242
</td></tr></tbody></table>
<p>For order 8 square, we just begin directly with the six cells.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:16em;height:16em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: cyan"><b>7</b></td>
<td style="background-color: pink"><b>1</b></td>
<td style="background-color: pink"><b>2</b></td>
<td>62</td>
<td>61</td>
<td>60</td>
<td>59</td>
<td style="background-color: cyan"><b>8</b>
</td></tr>
<tr>
<td>56</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>9</b>
</td></tr>
<tr>
<td><b>10</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>55
</td></tr>
<tr>
<td><b>11</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>54
</td></tr>
<tr>
<td>53</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>12</b>
</td></tr>
<tr>
<td>52</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>13</b>
</td></tr>
<tr>
<td><b>14</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>51
</td></tr>
<tr>
<td>57</td>
<td>64</td>
<td>63</td>
<td style="background-color: pink"><b>3</b></td>
<td style="background-color: pink"><b>4</b></td>
<td style="background-color: pink"><b>5</b></td>
<td style="background-color: pink"><b>6</b></td>
<td>58
</td></tr></tbody></table>
<p><b>Singly even order</b>: For singly even order, we have the algorithm given by al-Antaki. Here the corner cells are occupied by <i>n</i> and <i>n</i> - 1. Below is an example of 10th-order square.
</p><p>Start by placing 1 at the bottom row next to the left corner cell, then place 2 in the top row. After this, place 3 at the bottom row and turn around the border in anti-clockwise direction placing the next numbers, until <i>n</i> - 2 is reached on the right column. The next two numbers are placed in the upper corners (<i>n</i> - 1 in upper left corner and <i>n</i> in upper right corner). Then, the next two numbers are placed on the left column, then we resume the cyclic placement of the numbers until half of all the border cells are filled. Once half of the border cells are filled, the other half are filled by numbers complementary to opposite cells.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:22em;height:22em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: cyan"><b>9</b></td>
<td>100</td>
<td style="background-color: pink"><b>2</b></td>
<td>98</td>
<td><b>5</b></td>
<td>94</td>
<td>88</td>
<td><b>15</b></td>
<td>84</td>
<td style="background-color: cyan"><b>10</b>
</td></tr>
<tr>
<td>83</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>18</b>
</td></tr>
<tr>
<td><b>16</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>85
</td></tr>
<tr>
<td>87</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>14</b>
</td></tr>
<tr>
<td style="background-color: yellow"><b>12</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>89
</td></tr>
<tr>
<td style="background-color: yellow"><b>11</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>90
</td></tr>
<tr>
<td>93</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td style="background-color: yellow"><b>8</b>
</td></tr>
<tr>
<td><b>6</b></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>95
</td></tr>
<tr>
<td>97</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><b>4</b>
</td></tr>
<tr>
<td>91</td>
<td style="background-color: pink"><b>1</b></td>
<td>99</td>
<td><b>3</b></td>
<td>96</td>
<td><b>7</b></td>
<td><b>13</b></td>
<td>86</td>
<td><b>17</b></td>
<td>92
</td></tr></tbody></table>
<h2>Method of composition</h2>
<h3>For squares of doubly even order</h3>
<p>When the squares are of doubly even order, we can construct a composite magic square in a manner more elegant than the above process, in the sense that every magic subsquare will have the same magic constant. Let <i>n</i> be the order of the main square and <i>m</i> the order of the equal subsquares. The subsquares are filled one by one, in any order, with a continuous sequence of <i>m</i><sup>2</sup>/2 smaller numbers (i.e. numbers less than or equal to <i>n</i><sup>2</sup>/2) together with their complements to <i>n</i><sup>2</sup> + 1. Each subsquare as a whole will yield the same magic sum. The advantage of this type of composite square is that each subsquare is filled in the same way and their arrangement is arbitrary. Thus, the knowledge of a single construction of even order will suffice to fill the whole square. Furthermore, if the subsquares are filled in the natural sequence, then the resulting square will be pandiagonal. The magic sum of the subsquares is related to the magic sum of the whole square by <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle M_{m}={\frac {M_{n}}{k}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>M</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>m</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <msub>
              <mi>M</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>n</mi>
              </mrow>
            </msub>
            <mi>k</mi>
          </mfrac>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle M_{m}={\frac {M_{n}}{k}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/76abfc2662d1cd03efc8de96d7a02da90c8136e4" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.005ex; width:11.336ex; height:5.343ex;" alt="{\displaystyle M_{m}={\frac {M_{n}}{k}}}"></span> where <i>n</i> = <i>km</i>.
</p><p>In the examples below, we have divided the order 12 square into nine subsquares of order 4 filled each with eight smaller numbers and, in the corresponding bishop's cells (two cells diagonally across, including wrap arounds, in the 4×4 subsquare), their complements to <i>n</i><sup>2</sup> + 1 = 145. Each subsquare is pandiagonal with magic constant 290; while the whole square on the left is also pandiagonal with magic constant 870.
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:30em;height:30em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;"><b>1</b></td>
<td style="background-color: silver;">142</td>
<td style="background-color: silver;">139</td>
<td style="background-color: silver;"><b>8</b></td>
<td><b>9</b></td>
<td>134</td>
<td>131</td>
<td><b>16</b></td>
<td style="background-color: silver;"><b>17</b></td>
<td style="background-color: silver;">126</td>
<td style="background-color: silver;">123</td>
<td style="background-color: silver;"><b>24</b>
</td></tr>
<tr>
<td style="background-color: silver;">140</td>
<td style="background-color: silver;"><b>7</b></td>
<td style="background-color: silver;"><b>2</b></td>
<td style="background-color: silver;">141</td>
<td>132</td>
<td><b>15</b></td>
<td><b>10</b></td>
<td>133</td>
<td style="background-color: silver;">124</td>
<td style="background-color: silver;"><b>23</b></td>
<td style="background-color: silver;"><b>18</b></td>
<td style="background-color: silver;">125
</td></tr>
<tr>
<td style="background-color: silver;"><b>6</b></td>
<td style="background-color: silver;">137</td>
<td style="background-color: silver;">144</td>
<td style="background-color: silver;"><b>3</b></td>
<td><b>14</b></td>
<td>129</td>
<td>136</td>
<td><b>11</b></td>
<td style="background-color: silver;"><b>22</b></td>
<td style="background-color: silver;">121</td>
<td style="background-color: silver;">128</td>
<td style="background-color: silver;"><b>19</b>
</td></tr>
<tr>
<td style="background-color: silver;">143</td>
<td style="background-color: silver;"><b>4</b></td>
<td style="background-color: silver;"><b>5</b></td>
<td style="background-color: silver;">138</td>
<td>135</td>
<td><b>12</b></td>
<td><b>13</b></td>
<td>130</td>
<td style="background-color: silver;">127</td>
<td style="background-color: silver;"><b>20</b></td>
<td style="background-color: silver;"><b>21</b></td>
<td style="background-color: silver;">122
</td></tr>
<tr>
<td><b>25</b></td>
<td>118</td>
<td>115</td>
<td><b>32</b></td>
<td style="background-color: silver;"><b>33</b></td>
<td style="background-color: silver;">110</td>
<td style="background-color: silver;">107</td>
<td style="background-color: silver;"><b>40</b></td>
<td><b>41</b></td>
<td>102</td>
<td>99</td>
<td><b>48</b>
</td></tr>
<tr>
<td>116</td>
<td><b>31</b></td>
<td><b>26</b></td>
<td>117</td>
<td style="background-color: silver;">108</td>
<td style="background-color: silver;"><b>39</b></td>
<td style="background-color: silver;"><b>34</b></td>
<td style="background-color: silver;">109</td>
<td>100</td>
<td><b>47</b></td>
<td><b>42</b></td>
<td>101
</td></tr>
<tr>
<td><b>30</b></td>
<td>113</td>
<td>120</td>
<td><b>27</b></td>
<td style="background-color: silver;"><b>38</b></td>
<td style="background-color: silver;">105</td>
<td style="background-color: silver;">112</td>
<td style="background-color: silver;"><b>35</b></td>
<td><b>46</b></td>
<td>97</td>
<td>104</td>
<td><b>43</b>
</td></tr>
<tr>
<td>119</td>
<td><b>28</b></td>
<td><b>29</b></td>
<td>114</td>
<td style="background-color: silver;">111</td>
<td style="background-color: silver;"><b>36</b></td>
<td style="background-color: silver;"><b>37</b></td>
<td style="background-color: silver;">106</td>
<td>103</td>
<td><b>44</b></td>
<td><b>45</b></td>
<td>98
</td></tr>
<tr>
<td style="background-color: silver;"><b>49</b></td>
<td style="background-color: silver;">94</td>
<td style="background-color: silver;">91</td>
<td style="background-color: silver;"><b>56</b></td>
<td><b>57</b></td>
<td>86</td>
<td>83</td>
<td><b>64</b></td>
<td style="background-color: silver;"><b>65</b></td>
<td style="background-color: silver;">78</td>
<td style="background-color: silver;">75</td>
<td style="background-color: silver;"><b>72</b>
</td></tr>
<tr>
<td style="background-color: silver;">92</td>
<td style="background-color: silver;"><b>55</b></td>
<td style="background-color: silver;"><b>50</b></td>
<td style="background-color: silver;">93</td>
<td>84</td>
<td><b>63</b></td>
<td><b>58</b></td>
<td>85</td>
<td style="background-color: silver;">76</td>
<td style="background-color: silver;"><b>71</b></td>
<td style="background-color: silver;"><b>66</b></td>
<td style="background-color: silver;">77
</td></tr>
<tr>
<td style="background-color: silver;"><b>54</b></td>
<td style="background-color: silver;">89</td>
<td style="background-color: silver;">96</td>
<td style="background-color: silver;"><b>51</b></td>
<td><b>62</b></td>
<td>81</td>
<td>88</td>
<td><b>59</b></td>
<td style="background-color: silver;"><b>70</b></td>
<td style="background-color: silver;">73</td>
<td style="background-color: silver;">80</td>
<td style="background-color: silver;"><b>67</b>
</td></tr>
<tr>
<td style="background-color: silver;">95</td>
<td style="background-color: silver;"><b>52</b></td>
<td style="background-color: silver;"><b>53</b></td>
<td style="background-color: silver;">90</td>
<td>87</td>
<td><b>60</b></td>
<td><b>61</b></td>
<td>82</td>
<td style="background-color: silver;">79</td>
<td style="background-color: silver;"><b>68</b></td>
<td style="background-color: silver;"><b>69</b></td>
<td style="background-color: silver;">74
</td></tr></tbody></table>
<p><br>
</p>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:30em;height:30em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;"><b>69</b></td>
<td style="background-color: silver;">74</td>
<td style="background-color: silver;">79</td>
<td style="background-color: silver;"><b>68</b></td>
<td><b>29</b></td>
<td>114</td>
<td>119</td>
<td><b>28</b></td>
<td style="background-color: silver;"><b>61</b></td>
<td style="background-color: silver;">82</td>
<td style="background-color: silver;">87</td>
<td style="background-color: silver;"><b>60</b>
</td></tr>
<tr>
<td style="background-color: silver;">75</td>
<td style="background-color: silver;"><b>72</b></td>
<td style="background-color: silver;"><b>65</b></td>
<td style="background-color: silver;">78</td>
<td>115</td>
<td><b>32</b></td>
<td><b>25</b></td>
<td>118</td>
<td style="background-color: silver;">83</td>
<td style="background-color: silver;"><b>64</b></td>
<td style="background-color: silver;"><b>57</b></td>
<td style="background-color: silver;">86
</td></tr>
<tr>
<td style="background-color: silver;"><b>66</b></td>
<td style="background-color: silver;">77</td>
<td style="background-color: silver;">76</td>
<td style="background-color: silver;"><b>71</b></td>
<td><b>26</b></td>
<td>117</td>
<td>116</td>
<td><b>31</b></td>
<td style="background-color: silver;"><b>58</b></td>
<td style="background-color: silver;">85</td>
<td style="background-color: silver;">84</td>
<td style="background-color: silver;"><b>63</b>
</td></tr>
<tr>
<td style="background-color: silver;">80</td>
<td style="background-color: silver;"><b>67</b></td>
<td style="background-color: silver;"><b>70</b></td>
<td style="background-color: silver;">73</td>
<td>120</td>
<td><b>27</b></td>
<td><b>30</b></td>
<td>113</td>
<td style="background-color: silver;">88</td>
<td style="background-color: silver;"><b>59</b></td>
<td style="background-color: silver;"><b>62</b></td>
<td style="background-color: silver;">81
</td></tr>
<tr>
<td><b>21</b></td>
<td>122</td>
<td>127</td>
<td><b>20</b></td>
<td style="background-color: silver;"><b>53</b></td>
<td style="background-color: silver;">90</td>
<td style="background-color: silver;">95</td>
<td style="background-color: silver;"><b>52</b></td>
<td><b>13</b></td>
<td>130</td>
<td>135</td>
<td><b>12</b>
</td></tr>
<tr>
<td>123</td>
<td><b>24</b></td>
<td><b>17</b></td>
<td>126</td>
<td style="background-color: silver;">91</td>
<td style="background-color: silver;"><b>56</b></td>
<td style="background-color: silver;"><b>49</b></td>
<td style="background-color: silver;">94</td>
<td>131</td>
<td><b>16</b></td>
<td><b>9</b></td>
<td>134
</td></tr>
<tr>
<td><b>18</b></td>
<td>125</td>
<td>124</td>
<td><b>23</b></td>
<td style="background-color: silver;"><b>50</b></td>
<td style="background-color: silver;">93</td>
<td style="background-color: silver;">92</td>
<td style="background-color: silver;"><b>55</b></td>
<td><b>10</b></td>
<td>133</td>
<td>132</td>
<td><b>15</b>
</td></tr>
<tr>
<td>128</td>
<td><b>19</b></td>
<td><b>22</b></td>
<td>121</td>
<td style="background-color: silver;">96</td>
<td style="background-color: silver;"><b>51</b></td>
<td style="background-color: silver;"><b>54</b></td>
<td style="background-color: silver;">89</td>
<td>136</td>
<td><b>11</b></td>
<td><b>14</b></td>
<td>129
</td></tr>
<tr>
<td style="background-color: silver;"><b>45</b></td>
<td style="background-color: silver;">98</td>
<td style="background-color: silver;">103</td>
<td style="background-color: silver;"><b>44</b></td>
<td><b>5</b></td>
<td>138</td>
<td>143</td>
<td><b>4</b></td>
<td style="background-color: silver;"><b>37</b></td>
<td style="background-color: silver;">106</td>
<td style="background-color: silver;">111</td>
<td style="background-color: silver;"><b>36</b>
</td></tr>
<tr>
<td style="background-color: silver;">99</td>
<td style="background-color: silver;"><b>48</b></td>
<td style="background-color: silver;"><b>41</b></td>
<td style="background-color: silver;">102</td>
<td>139</td>
<td><b>8</b></td>
<td><b>1</b></td>
<td>142</td>
<td style="background-color: silver;">107</td>
<td style="background-color: silver;"><b>40</b></td>
<td style="background-color: silver;"><b>33</b></td>
<td style="background-color: silver;">110
</td></tr>
<tr>
<td style="background-color: silver;"><b>42</b></td>
<td style="background-color: silver;">101</td>
<td style="background-color: silver;">100</td>
<td style="background-color: silver;"><b>47</b></td>
<td><b>2</b></td>
<td>141</td>
<td>140</td>
<td><b>7</b></td>
<td style="background-color: silver;"><b>34</b></td>
<td style="background-color: silver;">109</td>
<td style="background-color: silver;">108</td>
<td style="background-color: silver;"><b>39</b>
</td></tr>
<tr>
<td style="background-color: silver;">104</td>
<td style="background-color: silver;"><b>43</b></td>
<td style="background-color: silver;"><b>46</b></td>
<td style="background-color: silver;">97</td>
<td>144</td>
<td><b>3</b></td>
<td><b>6</b></td>
<td>137</td>
<td style="background-color: silver;">112</td>
<td style="background-color: silver;"><b>35</b></td>
<td style="background-color: silver;"><b>38</b></td>
<td style="background-color: silver;">105
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<p>In another example below, we have divided the order 12 square into four order 6 squares. Each of the order 6 squares are filled with eighteen small numbers and their complements using bordering technique given by al-Antaki. If we remove the shaded borders of the order 6 subsquares and form an order 8 square, then this order 8 square is again a magic square. In its full generality, we can take any <i>m</i><sup>2</sup>/2 smaller numbers together with their complements to <i>n</i><sup>2</sup> + 1 to fill the subsquares, not necessarily in continuous sequence.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:30em;height:30em;table-layout:fixed;">

<tbody><tr>
<td style="background-color: silver;"><b>60</b></td>
<td style="background-color: silver;">82</td>
<td style="background-color: silver;">88</td>
<td style="background-color: silver;"><b>56</b></td>
<td style="background-color: silver;">90</td>
<td style="border-right:solid; background-color: silver;"><b>59</b></td>
<td style="background-color: silver;"><b>24</b></td>
<td style="background-color: silver;">118</td>
<td style="background-color: silver;">124</td>
<td style="background-color: silver;"><b>20</b></td>
<td style="background-color: silver;">126</td>
<td style="background-color: silver;"><b>23</b>
</td></tr>
<tr>
<td style="background-color: silver;"><b>64</b></td>
<td><b>69</b></td>
<td>74</td>
<td>79</td>
<td><b>68</b></td>
<td style="border-right:solid; background-color: silver;">81</td>
<td style="background-color: silver;"><b>28</b></td>
<td><b>33</b></td>
<td>110</td>
<td>115</td>
<td><b>32</b></td>
<td style="background-color: silver;">117
</td></tr>
<tr>
<td style="background-color: silver;">83</td>
<td>75</td>
<td><b>72</b></td>
<td><b>65</b></td>
<td>78</td>
<td style="border-right:solid; background-color: silver;"><b>62</b></td>
<td style="background-color: silver;">119</td>
<td>111</td>
<td><b>36</b></td>
<td><b>29</b></td>
<td>114</td>
<td style="background-color: silver;"><b>26</b>
</td></tr>
<tr>
<td style="background-color: silver;">84</td>
<td><b>66</b></td>
<td>77</td>
<td>76</td>
<td><b>71</b></td>
<td style="border-right:solid; background-color: silver;"><b>61</b></td>
<td style="background-color: silver;">120</td>
<td><b>30</b></td>
<td>113</td>
<td>112</td>
<td><b>35</b></td>
<td style="background-color: silver;"><b>25</b>
</td></tr>
<tr>
<td style="background-color: silver;"><b>58</b></td>
<td>80</td>
<td><b>67</b></td>
<td><b>70</b></td>
<td>73</td>
<td style="border-right:solid; background-color: silver;">87</td>
<td style="background-color: silver;"><b>22</b></td>
<td>116</td>
<td><b>31</b></td>
<td><b>34</b></td>
<td>109</td>
<td style="background-color: silver;">123
</td></tr>
<tr>
<td style="border-bottom:solid; background-color: silver;">86</td>
<td style="border-bottom:solid; background-color: silver;"><b>63</b></td>
<td style="border-bottom:solid; background-color: silver;"><b>57</b></td>
<td style="border-bottom:solid; background-color: silver;">89</td>
<td style="border-bottom:solid; background-color: silver;"><b>55</b></td>
<td style="border-right:solid; border-bottom:solid; background-color: silver;">85</td>
<td style="border-bottom:solid; background-color: silver;">122</td>
<td style="border-bottom:solid; background-color: silver;"><b>27</b></td>
<td style="border-bottom:solid; background-color: silver;"><b>21</b></td>
<td style="border-bottom:solid; background-color: silver;">125</td>
<td style="border-bottom:solid; background-color: silver;"><b>19</b></td>
<td style="border-bottom:solid; background-color: silver;">121
</td></tr>
<tr>
<td style="background-color: silver;"><b>6</b></td>
<td style="background-color: silver;">136</td>
<td style="background-color: silver;">142</td>
<td style="background-color: silver;"><b>2</b></td>
<td style="background-color: silver;">144</td>
<td style="border-right:solid; background-color: silver;"><b>5</b></td>
<td style="background-color: silver;"><b>42</b></td>
<td style="background-color: silver;">100</td>
<td style="background-color: silver;">106</td>
<td style="background-color: silver;"><b>38</b></td>
<td style="background-color: silver;">108</td>
<td style="background-color: silver;"><b>41</b>
</td></tr>
<tr>
<td style="background-color: silver;"><b>10</b></td>
<td><b>15</b></td>
<td>128</td>
<td>133</td>
<td><b>14</b></td>
<td style="border-right:solid; background-color: silver;">135</td>
<td style="background-color: silver;"><b>46</b></td>
<td><b>51</b></td>
<td>92</td>
<td>97</td>
<td><b>50</b></td>
<td style="background-color: silver;">99
</td></tr>
<tr>
<td style="background-color: silver;">137</td>
<td>129</td>
<td><b>18</b></td>
<td><b>11</b></td>
<td>132</td>
<td style="border-right:solid; background-color: silver;"><b>8</b></td>
<td style="background-color: silver;">101</td>
<td>93</td>
<td><b>54</b></td>
<td><b>47</b></td>
<td>96</td>
<td style="background-color: silver;"><b>44</b>
</td></tr>
<tr>
<td style="background-color: silver;">138</td>
<td><b>12</b></td>
<td>131</td>
<td>130</td>
<td><b>17</b></td>
<td style="border-right:solid; background-color: silver;"><b>7</b></td>
<td style="background-color: silver;">102</td>
<td><b>48</b></td>
<td>95</td>
<td>94</td>
<td><b>53</b></td>
<td style="background-color: silver;"><b>43</b>
</td></tr>
<tr>
<td style="background-color: silver;"><b>4</b></td>
<td>134</td>
<td><b>13</b></td>
<td><b>16</b></td>
<td>127</td>
<td style="border-right:solid; background-color: silver;">141</td>
<td style="background-color: silver;"><b>40</b></td>
<td>98</td>
<td><b>49</b></td>
<td><b>52</b></td>
<td><b>91</b></td>
<td style="background-color: silver;">105
</td></tr>
<tr>
<td style="background-color: silver;">140</td>
<td style="background-color: silver;"><b>9</b></td>
<td style="background-color: silver;"><b>3</b></td>
<td style="background-color: silver;">143</td>
<td style="background-color: silver;"><b>1</b></td>
<td style="border-right:solid; background-color: silver;">139</td>
<td style="background-color: silver;">104</td>
<td style="background-color: silver;"><b>45</b></td>
<td style="background-color: silver;"><b>39</b></td>
<td style="background-color: silver;">107</td>
<td style="background-color: silver;"><b>37</b></td>
<td style="background-color: silver;">103
</td></tr></tbody></table>
<h2>Solving partially completed magic squares</h2>
<p>Solving partially completed magic squares is a popular mathematical pastime. The techniques needed are similar to those used in <span class="hyperlink-click" data-id="643947398">Sudoku</span> or <span class="hyperlink-click" data-id="643947399">KenKen</span> puzzles, and involve deducing the values of unfilled squares using logic and <span class="hyperlink-click" data-id="643947400">permutation group theory</span> (Sudoku grids are <i>not</i> magic squares but are based on a related idea called <span class="hyperlink-click" data-id="643947393">Graeco-Latin squares</span>).
</p>
<h2>Variations of the magic square</h2>
<h3>Extra constraints</h3>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Ramanujan%27s_magic_square.jpg/220px-Ramanujan%27s_magic_square.jpg" decoding="async" width="220" height="486" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/b/bd/Ramanujan%27s_magic_square.jpg 1.5x" data-file-width="232" data-file-height="513"> <div class="thumbcaption"><div class="magnify"> </div>Ramanujan's magic square</div></div></div>
<p>Certain extra restrictions can be imposed on magic squares.
</p><p>If raising each number to the <i>n</i>th power yields another magic square, the result is a bimagic (n = 2), a trimagic (n = 3), or, in general, a <span class="hyperlink-click" data-id="643947376">multimagic square</span>.
</p><p>A magic square in which the number of letters in the name of each number in the square generates another magic square is called an <span class="hyperlink-click" data-id="643947403">alphamagic square</span>.
</p><p>There are magic squares consisting entirely of primes. Rudolf Ondrejka (1928–2001) discovered the following 3×3 magic square of <span class="hyperlink-click" data-id="643947404">primes</span>, in this case nine <span class="hyperlink-click" data-id="643947405">Chen primes</span>:
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:7em;height:7em;table-layout:fixed;">

<tbody><tr>
<td>17</td>
<td>89</td>
<td>71
</td></tr>
<tr>
<td>113</td>
<td>59</td>
<td>5
</td></tr>
<tr>
<td>47</td>
<td>29</td>
<td>101
</td></tr></tbody></table>
<p>The <span class="hyperlink-click" data-id="643947406">Green–Tao theorem</span> implies that there are arbitrarily large magic squares consisting of primes.
</p><p>The following "reversible magic square" has a magic constant of 264 both upside down and right way up:
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">
<tbody><tr>
<td>96</td>
<td>11</td>
<td>89</td>
<td>68
</td></tr>
<tr>
<td>88</td>
<td>69</td>
<td>91</td>
<td>16
</td></tr>
<tr>
<td>61</td>
<td>86</td>
<td>18</td>
<td>99
</td></tr>
<tr>
<td>19</td>
<td>98</td>
<td>66</td>
<td>81
</td></tr></tbody></table>
<p>When the extra constraint is to display some date, especially a birth date, then such magic squares are called birthday magic square. An early instance of such birthday magic square was created by <span class="hyperlink-click" data-id="643947407">Srinivasa Ramanujan</span>. He created a 4×4 square in which he entered his date of birth in DD-MM-CC-YY format in the top row and the magic happened with additions and subtractions of numbers in squares. Not only do the rows, columns, and diagonals add up to the same number, but the four corners, the four middle squares (17, 9, 24, 89), the first and last rows two middle numbers (12, 18, 86, 23), and the first and last columns two middle numbers (88, 10, 25, 16) all add up to the sum of 139.
</p>
<h3>Multiplicative magic squares</h3>
<p>Instead of <i>adding</i> the numbers in each row, column and diagonal, one can apply some other operation. For example, a multiplicative magic square has a constant <i>product</i> of numbers. A multiplicative magic square can be derived from an additive magic square by raising 2 (or any other integer) to the power of each element, because the <span class="hyperlink-click" data-id="643947408">logarithm</span> of the product of 2 numbers is the sum of logarithm of each. Alternatively, if any 3 numbers in a line are 2<sup><i>a</i></sup>, 2<sup><i>b</i></sup> and 2<sup><i>c</i></sup>, their product is 2<sup><i>a</i>+<i>b</i>+<i>c</i></sup>, which is constant if <i>a</i>+<i>b</i>+<i>c</i> is constant, as they would be if <i>a</i>, <i>b</i> and <i>c</i> were taken from ordinary (additive) magic square. For example, the original Lo-Shu magic square becomes:
</p>
<table class="wikitable" style="margin:0.5em auto;text-align:center;width:9em;height:9em;table-layout:fixed;">

<caption><i>M</i> = 32768
</caption>
<tbody><tr>
<td>16</td>
<td>512</td>
<td>4
</td></tr>
<tr>
<td>8</td>
<td>32</td>
<td>128
</td></tr>
<tr>
<td>256</td>
<td>2</td>
<td>64
</td></tr></tbody></table>
<p>Other examples of multiplicative magic squares include:
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:6em;height:6em;table-layout:fixed;">

<caption><i>M</i> = 216
</caption>
<tbody><tr>
<td>2</td>
<td>9</td>
<td>12
</td></tr>
<tr>
<td>36</td>
<td>6</td>
<td>1
</td></tr>
<tr>
<td>3</td>
<td>4</td>
<td>18
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:8em;table-layout:fixed;">

<caption><i>M</i> = 6720
</caption>
<tbody><tr>
<td>1</td>
<td>6</td>
<td>20</td>
<td>56
</td></tr>
<tr>
<td>40</td>
<td>28</td>
<td>2</td>
<td>3
</td></tr>
<tr>
<td>14</td>
<td>5</td>
<td>24</td>
<td>4
</td></tr>
<tr>
<td>12</td>
<td>8</td>
<td>7</td>
<td>10
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:18em;height:12em;table-layout:fixed;">

<caption><i>M</i> = 6,227,020,800
</caption>
<tbody><tr>
<td>27</td>
<td>50</td>
<td>66</td>
<td>84</td>
<td>13</td>
<td>2</td>
<td>32
</td></tr>
<tr>
<td>24</td>
<td>52</td>
<td>3</td>
<td>40</td>
<td>54</td>
<td>70</td>
<td>11
</td></tr>
<tr>
<td>56</td>
<td>9</td>
<td>20</td>
<td>44</td>
<td>36</td>
<td>65</td>
<td>6
</td></tr>
<tr>
<td>55</td>
<td>72</td>
<td>91</td>
<td>1</td>
<td>16</td>
<td>36</td>
<td>30
</td></tr>
<tr>
<td>4</td>
<td>24</td>
<td>45</td>
<td>60</td>
<td>77</td>
<td>12</td>
<td>26
</td></tr>
<tr>
<td>10</td>
<td>22</td>
<td>48</td>
<td>39</td>
<td>5</td>
<td>48</td>
<td>63
</td></tr>
<tr>
<td>78</td>
<td>7</td>
<td>8</td>
<td>18</td>
<td>40</td>
<td>33</td>
<td>60
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<h3>Multiplicative magic squares</h3>
<p>Still using Ali Skalli 's non iterative method, it is possible to produce an infinity of multiplicative magic squares of <span class="hyperlink-click" data-id="643947409">complex numbers</span> belonging to <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle \mathbb {C} }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">C</mi>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mathbb {C} }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f9add4085095b9b6d28d045fd9c92c2c09f549a7" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.678ex; height:2.176ex;" alt="\mathbb {C} "></span> set. On the example below, the real and imaginary parts are integer numbers, but they can also belong to the entire set of real numbers <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\displaystyle \mathbb {R} }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">R</mi>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mathbb {R} }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/786849c765da7a84dbc3cce43e96aad58a5868dc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.678ex; height:2.176ex;" alt="\mathbb {R} "></span>.
The product is: <b>−352,507,340,640 − 400,599,719,520 <i>i</i></b>.
</p>
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:left;">
<caption>Skalli multiplicative 7×7 of <span class="hyperlink-click" data-id="643947409">complex numbers</span>
</caption>
<tbody><tr>
<td style="text-align:right;border-right:none;padding-right:0;">21</td>
<td style="border-left:none;padding-left:0;">+14<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−70</td>
<td style="border-left:none;padding-left:0;">+30<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−93</td>
<td style="border-left:none;padding-left:0;">−9<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−105</td>
<td style="border-left:none;padding-left:0;">−217<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">16</td>
<td style="border-left:none;padding-left:0;">+50<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">4</td>
<td style="border-left:none;padding-left:0;">−14<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">14</td>
<td style="border-left:none;padding-left:0;">−8<i>i</i>
</td></tr>
<tr>
<td style="text-align:right;border-right:none;padding-right:0;">63</td>
<td style="border-left:none;padding-left:0;">−35<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">28</td>
<td style="border-left:none;padding-left:0;">+114<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;"></td>
<td style="border-left:none;padding-left:0;">−14<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">2</td>
<td style="border-left:none;padding-left:0;">+6<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">3</td>
<td style="border-left:none;padding-left:0;">−11<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">211</td>
<td style="border-left:none;padding-left:0;">+357<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−123</td>
<td style="border-left:none;padding-left:0;">−87<i>i</i>
</td></tr>
<tr>
<td style="text-align:right;border-right:none;padding-right:0;">31</td>
<td style="border-left:none;padding-left:0;">−15<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">13</td>
<td style="border-left:none;padding-left:0;">−13<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−103</td>
<td style="border-left:none;padding-left:0;">+69<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−261</td>
<td style="border-left:none;padding-left:0;">−213<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">49</td>
<td style="border-left:none;padding-left:0;">−49<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−46</td>
<td style="border-left:none;padding-left:0;">+2<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−6</td>
<td style="border-left:none;padding-left:0;">+2<i>i</i>
</td></tr>
<tr>
<td style="text-align:right;border-right:none;padding-right:0;">102</td>
<td style="border-left:none;padding-left:0;">−84<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−28</td>
<td style="border-left:none;padding-left:0;">−14<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">43</td>
<td style="border-left:none;padding-left:0;">+247<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−10</td>
<td style="border-left:none;padding-left:0;">−2<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">5</td>
<td style="border-left:none;padding-left:0;">+9<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">31</td>
<td style="border-left:none;padding-left:0;">−27<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−77</td>
<td style="border-left:none;padding-left:0;">+91<i>i</i>
</td></tr>
<tr>
<td style="text-align:right;border-right:none;padding-right:0;">−22</td>
<td style="border-left:none;padding-left:0;">−6<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">7</td>
<td style="border-left:none;padding-left:0;">+7<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">8</td>
<td style="border-left:none;padding-left:0;">+14<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">50</td>
<td style="border-left:none;padding-left:0;">+20<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−525</td>
<td style="border-left:none;padding-left:0;">−492<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−28</td>
<td style="border-left:none;padding-left:0;">−42<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−73</td>
<td style="border-left:none;padding-left:0;">+17<i>i</i>
</td></tr>
<tr>
<td style="text-align:right;border-right:none;padding-right:0;">54</td>
<td style="border-left:none;padding-left:0;">+68<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">138</td>
<td style="border-left:none;padding-left:0;">−165<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−56</td>
<td style="border-left:none;padding-left:0;">−98<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−63</td>
<td style="border-left:none;padding-left:0;">+35<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">4</td>
<td style="border-left:none;padding-left:0;">−8<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">2</td>
<td style="border-left:none;padding-left:0;">−4<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">70</td>
<td style="border-left:none;padding-left:0;">−53<i>i</i>
</td></tr>
<tr>
<td style="text-align:right;border-right:none;padding-right:0;">24</td>
<td style="border-left:none;padding-left:0;">+22<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">−46</td>
<td style="border-left:none;padding-left:0;">−16<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">6</td>
<td style="border-left:none;padding-left:0;">−4<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">17</td>
<td style="border-left:none;padding-left:0;">+20<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">110</td>
<td style="border-left:none;padding-left:0;">+160<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">84</td>
<td style="border-left:none;padding-left:0;">−189<i>i</i>
</td>
<td style="text-align:right;border-right:none;padding-right:0;">42</td>
<td style="border-left:none;padding-left:0;">−14<i>i</i>
</td></tr></tbody></table>
<h3>Additive-multiplicative magic and semimagic squares</h3>
<p>Additive-multiplicative magic squares and semimagic squares satisfy properties of both ordinary and multiplicative magic squares and semimagic squares, respectively.
</p>
<table width="100%">
<tbody><tr>
<td valign="top">
<table class="wikitable" style="text-align:center;">
<caption>
First known<br>additive-multiplicative magic square<br>
<style data-mw-deduplicate="TemplateStyles:r886047488">.mw-parser-output .nobold{font-weight:normal}</style><span class="nobold">8×8 found by W. W. Horner in 1955<br>
Sum = 840<br>
Product = <span class="nowrap"><span data-sort-value="7015205806823185600♠"></span>2<span style="margin-left:.25em;">058</span><span style="margin-left:.25em;">068</span><span style="margin-left:.25em;">231</span><span style="margin-left:.25em;">856</span><span style="margin-left:.25em;">000</span></span></span>
</caption>
<tbody><tr>
<td>162</td>
<td>207</td>
<td>51</td>
<td>26</td>
<td>133</td>
<td>120</td>
<td>116</td>
<td>25
</td></tr>
<tr>
<td>105</td>
<td>152</td>
<td>100</td>
<td>29</td>
<td>138</td>
<td>243</td>
<td>39</td>
<td>34
</td></tr>
<tr>
<td>92</td>
<td>27</td>
<td>91</td>
<td>136</td>
<td>45</td>
<td>38</td>
<td>150</td>
<td>261
</td></tr>
<tr>
<td>57</td>
<td>30</td>
<td>174</td>
<td>225</td>
<td>108</td>
<td>23</td>
<td>119</td>
<td>104
</td></tr>
<tr>
<td>58</td>
<td>75</td>
<td>171</td>
<td>90</td>
<td>17</td>
<td>52</td>
<td>216</td>
<td>161
</td></tr>
<tr>
<td>13</td>
<td>68</td>
<td>184</td>
<td>189</td>
<td>50</td>
<td>87</td>
<td>135</td>
<td>114
</td></tr>
<tr>
<td>200</td>
<td>203</td>
<td>15</td>
<td>76</td>
<td>117</td>
<td>102</td>
<td>46</td>
<td>81
</td></tr>
<tr>
<td>153</td>
<td>78</td>
<td>54</td>
<td>69</td>
<td>232</td>
<td>175</td>
<td>19</td>
<td>60
</td></tr></tbody></table>
</td>
<td valign="top">
<table class="wikitable" style="text-align:center;">
<caption>
Smallest known additive-multiplicative semimagic square<br>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r886047488"><span class="nobold">4×4 found by L. Morgenstern in 2007<br>
Sum = 247<br>
Product = <span class="nowrap"><span data-sort-value="7006336960000000000♠"></span>3<span style="margin-left:.25em;">369</span><span style="margin-left:.25em;">600</span></span><br></span>
</caption>
<tbody><tr>
<td>156</td>
<td>18</td>
<td>48</td>
<td>25
</td></tr>
<tr>
<td>30</td>
<td>144</td>
<td>60</td>
<td>13
</td></tr>
<tr>
<td>16</td>
<td>20</td>
<td>130</td>
<td>81
</td></tr>
<tr>
<td>45</td>
<td>65</td>
<td>9</td>
<td>128
</td></tr></tbody></table>
</td></tr></tbody></table>
<p>It is unknown if any additive-multiplicative magic squares smaller than 8×8 exist, but it has been proven that no 3×3 or 4×4 additive-multiplicative magic squares and no 3×3 additive-multiplicative semimagic squares exist.
</p>
<h3>Geometric magic squares</h3>
<div class="thumb tright"><div class="thumbinner" style="width:162px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Geomagic_square_-_Diamonds.jpg/160px-Geomagic_square_-_Diamonds.jpg" decoding="async" width="160" height="158" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Geomagic_square_-_Diamonds.jpg/240px-Geomagic_square_-_Diamonds.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Geomagic_square_-_Diamonds.jpg/320px-Geomagic_square_-_Diamonds.jpg 2x" data-file-width="500" data-file-height="493"> <div class="thumbcaption"><div class="magnify"> </div>A geometric magic square.</div></div></div>
<p>Magic squares may be constructed which contain geometric shapes instead of numbers. Such squares, known as <span class="hyperlink-click" data-id="643947411">geometric magic squares</span>, were invented and named by <span class="hyperlink-click" data-id="643947388">Lee Sallows</span> in 2001.
</p><p>In the example shown the shapes appearing are two dimensional. It was Sallows' discovery that <i>all</i> magic squares are geometric, the numbers that appear in numerical magic squares can be interpreted as a shorthand notation which indicates the lengths of straight line segments that are the geometric 'shapes' occurring in the square. That is, numerical magic squares are that special case of a geometric magic square using one dimensional shapes.
</p>
<h3>Area magic squares</h3>
<div class="thumb tright"><div class="thumbinner" style="width:162px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/17/Trump_Walkington_Taneja_first_linear_area_magic_square_170106.jpg/160px-Trump_Walkington_Taneja_first_linear_area_magic_square_170106.jpg" decoding="async" width="160" height="168" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/17/Trump_Walkington_Taneja_first_linear_area_magic_square_170106.jpg/240px-Trump_Walkington_Taneja_first_linear_area_magic_square_170106.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/17/Trump_Walkington_Taneja_first_linear_area_magic_square_170106.jpg/320px-Trump_Walkington_Taneja_first_linear_area_magic_square_170106.jpg 2x" data-file-width="3976" data-file-height="4168"> <div class="thumbcaption"><div class="magnify"> </div>The first linear area magic square</div></div></div>
<p>In 2017, following initial ideas of William Walkington and Inder Taneja, the first linear area magic square (L-AMS) was constructed by <span class="hyperlink-click" data-id="643947413">Walter Trump</span>.
</p>
<h3>Other magic shapes</h3>
<p>Other two dimensional shapes than squares can be considered. The general case is to consider a design with <i>N</i> parts to be magic if the <i>N</i> parts are labeled with the numbers 1 through <i>N</i> and a number of identical sub-designs give the same sum. Examples include <span class="hyperlink-click" data-id="643947414">magic circles</span>, magic rectangles, <span class="hyperlink-click" data-id="643947415">magic triangles</span> <span class="hyperlink-click" data-id="643947416">magic stars</span>, <span class="hyperlink-click" data-id="643947417">magic hexagons</span>, magic diamonds. Going up in dimension results in magic spheres, magic cylinders, <span class="hyperlink-click" data-id="643947418">magic cubes</span>, magic parallelepiped, magic solids, and other <span class="hyperlink-click" data-id="643947419">magic hypercubes</span>.
</p><p>Possible magic shapes are constrained by the number of equal-sized, equal-sum subsets of the chosen set of labels. For example, if one proposes to form a magic shape labeling the parts with {1, 2, 3, 4}, the sub-designs will have to be labeled with {1,4} and {2,3}.
</p>
<h2>Related problems</h2>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/77/Euler_knight_tour_semimagic_square.svg/220px-Euler_knight_tour_semimagic_square.svg.png" decoding="async" width="220" height="220" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/77/Euler_knight_tour_semimagic_square.svg/330px-Euler_knight_tour_semimagic_square.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/7/77/Euler_knight_tour_semimagic_square.svg/440px-Euler_knight_tour_semimagic_square.svg.png 2x" data-file-width="512" data-file-height="512"> <div class="thumbcaption"><div class="magnify"> </div>Euler's semimagic square (its diagonals do not sum to its magic constant, 260) also forms a <span class="hyperlink-click" data-id="643947420">knight's tour</span></div></div></div>
<h2>Magic squares in occultism</h2>
<p>Magic squares of order 3 through 9, assigned to the seven planets, and described as means to attract the influence of planets and their angels (or demons) during magical practices, can be found in several manuscripts all around Europe starting at least since the 15th century. Among the best known, the <i>Liber de Angelis</i>, a magical handbook written around 1440, is included in Cambridge Univ. Lib. MS Dd.xi.45. The text of the <i>Liber de Angelis</i> is very close to that of <i>De septem quadraturis planetarum seu quadrati magici</i>, another handbook of planetary image magic contained in the Codex 793 of the Biblioteka Jagiellońska (Ms BJ 793). The magical operations involve engraving the appropriate square on a plate made with the metal assigned to the corresponding planet, as well as performing a variety of rituals. For instance, the 3×3 square, that belongs to Saturn, has to be inscribed on a lead plate. It will, in particular, help women during a difficult childbirth.
</p><p>In about 1510 <span class="hyperlink-click" data-id="643947421">Heinrich Cornelius Agrippa</span> wrote <i>De Occulta Philosophia</i>, drawing on the <span class="hyperlink-click" data-id="643947422">Hermetic</span> and <span class="hyperlink-click" data-id="643947423">magical</span> works of <span class="hyperlink-click" data-id="643947424">Marsilio Ficino</span> and Pico della Mirandola. In its 1531 edition, he expounded on the magical virtues of the seven magical squares of orders 3 to 9, each associated with one of the <span class="hyperlink-click" data-id="643947425">astrological</span> planets, much in the same way as the older texts did. This book was very influential throughout Europe until the <span class="hyperlink-click" data-id="643947426">counter-reformation</span>, and Agrippa's magic squares, sometimes called kameas, continue to be used within modern ceremonial magic in much the same way as he first prescribed.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/en/thumb/d/db/Hagiel_sigil_derivation.svg/220px-Hagiel_sigil_derivation.svg.png" decoding="async" width="220" height="129" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/en/thumb/d/db/Hagiel_sigil_derivation.svg/330px-Hagiel_sigil_derivation.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/d/db/Hagiel_sigil_derivation.svg/440px-Hagiel_sigil_derivation.svg.png 2x" data-file-width="716" data-file-height="420"> <div class="thumbcaption"><div class="magnify"> </div>The derivation of the <span class="hyperlink-click" data-id="643947427">sigil</span> of Hagiel, the planetary intelligence of Venus, drawn on the magic square of Venus. Each <span class="hyperlink-click" data-id="643947428">Hebrew</span> letter provides a numerical value, giving the vertices of the sigil.</div></div></div>
<p>The most common use for these kameas is to provide a pattern upon which to construct the sigils of spirits, <span class="hyperlink-click" data-id="643947429">angels</span> or <span class="hyperlink-click" data-id="643947430">demons</span>; the letters of the entity's name are converted into numbers, and lines are traced through the pattern that these successive numbers make on the kamea.
In a magical context, the term <i>magic square</i> is also applied to a variety of <span class="hyperlink-click" data-id="643947431">word squares</span> or number squares found in magical <span class="hyperlink-click" data-id="643947432">grimoires</span>, including some that do not follow any obvious pattern, and even those with differing numbers of rows and columns. They are generally intended for use as talismans. For instance the following squares are: The Sator square, one of the most famous magic squares found in a number of grimoires including the <i><span class="hyperlink-click" data-id="643947433">Key of Solomon</span></i>; a square "to overcome envy", from <i>The Book of Power</i>; and two squares from <i> The Book of the Sacred Magic of Abramelin the Mage </i>, the first to cause the illusion of a superb palace to appear, and the second to be worn on the head of a child during an angelic <span class="hyperlink-click" data-id="643947434">invocation</span>:
</p>
<div>
<table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto;margin:0.5em auto;">

<tbody><tr>
<td style="text-align: left; vertical-align: bottom;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>S</td>
<td>A</td>
<td>T</td>
<td>O</td>
<td>R
</td></tr>
<tr>
<td>A</td>
<td>R</td>
<td>E</td>
<td>P</td>
<td>O
</td></tr>
<tr>
<td>T</td>
<td>E</td>
<td>N</td>
<td>E</td>
<td>T
</td></tr>
<tr>
<td>O</td>
<td>P</td>
<td>E</td>
<td>R</td>
<td>A
</td></tr>
<tr>
<td>R</td>
<td>O</td>
<td>T</td>
<td>A</td>
<td>S
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:12em;height:8em;table-layout:fixed;">

<tbody><tr>
<td>6</td>
<td>66</td>
<td>848</td>
<td>938
</td></tr>
<tr>
<td>8</td>
<td>11</td>
<td>544</td>
<td>839
</td></tr>
<tr>
<td>1</td>
<td>11</td>
<td>383</td>
<td>839
</td></tr>
<tr>
<td>2</td>
<td>73</td>
<td>774</td>
<td>447
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:10em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>H</td>
<td>E</td>
<td>S</td>
<td>E</td>
<td>B
</td></tr>
<tr>
<td>E</td>
<td>Q</td>
<td>A</td>
<td>L</td>
<td>
</td></tr>
<tr>
<td>S</td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>E</td>
<td></td>
<td>G</td>
<td></td>
<td>
</td></tr>
<tr>
<td>B</td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr></tbody></table>
</td>
<td style="text-align: left; vertical-align: bottom; padding-left: 1em;">
<table class="wikitable" style="margin-left:auto;margin-right:auto;text-align:center;width:8em;height:10em;table-layout:fixed;">

<tbody><tr>
<td>A</td>
<td>D</td>
<td>A</td>
<td>M
</td></tr>
<tr>
<td>D</td>
<td>A</td>
<td>R</td>
<td>A
</td></tr>
<tr>
<td>A</td>
<td>R</td>
<td>A</td>
<td>D
</td></tr>
<tr>
<td>M</td>
<td>A</td>
<td>D</td>
<td>A
</td></tr></tbody></table>
<p> 
</p>
</td></tr></tbody></table></div>
<h2>Magic squares in popular culture</h2>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"> <img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Macau_stamps_featuring_9_magic_squares.jpg/400px-Macau_stamps_featuring_9_magic_squares.jpg" decoding="async" width="400" height="531" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Macau_stamps_featuring_9_magic_squares.jpg/600px-Macau_stamps_featuring_9_magic_squares.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Macau_stamps_featuring_9_magic_squares.jpg/800px-Macau_stamps_featuring_9_magic_squares.jpg 2x" data-file-width="2142" data-file-height="2844"> <div class="thumbcaption"><div class="magnify"> </div>Macau stamps featuring magic squares</div></div></div>
<ul><li>In <span class="hyperlink-click" data-id="643947435">Goethe's Faust</span>, the witch's spell used to make a youth elixir for Faust, the <i> Hexen-Einmal-Eins <span class="noprint" style="font-size:85%; font-style: normal;"> [ de ]</span></i>, has been interpreted as a construction of a magic square.</li>
<li>The English composer <span class="hyperlink-click" data-id="643947436">Peter Maxwell Davies</span> has used magic squares to structure many of his compositions. For example, his 1975 <i>Ave Maris Stella</i> uses the 9×9 magic square of Moon while his 1977 <i>A Mirror of Whitening Light</i> uses the 8×8 magic square of Mercury to create the entire set of notes and durations for the piece. His other works that employ magic squares include <span class="hyperlink-click" data-id="643947437"><i>The Lighthouse</i></span> (1979), <span class="hyperlink-click" data-id="643947438"><i>Resurrection</i></span> (1987), <span class="hyperlink-click" data-id="643947439"><i>Strathclyde Concerto No. 3 for Horn and Trumpet</i></span> (1989), as well as many of his symphonies. According to Davies' own account:</li></ul>
<blockquote> 
<p>A magic square in a musical composition is not a block of numbers – it is a generating principle, to be learned and known intimately, perceived inwardly as a multi-dimensional projection into that vast (chaotic!) area of the internal ear – the space/time crucible – where music is conceived. ... Projected onto the page, a magic square is a dead, black conglomeration of digits; tune in, and one hears a powerful, orbiting dynamo of musical images, glowing with numen and lumen.
</p>
</blockquote>
<ul><li>Magic squares, including <span class="hyperlink-click" data-id="643947338">Benjamin Franklin</span>'s, appear as clues to the mystery in <span class="hyperlink-click" data-id="643947441">Katherine Neville</span>'s novels <i><span class="hyperlink-click" data-id="643947442">The Eight</span></i> and <i><span class="hyperlink-click" data-id="643947443">The Fire</span></i>.</li>
<li>Dürer's magic square and his <i>Melencolia I</i> both also played large roles in <span class="hyperlink-click" data-id="643947444">Dan Brown</span>'s 2009 novel, <i><span class="hyperlink-click" data-id="643947445">The Lost Symbol</span></i>.</li>
<li>In the 2011 Korean television drama <i><span class="hyperlink-click" data-id="643947446">Deep Rooted Tree</span></i>, King Sejong is shown attempting to construct a 33×33 magic square using lunch boxes. He ultimately discovers the "pyramid method" and completes the magic square with the help of an army of court attendants. This inspires him to create a more just form of government ruled by reason and words rather than military might.</li>
<li>On October 9, 2014 the post office of <span class="hyperlink-click" data-id="643947447">Macao</span> in the <span class="hyperlink-click" data-id="643947448">People's Republic of China</span> issued a series of stamps based on magic squares. The figure below shows the stamps featuring the nine magic squares chosen to be in this collection.</li>
<li>The metallic artifact at the center of <i><span class="hyperlink-click" data-id="643947449">The X-Files</span></i> episode "<span class="hyperlink-click" data-id="643947450">Biogenesis</span>" is alleged by Chuck Burks to be a magic square.</li>
<li>Mathematician <span class="hyperlink-click" data-id="643947364">Matt Parker</span> attempted to create a 3×3 magic square using square numbers in a <span class="hyperlink-click" data-id="643947452">YouTube</span> video on the <span class="hyperlink-click" data-id="643947453">Numberphile</span> channel. His failed attempt is known as the <span class="hyperlink-click" data-id="643947363">Parker Square</span>.</li>
<li>The first season <span class="hyperlink-click" data-id="643947455">Stargate Atlantis</span> episode "Brotherhood" involves completing a magic square as part of a puzzle guarding a powerful Ancient artefact.</li>
<li>Magic Squares are also featured in the 2019 Spanish film <span class="hyperlink-click" data-id="643947456"><i>Vivir dos veces</i></span>.</li></ul>
<div style="clear:both;"></div>
</div></div></div></body></html><br>This article uses material from the Wikipedia article <a href="#" class="hyperlink-click-wikipedia-elem">Magic square</a>, which is released under the <a href="#" class="hyperlink-click-wikipedia-licenses">Creative Commons Attribution-Share-Alike License 3.0</a>.<br><br><br>